<!DOCTYPE html>
<html>
  <!-- meta/link... -->
  



<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <!-- Global site tag (gtag.js) - Google Analytics -->


  <title>Learn-SpringCloud | Hexo</title>

  <link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="/favicon.ico">
  <link rel="stylesheet" href="https://at.alicdn.com/t/font_1911880_c1nvbyezg17.css">
  <link href="https://cdn.jsdelivr.net/gh/inkss/fontawesome@5.15.3/css/all.min.css" rel="stylesheet">

  
    <script>
        var themeModelId = '';
        if (themeModelId) {
            localStorage.setItem('modelId', themeModelId);
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/gh/yuang01/live2d-widget@latest/autoload.js"></script>
    <script>
        var live2dOpen = eval('true') || false;
        if (!live2dOpen) {
            localStorage.setItem('waifu-display', 1609323474481);
        }
    </script>
  
  
  
<link rel="stylesheet" href="/css/animate.min.css">

  
<link rel="stylesheet" href="/css/style.css">

  
  
    
<link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css">

  
  
    
<link rel="stylesheet" href="/js/shareJs/share.min.css">

  
  <style>
        @media (max-width: 992px) {
            #waifu {
                display: none;
            }
        }
    </style>
    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">

    

    <!-- import link -->
    
        
            
        
            
        
    
    <!-- import script -->
    
        
            
        
            
        
    

<meta name="generator" content="Hexo 6.0.0"></head>

  
  <!-- ‰æùËµñ‰∫éjqueryÂíåvue -->
  <script src="/js/jquery3.5.1.js"></script>
  <script src="/js/vue2.6.11.js"></script>
  
  <body>
    <!-- È¢ÑÂä†ËΩΩÂä®Áîª -->
    <!-- È°µÈù¢È¢ÑÂä†ËΩΩÂä®Áîª -->

    
    <!-- Âà§Êñ≠ÊòØÂê¶‰∏∫ÊöóÈªëÈ£éÊ†º -->
    <!-- Âà§Êñ≠ÊòØÂê¶‰∏∫ÈªëÂ§úÊ®°Âºè -->
<script>
  let isDark = JSON.parse(localStorage.getItem('dark')) || JSON.parse('false');

  if (isDark) {
    $(document.body).addClass('darkModel');
  }
</script>

    <!-- Â§¥ÈÉ®ÂØºËà™Á≠â -->
    
<header class="header " id="navHeader"
  style="position: fixed;
  left: 0; top: 0; z-index: 10;width: 100%;"
>
  <div class="header-content">
    <div class="bars">
      <div id="appDrawer" class="sidebar-image">
  <div class="drawer-box-icon">
    <i class="fas fa-bars" aria-hidden="true" @click="showDialogDrawer"></i>
  </div>
  
  <transition name="fade">
    <div class="drawer-box_mask" v-cloak style="display: none;" v-show="visible" @click.self="cancelDialogDrawer">
    </div>
  </transition>
  <div class="drawer-box" :class="{'active': visible}">
    <div class="drawer-box-head bg-color">
      <img class="drawer-box-head_logo lazyload placeholder" src="/medias/logo.png" class="lazyload placeholder" data-srcset="/medias/logo.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="logo">
      <h3 class="drawer-box-head_title">Hexo</h3>
      <h5 class="drawer-box-head_desc"></h5>
    </div>
    
    <div class="drawer-box-content">
      <ul class="drawer-box-content_menu">
        
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/" class="drawer-menu-item-link">
                  
                    <i class="fas fa-home" aria-hidden="true"></i>
                  
                  <span class="name">È¶ñÈ°µ</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/archives" class="drawer-menu-item-link">
                  
                    <i class="fas fa-archive" aria-hidden="true"></i>
                  
                  <span class="name">ÂΩíÊ°£</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/tags" class="drawer-menu-item-link">
                  
                    <i class="fas fa-tags" aria-hidden="true"></i>
                  
                  <span class="name">Ê†áÁ≠æ</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/categories" class="drawer-menu-item-link">
                  
                    <i class="fas fa-bookmark" aria-hidden="true"></i>
                  
                  <span class="name">ÂàÜÁ±ª</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/about" class="drawer-menu-item-link">
                  
                    <i class="fas fa-user" aria-hidden="true"></i>
                  
                  <span class="name">ÂÖ≥‰∫é</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="/friends" class="drawer-menu-item-link">
                  
                  <span class="name">ÂèãÊÉÖÈìæÊé•</span>
                </a>
              
            </li>
          
            <li class="drawer-box-content_item" style="position: relative;">
              
                <a href="javascript:;" class="drawer-menu-item-link has-children" @click="openOrCloseMenu(6)">
                  <span>
                    
                    <span class="name">üê±Êõ¥Â§ö</span>
                  </span>
                  <i class="fas fa-chevron-left arrow " :class="{'icon-rotate': isOpen(6)}" aria-hidden="true"></i>
                </a>
                <ul class="drawer-sub-menu" v-if="isOpen(6)">
                  
                  <li>
                    <a href="/gallery">
                      
                      <span>üì∑ÂõæÂ∫ì</span>
                    </a>
                  </li>
                  
                  <li>
                    <a href="/me">
                      
                      <span>üßíüèªÂÖ≥‰∫éÊàë</span>
                    </a>
                  </li>
                  
                </ul>
              
            </li>
          
        
        
          <li class="drawer-box-content_item">
            <a target="_blank" rel="noopener" href="https://github.com/ctrl-github">
              <i class="fas fa-github" aria-hidden="true"></i>
              <span>Github</span>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>

<script>
  var body = document.body || document.documentElement || window;
  var vm = new Vue({
    el: '#appDrawer',
    data: {
      visible: false,
      top: 0,
      openArr: [],
    },
    computed: {
    },
    mounted() {
    },
    methods: {
      isOpen(index) {
        if (this.openArr.includes(index)) {
          return true;
        } else {
          return false;
        }
      },
      openOrCloseMenu(curIndex) {
        const index = this.openArr.indexOf(curIndex);
        if (index !== -1) {
          this.openArr.splice(index, 1);
        } else {
          this.openArr.push(curIndex);
        }
      },
      showDialogDrawer() {
        this.visible = true;
        // Èò≤Ê≠¢È°µÈù¢ÊªöÂä®ÔºåÂè™ËÉΩËÆ©ÂºπÊ°ÜÊªöÂä®
        this.top = $(document).scrollTop()
        body.style.cssText = 'width: 100%; height: 100%;overflow: hidden;';
      },
      cancelDialogDrawer() {
        this.visible = false;
        body.removeAttribute('style');
        $(document).scrollTop(this.top)
      }
    },
    created() {}
  })
</script>

    </div>
    <div class="blog-title" id="author-avatar">
      
        <div class="avatar">
          <img src="/medias/logo.png" class="lazyload placeholder" data-srcset="/medias/logo.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="logo">
        </div>
      
      <a href="/" class="logo">Hexo</a>
    </div>
    <nav class="navbar">
      <ul class="menu">
        
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/" class="menu-item-link" title="È¶ñÈ°µ">
                  
                    <i class="fas fa-home" aria-hidden="true"></i>
                  
                  <span class="name">È¶ñÈ°µ</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/archives" class="menu-item-link" title="ÂΩíÊ°£">
                  
                    <i class="fas fa-archive" aria-hidden="true"></i>
                  
                  <span class="name">ÂΩíÊ°£</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/tags" class="menu-item-link" title="Ê†áÁ≠æ">
                  
                    <i class="fas fa-tags" aria-hidden="true"></i>
                  
                  <span class="name">Ê†áÁ≠æ</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/categories" class="menu-item-link" title="ÂàÜÁ±ª">
                  
                    <i class="fas fa-bookmark" aria-hidden="true"></i>
                  
                  <span class="name">ÂàÜÁ±ª</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/about" class="menu-item-link" title="ÂÖ≥‰∫é">
                  
                    <i class="fas fa-user" aria-hidden="true"></i>
                  
                  <span class="name">ÂÖ≥‰∫é</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="/friends" class="menu-item-link" title="ÂèãÊÉÖÈìæÊé•">
                  
                  <span class="name">ÂèãÊÉÖÈìæÊé•</span>
                </a>
              
            </li>
          
            <li class="menu-item" style="position: relative;">
              
                <a href="javascript:;" class="menu-item-link" title="üê±Êõ¥Â§ö">
                  
                  <span class="name">üê±Êõ¥Â§ö</span>
                  <i class="fas fa-chevron-down arrow" aria-hidden="true"></i>
                </a>
                <ul class="sub-menu">
                  
                  <li>
                    <a href="/gallery">
                      
                      <span>üì∑ÂõæÂ∫ì</span>
                    </a>
                  </li>
                  
                  <li>
                    <a href="/me">
                      
                      <span>üßíüèªÂÖ≥‰∫éÊàë</span>
                    </a>
                  </li>
                  
                </ul>
              
            </li>
          
        
      </ul>
      
      
        <div id="appSearch">
  <div class="search"  @click="showDialog()"><i class="fas fa-search" aria-hidden="true"></i></div>
  <transition name="fade">
    <div class="message-box_wrapper" style="display: none;" v-cloak v-show="dialogVisible" @click.self="cancelDialogVisible()">
      <div class="message-box animated bounceInDown">
        <h2>
          <span>
            <i class="fas fa-search" aria-hidden="true"></i>
            <span class="title">Êú¨Âú∞ÊêúÁ¥¢</span>
          </span>
          <i class="fas fa-times close" pointer style="float:right;" aria-hidden="true" @click.self="cancelDialogVisible()"></i>
        </h2>
        <form class="site-search-form">
          <input type="text"
            placeholder="ËØ∑ËæìÂÖ•ÂÖ≥ÈîÆÂ≠ó"
            id="local-search-input" 
            @click="getSearchFile()"
            class="st-search-input"
            v-model="searchInput"
          />
        </form>
        <div class="result-wrapper">
          <div id="local-search-result" class="local-search-result-cls"></div>
        </div>
      </div>
    </div>
  </transition>
</div>
<script src="/js/local_search.js"></script>
<script>
  var body = document.body || document.documentElement || window;
  var vm = new Vue({
    el: '#appSearch',
    data: {
      dialogVisible: false,
      searchInput: '',
      top: 0,
    },
    computed: {
    },
    mounted() {
      window.addEventListener('pjax:complete', () => {
        this.cancelDialogVisible();
      })
    },
    methods: {
      showDialog() {
        this.dialogVisible = true;
        // Èò≤Ê≠¢È°µÈù¢ÊªöÂä®ÔºåÂè™ËÉΩËÆ©ÂºπÊ°ÜÊªöÂä®
        this.top = $(document).scrollTop()
        body.style.cssText = 'overflow: hidden;';
      },
      getSearchFile() {
        if (!this.searchInput) {
          getSearchFile("/search.xml");
        }
      },
      cancelDialogVisible() {
        this.dialogVisible = false;
        body.removeAttribute('style');
        $(document).scrollTop(this.top)
      },
    },
    created() {}
  })
</script>
<!-- Ëß£ÂÜ≥Âà∑Êñ∞È°µÈù¢Èó™ÁÉÅÈóÆÈ¢òÔºåÂèØ‰ª•Âú®ÂÖÉÁ¥†‰∏äÊ∑ªÂä†display: none, ÊàñËÄÖÁî®vue.extendÊñπÊ≥ïÔºåËØ¶ÊÉÖÔºöhttps://blog.csdn.net/qq_31393401/article/details/81017912 -->
<!-- ‰∏ãÈù¢ÊòØÊêúÁ¥¢Âü∫Êú¨ÂÜôÊ≥ï -->
<!-- <script type="text/javascript" id="local.search.active">
  var inputArea = document.querySelector("#local-search-input");
  inputArea.onclick   = function(){ getSearchFile(); this.onclick = null }
  inputArea.onkeydown = function(){ if(event.keyCode == 13) return false }
</script> -->

      

    </nav>
  </div>
  
    <a target="_blank" rel="noopener" href="https://github.com/ctrl-github" class="github-corner color-primary" aria-label="View source on GitHub"><svg width="60" height="60" viewBox="0 0 250 250" style="fill:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  
  
    <div id="he-plugin-simple"></div>
    <script>
      WIDGET = {
        CONFIG: {
          "modules": "012",
          "background": 5,
          "tmpColor": "4A4A4A",
          "tmpSize": 16,
          "cityColor": "4A4A4A",
          "citySize": 16,
          "aqiSize": 16,
          "weatherIconSize": 24,
          "alertIconSize": 18,
          "padding": "10px 10px 10px 10px",
          "shadow": "1",
          "language": "auto",
          "borderRadius": 5,
          "fixed": "false",
          "vertical": "middle",
          "horizontal": "center",
          "key": "2784dd3fcb1e4f0f9a9b579bf69641f2"
        }
      }
    </script>
    <script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script> 
    

    <!-- ÂΩìÂ§¥ÈÉ®ÂØºËà™ËÆæÁΩÆ‰∏∫ËÉåÊôØÈÄèÊòéÁöÑÊó∂ÂÄô  -->
    
      <script src="/js/header/index.js" data-pjax></script>
    
</header>

    <!-- ÈúÄË¶ÅÂú®‰∏äÈù¢Âä†ËΩΩÁöÑjs -->
    <script>
  function loadScript(src, cb) {
    return new Promise(resolve => {
      setTimeout(function () {
        var HEAD = document.getElementsByTagName("head")[0] || document.documentElement;
        var script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        if (cb) {
          if (JSON.stringify(cb)) {
            for (let p in cb) {
              if (p == "onload") {
                script[p] = () => {
                  cb[p]()
                  resolve()
                }
              } else {
                script[p] = cb[p]
                script.onload = resolve
              }
            }
          } else {
            script.onload = () => {
              cb()
              resolve()
            };
          }
        } else {
          script.onload = resolve
        }
        script.setAttribute("src", src);
        HEAD.appendChild(script);
      });
    });
  }

  //https://github.com/filamentgroup/loadCSS
  var loadCSS = function (href, before, media, attributes) {
    return new Promise(resolve => {
      setTimeout(function () {
        var link = document.createElement('link');
        link.rel = "stylesheet";
        link.href = src;
        link.onload = resolve;
        document.getElementsByTagName("head")[0].appendChild(link);
      });
    });
  };

</script> 

<!-- ËΩÆÊí≠ÂõæÊâÄÈúÄË¶ÅÁöÑjs -->
<script src="/js/swiper/swiper.min.js"></script>
<script src="/js/swiper/vue-awesome-swiper.js"></script>
<script src="/js/swiper/swiper.animate1.0.3.min.js"></script>


  <script src="/js/vue-typed-js/index.js"></script>


<!-- È¶ñÈ°µÁöÑÂÖ¨ÂëäÊªöÂä®Êèí‰ª∂ÁöÑjsÈúÄË¶ÅÈáçÊñ∞Âä†ËΩΩ -->
<script src="/js/vue-seamless-scroll/index.js"></script>

<!-- ÊâìÂ≠óÊú∫ÊïàÊûújs -->
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11"></script>


    <!-- ÂÜÖÂÆπÂå∫Âüü -->
    <div id="safearea">
      <main class="main" id="pjax-container" style="margin-top: 0;">
        
 <!-- prismjs ‰ª£Á†ÅÈ´ò‰∫Æ -->
 
    
    <link href="/js/prism/prism-line-numbers.css" rel="stylesheet">
    
        <link href="/js/prism/prism.min.css" rel="stylesheet">
    

    <style>
        pre[class*="language-"] {
            overflow-y: hidden;
        }
        .line-numbers .line-numbers-rows {
            border: none;
        }
    </style>
  


<div class="bg-dark-floor" style="position: fixed;left: 0;top: 0;width: 100%;height: 100%;z-index: -1;"></div>

<!-- ÊñáÁ´†ËØ¶ÊÉÖÈ°µÈ°∂ÈÉ®ÂõæÁâáÂíåÊ†áÈ¢ò -->




<div class="post-detail-header" id="thumbnail_canvas" style="background-repeat: no-repeat; background-size: cover; 
  background-position: center center;position: relative;background-image:url('/medias/1.jpg')">
  <div class="post-detail-header-mask"></div>
  <canvas id="header_canvas"style="position:absolute;bottom:0;pointer-events:none;"></canvas>
  
  <div class="post-detail-header_info-box">
    <div class="title-box">
      <span class="title">
        Learn-SpringCloud
      </span>
    </div>
    
    
      
        <span class="post-detail-header_date">
          <i class="fas fa-calendar"></i> ÂèëË°®‰∫éÔºö2022-11-22 |
        </span>
      

      
        <span class="post-detail-header_categories">
          <i class="iconfont iconbookmark1"></i> ÂàÜÁ±ªÔºö
          
            <a href="/categories/SpringCloud/" class="post-detail-header_category">
              SpringCloud
            </a>
          
            <a href="/categories/SpringCloud/Spring/" class="post-detail-header_category">
              Spring
            </a>
          
        </span>
      

      
        <div class="post-detail-header_wordcount">
          <span class="totalcount">
            <i class="fas fa-file-text-o"></i> Â≠óÊï∞ÁªüËÆ°: 36.9k |
          </span>
  
          <span class="min2read">
            <i class="fas fa-clock"></i> ÈòÖËØªÊó∂Èïø: 166ÂàÜÈíü |
          </span>
  
          
            <span class="reading">
              <i class="fas fa-eye"></i> ÈòÖËØªÈáèÔºö<span id="busuanzi_value_page_pv"></span>
            </span>
          
        </div>
      
    
  </div>
  
  
    <script src="/js/bubble/bubble.js"></script>
  
</div>



<div class="row justify-position">
  <div class="main-content">
    <article class="post post-detail">
      <div class="post-content">
        <p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-0.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-0.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-1.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-1.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-2.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-2.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h1 id="SpingBoot-Â§ç‰π†"><a href="#SpingBoot-Â§ç‰π†" class="headerlink" title="SpingBoot Â§ç‰π†"></a>SpingBoot Â§ç‰π†</h1><p>maven</p>
<h2 id="‰∏ª-pom-xml"><a href="#‰∏ª-pom-xml" class="headerlink" title="‰∏ª pom.xml"></a>‰∏ª pom.xml</h2><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>


  <span class="token comment">&lt;!-- Áªü‰∏ÄÁÆ°ÁêÜjarÂåÖÁâàÊú¨ --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>junit.version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>junit.version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log4j.version</span><span class="token punctuation">></span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log4j.version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lombok.version</span><span class="token punctuation">></span></span>1.16.18<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lombok.version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">></span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>druid.version</span><span class="token punctuation">></span></span>1.1.16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>druid.version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mybatis.spring.boot.version</span><span class="token punctuation">></span></span>1.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mybatis.spring.boot.version</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!-- Â≠êÊ®°ÂùóÁªßÊâø‰πãÂêéÔºåÊèê‰æõ‰ΩúÁî®ÔºöÈîÅÂÆöÁâàÊú¨+Â≠êmodlue‰∏çÁî®ÂÜôgroupIdÂíåversion  --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
      <span class="token comment">&lt;!--spring boot 2.2.2--></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token comment">&lt;!--spring cloud Hoxton.SR1--></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>Hoxton.SR1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token comment">&lt;!--spring cloud alibaba 2.1.0.RELEASE--></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;mysql.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;druid.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;mybatis.spring.boot.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;junit.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;log4j.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;lombok.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fork</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fork</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>addResources</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>addResources</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>


<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>ÂæÆÊúçÂä°Ê®°Âùó</p>
<p>1„ÄÅÂª∫module</p>
<p>2„ÄÅÊîπpom</p>
<p>3„ÄÅÂÜôYML</p>
<p>4„ÄÅ‰∏ªÂêØÂä®</p>
<p>5„ÄÅ‰∏öÂä°Á±ª</p>
<h2 id="1-cloud-provider-payment8001ÂæÆÊúçÂä°Êèê‰æõËÄÖÊîØ‰ªòModuleÊ®°Âùó"><a href="#1-cloud-provider-payment8001ÂæÆÊúçÂä°Êèê‰æõËÄÖÊîØ‰ªòModuleÊ®°Âùó" class="headerlink" title="1.cloud-provider-payment8001ÂæÆÊúçÂä°Êèê‰æõËÄÖÊîØ‰ªòModuleÊ®°Âùó"></a>1.cloud-provider-payment8001ÂæÆÊúçÂä°Êèê‰æõËÄÖÊîØ‰ªòModuleÊ®°Âùó</h2><p>Êñ∞Âª∫ module cloud-provider-payment8001</p>
<h3 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-provider-payment8001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="yaml"><a href="#yaml" class="headerlink" title="yaml"></a>yaml</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver <span class="token comment">#org.gjt.mm.mysql.Driver</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/db2021<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf-8&amp;useSSL=false</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">142857</span>

<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">mapperLocations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mapper/<span class="token important">*.xml</span>
  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.ctrl.springcloud.entities<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Âª∫Ë°®SQL"><a href="#Âª∫Ë°®SQL" class="headerlink" title="Âª∫Ë°®SQL"></a>Âª∫Ë°®SQL</h3><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>payment<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'ID'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>serial<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="entity"><a href="#entity" class="headerlink" title="entity"></a>entity</h3><h4 id="Payment"><a href="#Payment" class="headerlink" title="Payment"></a>Payment</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Payment</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> serial<span class="token punctuation">;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="CommonResult"><a href="#CommonResult" class="headerlink" title="CommonResult"></a>CommonResult</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//404 not_found</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> code<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> data<span class="token punctuation">;</span>

    <span class="token comment">//ÈáçËΩΩ</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> code<span class="token punctuation">,</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span>message<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="dao"><a href="#dao" class="headerlink" title="dao"></a>dao</h3><h4 id="PaymentDao"><a href="#PaymentDao" class="headerlink" title="PaymentDao"></a>PaymentDao</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">Payment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Mapper</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentDao</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Payment</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="service"><a href="#service" class="headerlink" title="service"></a>service</h3><h4 id="PaymentService"><a href="#PaymentService" class="headerlink" title="PaymentService"></a>PaymentService</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">Payment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Param</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ÂÜô</span>
    <span class="token keyword">public</span> <span class="token class-name">Payment</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ËØªÂèñ</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="PaymentServiceImpl"><a href="#PaymentServiceImpl" class="headerlink" title="PaymentServiceImpl"></a>PaymentServiceImpl</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">PaymentDao</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">Payment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PaymentService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">PaymentDao</span> paymentDao<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> paymentDao<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Payment</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> paymentDao<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h3><h4 id="PaymentController"><a href="#PaymentController" class="headerlink" title="PaymentController"></a>PaymentController</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">CommonResult</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">Payment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PaymentService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span> <span class="token punctuation">&#123;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/create"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"*****ÊèíÂÖ•ÁªìÊûúÔºö"</span><span class="token operator">+</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//ÊàêÂäü</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"ÊèíÂÖ•Êï∞ÊçÆÂ∫ìÊàêÂäü"</span><span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"ÊèíÂÖ•Êï∞ÊçÆÂ∫ìÂ§±Ë¥•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">Payment</span> payment <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"*****Êü•ËØ¢ÁªìÊûúÔºö"</span><span class="token operator">+</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>payment<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//ËØ¥ÊòéÊúâÊï∞ÊçÆÔºåËÉΩÊü•ËØ¢ÊàêÂäü</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"Êü•ËØ¢ÊàêÂäü"</span><span class="token punctuation">,</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"Ê≤°ÊúâÂØπÂ∫îËÆ∞ÂΩïÔºåÊü•ËØ¢IDÔºö"</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="mapper"><a href="#mapper" class="headerlink" title="mapper"></a>mapper</h3><h4 id="PaymentMapper-xml"><a href="#PaymentMapper-xml" class="headerlink" title="PaymentMapper.xml"></a>PaymentMapper.xml</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ctrl.springcloud.dao.PaymentDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>create<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ctrl.springcloud.entities.Payment<span class="token punctuation">"</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        insert into payment(serial) values(#&#123;serial&#125;);
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BaseResultMap<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ctrl.springcloud.entities.Payment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BIGINT<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>serial<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>serial<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>VARCHAR<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getPaymentById<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Long<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BaseResultMap<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        select * from payment where id = #&#123;id&#125;;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="SpringBootApplication"></a>SpringBootApplication</h3><h4 id="PaymentMain8001"><a href="#PaymentMain8001" class="headerlink" title="PaymentMain8001"></a>PaymentMain8001</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8001</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-3.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-3.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="2-cloud-consumer-order80"><a href="#2-cloud-consumer-order80" class="headerlink" title="2.cloud-consumer-order80"></a>2.cloud-consumer-order80</h2><h3 id="pom-xml-1"><a href="#pom-xml-1" class="headerlink" title="pom.xml"></a>pom.xml</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumer-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="yaml-1"><a href="#yaml-1" class="headerlink" title="yaml"></a>yaml</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="entity-1"><a href="#entity-1" class="headerlink" title="entity"></a>entity</h3><p>ÁÖßÊäÑ 8001 ÁöÑ</p>
<h3 id="config"><a href="#config" class="headerlink" title="config"></a>config</h3><h4 id="ApplicationContextConfig"><a href="#ApplicationContextConfig" class="headerlink" title="ApplicationContextConfig"></a>ApplicationContextConfig</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">RestTemplate</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">restTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//RestTemplateÊèê‰æõ‰∫ÜÂ§öÁßç‰æøÊç∑ËÆøÈóÆËøúÁ®ãHttpÊúçÂä°ÁöÑÊñπÊ≥ïÔºå</span>
    <span class="token comment">//ÊòØ‰∏ÄÁßçÁÆÄÂçï‰æøÊç∑ÁöÑËÆøÈóÆrestfulÊúçÂä°Ê®°ÊùøÁ±ªÔºåÊòØSpringÊèê‰æõÁöÑÁî®‰∫éËÆøÈóÆRestÊúçÂä°ÁöÑÂÆ¢Êà∑Á´ØÊ®°ÊùøÂ∑•ÂÖ∑ÈõÜ</span>

    <span class="token comment">//ÂÆòÁΩëÂú∞ÂùÄ</span>
    <span class="token comment">//https://docs.spring.io/spring-framework/docs/5.2.2.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html</span>

    <span class="token comment">//‰ΩøÁî®restTemplateËÆøÈóÆrestfulÊé•Âè£ÈùûÂ∏∏ÁöÑÁÆÄÂçïÁ≤óÊö¥Êó†ËÑë„ÄÇ</span>
    <span class="token comment">//(url, requestMap, ResponseBean.class)Ëøô‰∏â‰∏™ÂèÇÊï∞ÂàÜÂà´‰ª£Ë°®</span>
    <span class="token comment">//RESTËØ∑Ê±ÇÂú∞ÂùÄ„ÄÅËØ∑Ê±ÇÂèÇÊï∞„ÄÅHTTPÂìçÂ∫îËΩ¨Êç¢Ë¢´ËΩ¨Êç¢ÊàêÁöÑÂØπË±°Á±ªÂûã„ÄÇ</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="controller-1"><a href="#controller-1" class="headerlink" title="controller"></a>controller</h3><h4 id="OrderController"><a href="#OrderController" class="headerlink" title="OrderController"></a>OrderController</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">CommonResult</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">Payment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">RestTemplate</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">&#123;</span>

    <span class="token comment">//ÂÜôÊ≠ªÊúçÂä°Ë∞ÉÁî®Âú∞ÂùÄ</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PAYMENT_URL <span class="token operator">=</span> <span class="token string">"http://localhost:8001"</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/create"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span>   <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">postForObject</span><span class="token punctuation">(</span>PAYMENT_URL<span class="token operator">+</span><span class="token string">"/payment/create"</span><span class="token punctuation">,</span>payment<span class="token punctuation">,</span> <span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//ÂÜôÊìç‰Ωú</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">getPayment</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>PAYMENT_URL<span class="token operator">+</span><span class="token string">"/payment/get/"</span><span class="token operator">+</span>id<span class="token punctuation">,</span><span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="SpringBootApplication-1"><a href="#SpringBootApplication-1" class="headerlink" title="SpringBootApplication"></a>SpringBootApplication</h3><h4 id="OrderMainApp80"><a href="#OrderMainApp80" class="headerlink" title="OrderMainApp80"></a>OrderMainApp80</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderMainApp80</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderMainApp80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-4.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-4.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="SpringBoot-ËΩ¨Âûã-SpringCloud"><a href="#SpringBoot-ËΩ¨Âûã-SpringCloud" class="headerlink" title="SpringBoot ËΩ¨Âûã SpringCloud"></a>SpringBoot ËΩ¨Âûã SpringCloud</h2><p>Á≥ªÁªü‰∏≠ÊúâÈáçÂ§çÈÉ®ÂàÜÔºåÈáçÊûÑ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-5.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-5.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="Êñ∞Âª∫ÂÖ¨ÂÖ±Ê®°Âùó-cloud-api-commons"><a href="#Êñ∞Âª∫ÂÖ¨ÂÖ±Ê®°Âùó-cloud-api-commons" class="headerlink" title="Êñ∞Âª∫ÂÖ¨ÂÖ±Ê®°Âùó cloud-api-commons"></a>Êñ∞Âª∫ÂÖ¨ÂÖ±Ê®°Âùó cloud-api-commons</h3><h4 id="pom-xml-2"><a href="#pom-xml-2" class="headerlink" title="pom.xml"></a>pom.xml</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-devtools --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/cn.hutool/hutool-all --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.hutool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hutool-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="entity-2"><a href="#entity-2" class="headerlink" title="entity"></a>entity</h4><p>ÁÖßÊäÑ 8001 ÁöÑ</p>
<h3 id="ËÆ¢Âçï80ÂíåÊîØ‰ªò8001ÂàÜÂà´ÊîπÈÄ†"><a href="#ËÆ¢Âçï80ÂíåÊîØ‰ªò8001ÂàÜÂà´ÊîπÈÄ†" class="headerlink" title="ËÆ¢Âçï80ÂíåÊîØ‰ªò8001ÂàÜÂà´ÊîπÈÄ†"></a>ËÆ¢Âçï80ÂíåÊîØ‰ªò8001ÂàÜÂà´ÊîπÈÄ†</h3><p>Âà†Èô§ÂêÑËá™ÁöÑÂéüÂÖàÊúâËøáÁöÑentitiesÊñá‰ª∂Â§π</p>
<p>ÂêÑËá™ÈªèË¥¥POMÂÜÖÂÆπ</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑapiÈÄöÁî®ÂåÖÔºåÂèØ‰ª•‰ΩøÁî®PaymentÊîØ‰ªòEntity --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.atguigu.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÊäΩÁ¶ªÂá∫ÂÖ¨ÂÖ±Ê®°ÂùóÂêé</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-6.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-6.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h1 id="SpringCloud-‰πãÊóÖ"><a href="#SpringCloud-‰πãÊóÖ" class="headerlink" title="SpringCloud ‰πãÊóÖ"></a>SpringCloud ‰πãÊóÖ</h1><h1 id="EurekaÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"><a href="#EurekaÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞" class="headerlink" title="EurekaÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"></a>EurekaÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞</h1><h2 id="EurekaÂü∫Á°ÄÁü•ËØÜ"><a href="#EurekaÂü∫Á°ÄÁü•ËØÜ" class="headerlink" title="EurekaÂü∫Á°ÄÁü•ËØÜ"></a>EurekaÂü∫Á°ÄÁü•ËØÜ</h2><h3 id="‰ªÄ‰πàÊòØÊúçÂä°Ê≤ªÁêÜ"><a href="#‰ªÄ‰πàÊòØÊúçÂä°Ê≤ªÁêÜ" class="headerlink" title="‰ªÄ‰πàÊòØÊúçÂä°Ê≤ªÁêÜ"></a>‰ªÄ‰πàÊòØÊúçÂä°Ê≤ªÁêÜ</h3><p>‚Äã      Spring Cloud Â∞ÅË£Ö‰∫Ü Netflix ÂÖ¨Âè∏ÂºÄÂèëÁöÑ Eureka Ê®°ÂùóÊù•ÂÆûÁé∞ÊúçÂä°Ê≤ªÁêÜ</p>
<p>  Âú®‰º†ÁªüÁöÑrpcËøúÁ®ãË∞ÉÁî®Ê°ÜÊû∂‰∏≠ÔºåÁÆ°ÁêÜÊØè‰∏™ÊúçÂä°‰∏éÊúçÂä°‰πãÈó¥‰æùËµñÂÖ≥Á≥ªÊØîËæÉÂ§çÊùÇÔºåÁÆ°ÁêÜÊØîËæÉÂ§çÊùÇÔºåÊâÄ‰ª•ÈúÄË¶Å‰ΩøÁî®ÊúçÂä°Ê≤ªÁêÜÔºåÁÆ°ÁêÜÊúçÂä°‰∫éÊúçÂä°‰πãÈó¥‰æùËµñÂÖ≥Á≥ªÔºåÂèØ‰ª•ÂÆûÁé∞ÊúçÂä°Ë∞ÉÁî®„ÄÅË¥üËΩΩÂùáË°°„ÄÅÂÆπÈîôÁ≠âÔºåÂÆûÁé∞ÊúçÂä°ÂèëÁé∞‰∏éÊ≥®ÂÜå„ÄÇ</p>
<h3 id="‰ªÄ‰πàÊòØÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"><a href="#‰ªÄ‰πàÊòØÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞" class="headerlink" title="‰ªÄ‰πàÊòØÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"></a>‰ªÄ‰πàÊòØÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞</h3><p>EurekaÈááÁî®‰∫ÜCSÁöÑËÆæËÆ°Êû∂ÊûÑÔºåEureka Server ‰Ωú‰∏∫ÊúçÂä°Ê≥®ÂÜåÂäüËÉΩÁöÑÊúçÂä°Âô®ÔºåÂÆÉÊòØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ„ÄÇËÄåÁ≥ªÁªü‰∏≠ÁöÑÂÖ∂‰ªñÂæÆÊúçÂä°Ôºå‰ΩøÁî® EurekaÁöÑÂÆ¢Êà∑Á´ØËøûÊé•Âà∞ Eureka ServerÂπ∂Áª¥ÊåÅÂøÉË∑≥ËøûÊé•„ÄÇËøôÊ†∑Á≥ªÁªüÁöÑÁª¥Êä§‰∫∫ÂëòÂ∞±ÂèØ‰ª•ÈÄöËøá Eureka Server Êù•ÁõëÊéßÁ≥ªÁªü‰∏≠ÂêÑ‰∏™ÂæÆÊúçÂä°ÊòØÂê¶Ê≠£Â∏∏ËøêË°å„ÄÇ<br>Âú®ÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞‰∏≠ÔºåÊúâ‰∏Ä‰∏™Ê≥®ÂÜå‰∏≠ÂøÉ„ÄÇÂΩìÊúçÂä°Âô®ÂêØÂä®ÁöÑÊó∂ÂÄôÔºå‰ºöÊääÂΩìÂâçËá™Â∑±ÊúçÂä°Âô®ÁöÑ‰ø°ÊÅØ ÊØîÂ¶Ç ÊúçÂä°Âú∞ÂùÄÈÄöËÆØÂú∞ÂùÄÁ≠â‰ª•Âà´ÂêçÊñπÂºèÊ≥®ÂÜåÂà∞Ê≥®ÂÜå‰∏≠ÂøÉ‰∏ä„ÄÇÂè¶‰∏ÄÊñπÔºàÊ∂àË¥πËÄÖ|ÊúçÂä°Êèê‰æõËÄÖÔºâÔºå‰ª•ËØ•Âà´ÂêçÁöÑÊñπÂºèÂéªÊ≥®ÂÜå‰∏≠ÂøÉ‰∏äËé∑ÂèñÂà∞ÂÆûÈôÖÁöÑÊúçÂä°ÈÄöËÆØÂú∞ÂùÄÔºåÁÑ∂ÂêéÂÜçÂÆûÁé∞Êú¨Âú∞RPCË∞ÉÁî®RPCËøúÁ®ãË∞ÉÁî®Ê°ÜÊû∂Ê†∏ÂøÉËÆæËÆ°ÊÄùÊÉ≥ÔºöÂú®‰∫éÊ≥®ÂÜå‰∏≠ÂøÉÔºåÂõ†‰∏∫‰ΩøÁî®Ê≥®ÂÜå‰∏≠ÂøÉÁÆ°ÁêÜÊØè‰∏™ÊúçÂä°‰∏éÊúçÂä°‰πãÈó¥ÁöÑ‰∏Ä‰∏™‰æùËµñÂÖ≥Á≥ª(ÊúçÂä°Ê≤ªÁêÜÊ¶ÇÂøµ)„ÄÇÂú®‰ªª‰ΩïrpcËøúÁ®ãÊ°ÜÊû∂‰∏≠ÔºåÈÉΩ‰ºöÊúâ‰∏Ä‰∏™Ê≥®ÂÜå‰∏≠ÂøÉ(Â≠òÊîæÊúçÂä°Âú∞ÂùÄÁõ∏ÂÖ≥‰ø°ÊÅØ(Êé•Âè£Âú∞ÂùÄ))<br>‰∏ãÂ∑¶ÂõæÊòØEurekaÁ≥ªÁªüÊû∂ÊûÑÔºåÂè≥ÂõæÊòØDubboÁöÑÊû∂ÊûÑÔºåËØ∑ÂØπÊØî<img src="/image/Learn-SpringCloud/Learn-SpringCloud-7.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-7.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="EurekaÂåÖÂê´‰∏§‰∏™ÁªÑ‰ª∂ÔºöEureka-ServerÂíåEureka-Client"><a href="#EurekaÂåÖÂê´‰∏§‰∏™ÁªÑ‰ª∂ÔºöEureka-ServerÂíåEureka-Client" class="headerlink" title="EurekaÂåÖÂê´‰∏§‰∏™ÁªÑ‰ª∂ÔºöEureka ServerÂíåEureka Client"></a>EurekaÂåÖÂê´‰∏§‰∏™ÁªÑ‰ª∂ÔºöEureka ServerÂíåEureka Client</h3><h4 id="Eureka-ServerÊèê‰æõÊúçÂä°Ê≥®ÂÜåÊúçÂä°"><a href="#Eureka-ServerÊèê‰æõÊúçÂä°Ê≥®ÂÜåÊúçÂä°" class="headerlink" title="Eureka ServerÊèê‰æõÊúçÂä°Ê≥®ÂÜåÊúçÂä°"></a>Eureka ServerÊèê‰æõÊúçÂä°Ê≥®ÂÜåÊúçÂä°</h4><p>ÂêÑ‰∏™ÂæÆÊúçÂä°ËäÇÁÇπÈÄöËøáÈÖçÁΩÆÂêØÂä®ÂêéÔºå‰ºöÂú®EurekaServer‰∏≠ËøõË°åÊ≥®ÂÜåÔºåËøôÊ†∑EurekaServer‰∏≠ÁöÑÊúçÂä°Ê≥®ÂÜåË°®‰∏≠Â∞Ü‰ºöÂ≠òÂÇ®ÊâÄÊúâÂèØÁî®ÊúçÂä°ËäÇÁÇπÁöÑ‰ø°ÊÅØÔºåÊúçÂä°ËäÇÁÇπÁöÑ‰ø°ÊÅØÂèØ‰ª•Âú®ÁïåÈù¢‰∏≠Áõ¥ËßÇÁúãÂà∞„ÄÇ</p>
<h4 id="EurekaClientÈÄöËøáÊ≥®ÂÜå‰∏≠ÂøÉËøõË°åËÆøÈóÆ"><a href="#EurekaClientÈÄöËøáÊ≥®ÂÜå‰∏≠ÂøÉËøõË°åËÆøÈóÆ" class="headerlink" title="EurekaClientÈÄöËøáÊ≥®ÂÜå‰∏≠ÂøÉËøõË°åËÆøÈóÆ"></a>EurekaClientÈÄöËøáÊ≥®ÂÜå‰∏≠ÂøÉËøõË°åËÆøÈóÆ</h4><p>ÊòØ‰∏Ä‰∏™JavaÂÆ¢Êà∑Á´ØÔºåÁî®‰∫éÁÆÄÂåñEureka ServerÁöÑ‰∫§‰∫íÔºåÂÆ¢Êà∑Á´ØÂêåÊó∂‰πüÂÖ∑Â§á‰∏Ä‰∏™ÂÜÖÁΩÆÁöÑ„ÄÅ‰ΩøÁî®ËΩÆËØ¢(round-robin)Ë¥üËΩΩÁÆóÊ≥ïÁöÑË¥üËΩΩÂùáË°°Âô®„ÄÇÂú®Â∫îÁî®ÂêØÂä®ÂêéÔºåÂ∞Ü‰ºöÂêëEureka ServerÂèëÈÄÅÂøÉË∑≥(ÈªòËÆ§Âë®Êúü‰∏∫30Áßí)„ÄÇÂ¶ÇÊûúEureka ServerÂú®Â§ö‰∏™ÂøÉË∑≥Âë®ÊúüÂÜÖÊ≤°ÊúâÊé•Êî∂Âà∞Êüê‰∏™ËäÇÁÇπÁöÑÂøÉË∑≥ÔºåEurekaServerÂ∞Ü‰ºö‰ªéÊúçÂä°Ê≥®ÂÜåË°®‰∏≠ÊääËøô‰∏™ÊúçÂä°ËäÇÁÇπÁßªÈô§ÔºàÈªòËÆ§90ÁßíÔºâ</p>
<h2 id="ÂçïÊú∫EurekaÊûÑÂª∫Ê≠•È™§"><a href="#ÂçïÊú∫EurekaÊûÑÂª∫Ê≠•È™§" class="headerlink" title="ÂçïÊú∫EurekaÊûÑÂª∫Ê≠•È™§"></a>ÂçïÊú∫EurekaÊûÑÂª∫Ê≠•È™§</h2><h3 id="IDEAÁîüÊàêeurekaServerÁ´ØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ"><a href="#IDEAÁîüÊàêeurekaServerÁ´ØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ" class="headerlink" title="IDEAÁîüÊàêeurekaServerÁ´ØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ"></a>IDEAÁîüÊàêeurekaServerÁ´ØÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ</h3><p>Á±ª‰ººÁâ©‰∏öÂÖ¨Âè∏</p>
<h4 id="Âª∫Module-cloud-eureka-server7001"><a href="#Âª∫Module-cloud-eureka-server7001" class="headerlink" title="Âª∫Module cloud-eureka-server7001"></a>Âª∫Module cloud-eureka-server7001</h4><h5 id="pom-xml-3"><a href="#pom-xml-3" class="headerlink" title="pom.xml"></a>pom.xml</h5><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-eureka-server7001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--eureka-server--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑapiÈÄöÁî®ÂåÖÔºåÂèØ‰ª•‰ΩøÁî®PaymentÊîØ‰ªòEntity --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--boot web actuator--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--‰∏ÄËà¨ÈÄöÁî®ÈÖçÁΩÆ--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="yaml-2"><a href="#yaml-2" class="headerlink" title="yaml"></a>yaml</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7001</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost <span class="token comment">#eurekaÊúçÂä°Á´ØÁöÑÂÆû‰æãÂêçÁß∞</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment">#falseË°®Á§∫‰∏çÂêëÊ≥®ÂÜå‰∏≠ÂøÉÊ≥®ÂÜåËá™Â∑±„ÄÇ</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment">#falseË°®Á§∫Ëá™Â∑±Á´ØÂ∞±ÊòØÊ≥®ÂÜå‰∏≠ÂøÉÔºåÊàëÁöÑËÅåË¥£Â∞±ÊòØÁª¥Êä§ÊúçÂä°ÂÆû‰æãÔºåÂπ∂‰∏çÈúÄË¶ÅÂéªÊ£ÄÁ¥¢ÊúçÂä°</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment">#ËÆæÁΩÆ‰∏éEureka Server‰∫§‰∫íÁöÑÂú∞ÂùÄÊü•ËØ¢ÊúçÂä°ÂíåÊ≥®ÂÜåÊúçÂä°ÈÉΩÈúÄË¶Å‰æùËµñËøô‰∏™Âú∞ÂùÄ„ÄÇ</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">&#123;</span>eureka.instance.hostname<span class="token punctuation">&#125;</span><span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>server.port<span class="token punctuation">&#125;</span>/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="SpringBootApplication-2"><a href="#SpringBootApplication-2" class="headerlink" title="SpringBootApplication"></a>SpringBootApplication</h5><h6 id="EurekaMain7001"><a href="#EurekaMain7001" class="headerlink" title="EurekaMain7001"></a>EurekaMain7001</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaServer</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaServer</span><span class="token comment">//ÂºÄÂêØ EurekaServer Ê≥®ÂÜåÊúçÂä°</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaMain7001</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaMain7001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÂêØÂä®  <a target="_blank" rel="noopener" href="http://localhost:7001/">http://localhost:7001</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-8.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-8.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="EurekaClientÁ´Øcloud-provider-payment8001"><a href="#EurekaClientÁ´Øcloud-provider-payment8001" class="headerlink" title="EurekaClientÁ´Øcloud-provider-payment8001"></a>EurekaClientÁ´Øcloud-provider-payment8001</h3><p>Â∞ÜÊ≥®ÂÜåËøõEurekaServerÊàê‰∏∫ÊúçÂä°Êèê‰æõËÄÖproviderÔºåÁ±ª‰ººÂ∞öÁ°ÖË∞∑Â≠¶Ê†°ÂØπÂ§ñÊèê‰æõÊéàËØæÊúçÂä°</p>
<h4 id="Êõ¥Êîπ-cloud-provider-payment8001"><a href="#Êõ¥Êîπ-cloud-provider-payment8001" class="headerlink" title="Êõ¥Êîπ cloud-provider-payment8001"></a>Êõ¥Êîπ cloud-provider-payment8001</h4><h4 id="ÊîπPOM"><a href="#ÊîπPOM" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><p>Â¢ûÂä† eureka-client ‰æùËµñ</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--eureka-client--></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML"><a href="#ÊîπYML" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><p>Â¢û</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment">#Ë°®Á§∫ÊòØÂê¶Â∞ÜËá™Â∑±Ê≥®ÂÜåËøõEurekaServerÈªòËÆ§‰∏∫true„ÄÇ</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token comment">#ÊòØÂê¶‰ªéEurekaServerÊäìÂèñÂ∑≤ÊúâÁöÑÊ≥®ÂÜå‰ø°ÊÅØÔºåÈªòËÆ§‰∏∫true„ÄÇÂçïËäÇÁÇπÊó†ÊâÄË∞ìÔºåÈõÜÁæ§ÂøÖÈ°ªËÆæÁΩÆ‰∏∫trueÊâçËÉΩÈÖçÂêàribbon‰ΩøÁî®Ë¥üËΩΩÂùáË°°</span>
    <span class="token key atrule">fetchRegistry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Êîπ‰∏ªÂêØÂä®Á±ª"><a href="#Êîπ‰∏ªÂêØÂä®Á±ª" class="headerlink" title="Êîπ‰∏ªÂêØÂä®Á±ª"></a>Êîπ‰∏ªÂêØÂä®Á±ª</h4><p>Â¢û</p>
<p>@EnableEurekaClient  </p>
<h4 id="ÊµãËØï"><a href="#ÊµãËØï" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h4><h5 id="ÂÖàË¶ÅÂêØÂä®EurekaServer"><a href="#ÂÖàË¶ÅÂêØÂä®EurekaServer" class="headerlink" title="ÂÖàË¶ÅÂêØÂä®EurekaServer"></a>ÂÖàË¶ÅÂêØÂä®EurekaServer</h5><p><a target="_blank" rel="noopener" href="http://localhost:7001/">http://localhost:7001/</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-9.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-9.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h5 id="ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé"><a href="#ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé" class="headerlink" title="ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé"></a>ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-10.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-10.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="EurekaClientÁ´Øcloud-consumer-order80"><a href="#EurekaClientÁ´Øcloud-consumer-order80" class="headerlink" title="EurekaClientÁ´Øcloud-consumer-order80"></a>EurekaClientÁ´Øcloud-consumer-order80</h3><p>Â∞ÜÊ≥®ÂÜåËøõEurekaServerÊàê‰∏∫ÊúçÂä°Ê∂àË¥πËÄÖconsumerÔºåÁ±ª‰ººÊù•Â∞öÁ°ÖË∞∑‰∏äËØæÊ∂àË¥πÁöÑÂêÑ‰ΩçÂêåÂ≠¶</p>
<p>cloud-consumer-order80</p>
<h4 id="ÊîπPOM-1"><a href="#ÊîπPOM-1" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><p>Â¢ûÂä† eureka-client ‰æùËµñ</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--eureka-client--></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-1"><a href="#ÊîπYML-1" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><p>Â¢û</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
    <span class="token key atrule">application</span><span class="token punctuation">:</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>order<span class="token punctuation">-</span>service

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token comment">#Ë°®Á§∫ÊòØÂê¶Â∞ÜËá™Â∑±Ê≥®ÂÜåËøõEurekaServerÈªòËÆ§‰∏∫true„ÄÇ</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token comment">#ÊòØÂê¶‰ªéEurekaServerÊäìÂèñÂ∑≤ÊúâÁöÑÊ≥®ÂÜå‰ø°ÊÅØÔºåÈªòËÆ§‰∏∫true„ÄÇÂçïËäÇÁÇπÊó†ÊâÄË∞ìÔºåÈõÜÁæ§ÂøÖÈ°ªËÆæÁΩÆ‰∏∫trueÊâçËÉΩÈÖçÂêàribbon‰ΩøÁî®Ë¥üËΩΩÂùáË°°</span>
    <span class="token key atrule">fetchRegistry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Êîπ‰∏ªÂêØÂä®Á±ª-1"><a href="#Êîπ‰∏ªÂêØÂä®Á±ª-1" class="headerlink" title="Êîπ‰∏ªÂêØÂä®Á±ª"></a>Êîπ‰∏ªÂêØÂä®Á±ª</h4><p>Â¢û</p>
<p>@EnableEurekaClient  </p>
<h4 id="ÊµãËØï-1"><a href="#ÊµãËØï-1" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h4><h5 id="ÂÖàË¶ÅÂêØÂä®EurekaServer-1"><a href="#ÂÖàË¶ÅÂêØÂä®EurekaServer-1" class="headerlink" title="ÂÖàË¶ÅÂêØÂä®EurekaServer"></a>ÂÖàË¶ÅÂêØÂä®EurekaServer</h5><p><a target="_blank" rel="noopener" href="http://localhost:7001/">http://localhost:7001/</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-11.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-11.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h5 id="ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé-1"><a href="#ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé-1" class="headerlink" title="ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé"></a>ÂæÆÊúçÂä°Ê≥®ÂÜåÂêçÈÖçÁΩÆËØ¥Êòé</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-12.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-12.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="Ëá™Êàë‰øùÊä§Êú∫Âà∂"><a href="#Ëá™Êàë‰øùÊä§Êú∫Âà∂" class="headerlink" title="Ëá™Êàë‰øùÊä§Êú∫Âà∂"></a>Ëá™Êàë‰øùÊä§Êú∫Âà∂</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-13.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-13.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Á¥ßÊÄ•!EurekaÂèØËÉΩÈîôËØØÂú∞ÂÆ£Áß∞ÂÆû‰æãÂ∑≤ÁªèÂêØÂä®ÔºåËÄåÂÆûÈôÖ‰∏äÂπ∂Ê≤°Êúâ„ÄÇÁª≠Êúü‰Ωé‰∫éÈòàÂÄºÔºåÂõ†Ê≠§‰∏∫‰∫ÜÂÆâÂÖ®Ëµ∑ËßÅÔºåÂÆû‰æãÊ≤°ÊúâËøáÊúü„ÄÇ</p>
<h3 id="bug"><a href="#bug" class="headerlink" title="bug"></a>bug</h3><p>Failed to bind properties under ‚Äòeureka.client.service-url‚Äô to java.util.Map&lt;java.lang.String, java.lang.String&gt;</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-14.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-14.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§"><a href="#EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§" class="headerlink" title="EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§"></a>EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§</h2><h3 id="EurekaÈõÜÁæ§ÂéüÁêÜËØ¥Êòé"><a href="#EurekaÈõÜÁæ§ÂéüÁêÜËØ¥Êòé" class="headerlink" title="EurekaÈõÜÁæ§ÂéüÁêÜËØ¥Êòé"></a>EurekaÈõÜÁæ§ÂéüÁêÜËØ¥Êòé</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-15.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-15.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ÈóÆÈ¢òÔºöÂæÆÊúçÂä°RPCËøúÁ®ãÊúçÂä°Ë∞ÉÁî®ÊúÄÊ†∏ÂøÉÁöÑÊòØ‰ªÄ‰πà<br>       È´òÂèØÁî®ÔºåËØïÊÉ≥‰Ω†ÁöÑÊ≥®ÂÜå‰∏≠ÂøÉÂè™Êúâ‰∏Ä‰∏™only oneÔºå ÂÆÉÂá∫ÊïÖÈöú‰∫ÜÈÇ£Â∞±ÂëµÂëµ(Ôø£‚ñΩÔø£)‚Äù‰∫ÜÔºå‰ºöÂØºËá¥Êï¥‰∏™‰∏∫ÊúçÂä°ÁéØÂ¢É‰∏çÂèØÁî®ÔºåÊâÄ‰ª•</p>
<p>„ÄÄ„ÄÄËß£ÂÜ≥ÂäûÊ≥ïÔºöÊê≠Âª∫EurekaÊ≥®ÂÜå‰∏≠ÂøÉÈõÜÁæ§ ÔºåÂÆûÁé∞Ë¥üËΩΩÂùáË°°+ÊïÖÈöúÂÆπÈîô</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-16.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-16.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§-1"><a href="#EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§-1" class="headerlink" title="EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§"></a>EurekaServerÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫Ê≠•È™§</h3><h4 id="ÂèÇËÄÉcloud-eureka-server7001"><a href="#ÂèÇËÄÉcloud-eureka-server7001" class="headerlink" title="ÂèÇËÄÉcloud-eureka-server7001"></a>ÂèÇËÄÉcloud-eureka-server7001</h4><h4 id="Êñ∞Âª∫cloud-eureka-server7002"><a href="#Êñ∞Âª∫cloud-eureka-server7002" class="headerlink" title="Êñ∞Âª∫cloud-eureka-server7002"></a>Êñ∞Âª∫cloud-eureka-server7002</h4><h4 id="‰øÆÊîπÊò†Â∞ÑÈÖçÁΩÆ"><a href="#‰øÆÊîπÊò†Â∞ÑÈÖçÁΩÆ" class="headerlink" title="‰øÆÊîπÊò†Â∞ÑÈÖçÁΩÆ"></a>‰øÆÊîπÊò†Â∞ÑÈÖçÁΩÆ</h4><p>ÊâæÂà∞C:\Windows\System32\drivers\etcË∑ØÂæÑ‰∏ãÁöÑhostsÊñá‰ª∂</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-17.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-17.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>‰øÆÊîπÊò†Â∞ÑÈÖçÁΩÆÊ∑ªÂä†ËøõhostsÊñá‰ª∂</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">##############SpringCloud#############
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>  eureka7001<span class="token punctuation">.</span>com
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>  eureka7002<span class="token punctuation">.</span>com
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>  eureka7003<span class="token punctuation">.</span>com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">Êõ¥Êîπ yaml  hostname</span><span class="token punctuation">:</span> eureka7001.com <span class="token comment">#eurekaÊúçÂä°Á´ØÁöÑÂÆû‰æãÂêçÁß∞</span>

		  <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">Êõ¥Êîπ yaml  hostname</span><span class="token punctuation">:</span> eureka7002.com <span class="token comment">#eurekaÊúçÂä°Á´ØÁöÑÂÆû‰æãÂêçÁß∞</span>

		  <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>ÂêØÂä® 2‰∏™ Eureka </p>
<p><a target="_blank" rel="noopener" href="http://eureka7001.com:7001/">http://eureka7001.com:7001/</a></p>
<p><a target="_blank" rel="noopener" href="http://eureka7002.com:7002/">http://eureka7002.com:7002/</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-18.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-18.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="Â∞ÜÊîØ‰ªòÊúçÂä°8001ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠"><a href="#Â∞ÜÊîØ‰ªòÊúçÂä°8001ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠" class="headerlink" title="Â∞ÜÊîØ‰ªòÊúçÂä°8001ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠"></a>Â∞ÜÊîØ‰ªòÊúçÂä°8001ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠</h3><h4 id="ÊîπYML-2"><a href="#ÊîπYML-2" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka  <span class="token comment"># ÈõÜÁæ§Áâà</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="Â∞ÜËÆ¢ÂçïÊúçÂä°80ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠"><a href="#Â∞ÜËÆ¢ÂçïÊúçÂä°80ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠" class="headerlink" title="Â∞ÜËÆ¢ÂçïÊúçÂä°80ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠"></a>Â∞ÜËÆ¢ÂçïÊúçÂä°80ÂæÆÊúçÂä°ÂèëÂ∏ÉÂà∞‰∏äÈù¢2Âè∞EurekaÈõÜÁæ§ÈÖçÁΩÆ‰∏≠</h3><h4 id="ÊîπYML-3"><a href="#ÊîπYML-3" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka  <span class="token comment"># ÈõÜÁæ§Áâà</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="ÊµãËØï01"><a href="#ÊµãËØï01" class="headerlink" title="ÊµãËØï01"></a>ÊµãËØï01</h3><h4 id="ÂÖàË¶ÅÂêØÂä®EurekaServerÔºå7001-x2F-7002ÊúçÂä°"><a href="#ÂÖàË¶ÅÂêØÂä®EurekaServerÔºå7001-x2F-7002ÊúçÂä°" class="headerlink" title="ÂÖàË¶ÅÂêØÂä®EurekaServerÔºå7001&#x2F;7002ÊúçÂä°"></a>ÂÖàË¶ÅÂêØÂä®EurekaServerÔºå7001&#x2F;7002ÊúçÂä°</h4><h4 id="ÂÜçË¶ÅÂêØÂä®ÊúçÂä°Êèê‰æõËÄÖproviderÔºå8001"><a href="#ÂÜçË¶ÅÂêØÂä®ÊúçÂä°Êèê‰æõËÄÖproviderÔºå8001" class="headerlink" title="ÂÜçË¶ÅÂêØÂä®ÊúçÂä°Êèê‰æõËÄÖproviderÔºå8001"></a>ÂÜçË¶ÅÂêØÂä®ÊúçÂä°Êèê‰æõËÄÖproviderÔºå8001</h4><h4 id="ÂÜçË¶ÅÂêØÂä®Ê∂àË¥πËÄÖÔºå80"><a href="#ÂÜçË¶ÅÂêØÂä®Ê∂àË¥πËÄÖÔºå80" class="headerlink" title="ÂÜçË¶ÅÂêØÂä®Ê∂àË¥πËÄÖÔºå80"></a>ÂÜçË¶ÅÂêØÂä®Ê∂àË¥πËÄÖÔºå80</h4><h4 id="http-localhost-consumer-payment-get-31"><a href="#http-localhost-consumer-payment-get-31" class="headerlink" title="http://localhost/consumer/payment/get/31"></a><a target="_blank" rel="noopener" href="http://localhost/consumer/payment/get/31">http://localhost/consumer/payment/get/31</a></h4><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-19.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-19.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-20.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-20.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="ÊîØ‰ªòÊúçÂä°Êèê‰æõËÄÖ8001ÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫"><a href="#ÊîØ‰ªòÊúçÂä°Êèê‰æõËÄÖ8001ÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫" class="headerlink" title="ÊîØ‰ªòÊúçÂä°Êèê‰æõËÄÖ8001ÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫"></a>ÊîØ‰ªòÊúçÂä°Êèê‰æõËÄÖ8001ÈõÜÁæ§ÁéØÂ¢ÉÊûÑÂª∫</h3><h4 id="ÂèÇËÄÉcloud-provider-payment8001"><a href="#ÂèÇËÄÉcloud-provider-payment8001" class="headerlink" title="ÂèÇËÄÉcloud-provider-payment8001"></a>ÂèÇËÄÉcloud-provider-payment8001</h4><h4 id="Êñ∞Âª∫cloud-provider-payment8002"><a href="#Êñ∞Âª∫cloud-provider-payment8002" class="headerlink" title="Êñ∞Âª∫cloud-provider-payment8002"></a>Êñ∞Âª∫cloud-provider-payment8002</h4><p>‰∏∫‰∫ÜÂå∫Âà´ 8001„ÄÅ8002 </p>
<p>Âú®controller‰∏ãÁöÑ PaymentController ‰∏≠</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"ÊèíÂÖ•ÊàêÂäü,ËøîÂõûÁªìÊûú"</span><span class="token operator">+</span>result<span class="token operator">+</span><span class="token string">"\t ÊúçÂä°Á´ØÂè£Ôºö"</span><span class="token operator">+</span>serverPort<span class="token punctuation">,</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"Êü•ËØ¢ÊàêÂäü"</span><span class="token operator">+</span><span class="token string">"\t ÊúçÂä°Á´ØÂè£Ôºö"</span><span class="token operator">+</span>serverPort<span class="token punctuation">,</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="Ë¥üËΩΩÂùáË°°"><a href="#Ë¥üËΩΩÂùáË°°" class="headerlink" title="Ë¥üËΩΩÂùáË°°"></a>Ë¥üËΩΩÂùáË°°</h3><p>Ëøô‰∏™Êó∂ÂÄôÊúâ‰∏™ÈóÆÈ¢ò bug &#x3D;&#x3D;&gt; ËÆ¢ÂçïÊúçÂä°ËÆøÈóÆÂú∞ÂùÄ‰∏çËÉΩÂÜôÊ≠ª</p>
<h4 id="Êîπ-Ê∂àË¥πËÄÖ-80-ÁöÑ-OrderController"><a href="#Êîπ-Ê∂àË¥πËÄÖ-80-ÁöÑ-OrderController" class="headerlink" title="Êîπ Ê∂àË¥πËÄÖ 80 ÁöÑ OrderController"></a>Êîπ Ê∂àË¥πËÄÖ 80 ÁöÑ OrderController</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"> 
 
<span class="token comment">//public static final String PAYMENT_SRV = "http://localhost:8001";</span>
 
<span class="token comment">// ÈÄöËøáÂú®eureka‰∏äÊ≥®ÂÜåËøáÁöÑÂæÆÊúçÂä°ÂêçÁß∞Ë∞ÉÁî®</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PAYMENT_SRV <span class="token operator">=</span> <span class="token string">"http://CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">;</span>
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="ÊµãËØï-2"><a href="#ÊµãËØï-2" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h4><h5 id="ÈáçÂêØ8001-ÂêØÂä®-8002-ÈáçÂêØ-80"><a href="#ÈáçÂêØ8001-ÂêØÂä®-8002-ÈáçÂêØ-80" class="headerlink" title="ÈáçÂêØ8001 ÂêØÂä® 8002 ÈáçÂêØ 80"></a>ÈáçÂêØ8001 ÂêØÂä® 8002 ÈáçÂêØ 80</h5><h5 id="http-localhost-consumer-payment-get-1"><a href="#http-localhost-consumer-payment-get-1" class="headerlink" title="http://localhost/consumer/payment/get/1"></a><a target="_blank" rel="noopener" href="http://localhost/consumer/payment/get/1">http://localhost/consumer/payment/get/1</a></h5><h5 id="Áõ¥Êé•500-‰∏çÁü•ÈÅì-‰∏ªÊú∫ÂºÇÂ∏∏"><a href="#Áõ¥Êé•500-‰∏çÁü•ÈÅì-‰∏ªÊú∫ÂºÇÂ∏∏" class="headerlink" title="Áõ¥Êé•500  ‰∏çÁü•ÈÅì ‰∏ªÊú∫ÂºÇÂ∏∏"></a>Áõ¥Êé•500  ‰∏çÁü•ÈÅì ‰∏ªÊú∫ÂºÇÂ∏∏</h5><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">There was an unexpected error (type=Internal Server Error, status=500).
I/O error on GET request for "http://CLOUD-PAYMENT-SERVICE/payment/get/1": CLOUD-PAYMENT-SERVICE; nested exception is java.net.UnknownHostException: CLOUD-PAYMENT-SERVICE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>‰∏çÁü•ÈÅìÂà∞Â∫ïÊòØÂì™Âè∞  CLOUD-PAYMENT-SERVICE</p>
<h5 id="‰ΩøÁî®-LoadBalancedÊ≥®Ëß£Ëµã‰∫àRestTemplateË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ"><a href="#‰ΩøÁî®-LoadBalancedÊ≥®Ëß£Ëµã‰∫àRestTemplateË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ" class="headerlink" title="‰ΩøÁî®@LoadBalancedÊ≥®Ëß£Ëµã‰∫àRestTemplateË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ"></a>‰ΩøÁî®@LoadBalancedÊ≥®Ëß£Ëµã‰∫àRestTemplateË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ</h5><p>Êõ¥ÊîπÊ∂àË¥πËÄÖ‰∏ãÁöÑ ApplicationContextConfig</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span>
   <span class="token annotation punctuation">@LoadBalanced</span> <span class="token comment">//‰ΩøÁî®@LoadBalancedÊ≥®Ëß£Ëµã‰∫àRestTemplateË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ</span>
   <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getRestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">&#123;</span>
       <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÂÜçÈáçÂêØ Ê∂àË¥πËÄÖ 80  Â∞±ÂèØ‰ª•ÈÄöËøáÂæÆÊúçÂä°ÂêçÁß∞ Áõ¥Êé•Ë∞ÉÁî®ÊúçÂä°</p>
<p>ÂèØ‰ª•ÁúãÂà∞ ÊúçÂä°‰∏ÄÁõ¥Âú® 8001 8002Êù•ÂõûÂàáÊç¢ ËØ¥ÊòéRibbonÁöÑË¥üËΩΩÂùáË°°ÂäüËÉΩ    </p>
<p>RibbonÂíåEurekaÊï¥ÂêàÂêéConsumerÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®ÊúçÂä°ËÄå‰∏çÁî®ÂÜçÂÖ≥ÂøÉÂú∞ÂùÄÂíåÁ´ØÂè£Âè∑Ôºå‰∏îËØ•ÊúçÂä°ËøòÊúâË¥üËΩΩÂäüËÉΩ‰∫Ü„ÄÇO(‚à©_‚à©)O</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-21.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-21.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="actuatorÂæÆÊúçÂä°‰ø°ÊÅØÂÆåÂñÑ"><a href="#actuatorÂæÆÊúçÂä°‰ø°ÊÅØÂÆåÂñÑ" class="headerlink" title="actuatorÂæÆÊúçÂä°‰ø°ÊÅØÂÆåÂñÑ"></a>actuatorÂæÆÊúçÂä°‰ø°ÊÅØÂÆåÂñÑ</h2><h3 id="‰∏ªÊú∫ÂêçÁß∞-ÊúçÂä°ÂêçÁß∞‰øÆÊîπ"><a href="#‰∏ªÊú∫ÂêçÁß∞-ÊúçÂä°ÂêçÁß∞‰øÆÊîπ" class="headerlink" title="‰∏ªÊú∫ÂêçÁß∞:ÊúçÂä°ÂêçÁß∞‰øÆÊîπ"></a>‰∏ªÊú∫ÂêçÁß∞:ÊúçÂä°ÂêçÁß∞‰øÆÊîπ</h3><p>ÂΩìÂâçÈóÆÈ¢ò </p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-22.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-22.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>‰øÆÊîπcloud-provider-payment‰∏ãÁöÑËäÇÁÇπ</p>
<p>yml Âú®eureka ÂØπÈΩê client Â¢ûÂä†</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> payment800x<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="ËÆøÈóÆ‰ø°ÊÅØÊúâIP‰ø°ÊÅØÊèêÁ§∫"><a href="#ËÆøÈóÆ‰ø°ÊÅØÊúâIP‰ø°ÊÅØÊèêÁ§∫" class="headerlink" title="ËÆøÈóÆ‰ø°ÊÅØÊúâIP‰ø°ÊÅØÊèêÁ§∫"></a>ËÆøÈóÆ‰ø°ÊÅØÊúâIP‰ø°ÊÅØÊèêÁ§∫</h3><p>ÂΩìÂâçÈóÆÈ¢ò Ê≤°ÊúâIPÊèêÁ§∫</p>
<p>‰øÆÊîπcloud-provider-payment‰∏ãÁöÑËäÇÁÇπ</p>
<p>yml Âú®instance-id ‰∏ãÂ¢ûÂä†</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">instance</span><span class="token punctuation">:</span>
   <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> payment800x
   <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>     <span class="token comment">#ËÆøÈóÆË∑ØÂæÑÂèØ‰ª•ÊòæÁ§∫IPÂú∞ÂùÄ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h2 id="ÊúçÂä°ÂèëÁé∞Discovery"><a href="#ÊúçÂä°ÂèëÁé∞Discovery" class="headerlink" title="ÊúçÂä°ÂèëÁé∞Discovery"></a>ÊúçÂä°ÂèëÁé∞Discovery</h2><h3 id="ÂØπ‰∫éÊ≥®ÂÜåËøõeurekaÈáåÈù¢ÁöÑÂæÆÊúçÂä°ÔºåÂèØ‰ª•ÈÄöËøáÊúçÂä°ÂèëÁé∞Êù•Ëé∑ÂæóËØ•ÊúçÂä°ÁöÑ‰ø°ÊÅØ"><a href="#ÂØπ‰∫éÊ≥®ÂÜåËøõeurekaÈáåÈù¢ÁöÑÂæÆÊúçÂä°ÔºåÂèØ‰ª•ÈÄöËøáÊúçÂä°ÂèëÁé∞Êù•Ëé∑ÂæóËØ•ÊúçÂä°ÁöÑ‰ø°ÊÅØ" class="headerlink" title="ÂØπ‰∫éÊ≥®ÂÜåËøõeurekaÈáåÈù¢ÁöÑÂæÆÊúçÂä°ÔºåÂèØ‰ª•ÈÄöËøáÊúçÂä°ÂèëÁé∞Êù•Ëé∑ÂæóËØ•ÊúçÂä°ÁöÑ‰ø°ÊÅØ"></a>ÂØπ‰∫éÊ≥®ÂÜåËøõeurekaÈáåÈù¢ÁöÑÂæÆÊúçÂä°ÔºåÂèØ‰ª•ÈÄöËøáÊúçÂä°ÂèëÁé∞Êù•Ëé∑ÂæóËØ•ÊúçÂä°ÁöÑ‰ø°ÊÅØ</h3><p>‰øÆÊîπcloud-provider-paymentÁöÑController</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">DiscoveryClient</span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Resource</span>
<span class="token keyword">private</span> <span class="token class-name">DiscoveryClient</span> discoveryClient<span class="token punctuation">;</span>
    
 <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/discovery"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">discovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token comment">//Ëé∑ÂèñÂæÆÊúçÂä°ÂêçÁß∞</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> services <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getServices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> element <span class="token operator">:</span> services<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> instances <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ServiceInstance</span> e <span class="token operator">:</span> instances<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                        e<span class="token punctuation">.</span><span class="token function">getServiceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span>
                                <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span>
                                <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span>
                                <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>

        <span class="token comment">//Ëé∑ÂèñÂæÆÊúçÂä° ÂÖ∑‰Ωì Âú∞ÂùÄ</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> instances <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span><span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ServiceInstance</span> element <span class="token operator">:</span> instances<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                    element<span class="token punctuation">.</span><span class="token function">getServiceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span>
                    <span class="token operator">+</span> element<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span>
                    <span class="token operator">+</span> element<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span>
                    <span class="token operator">+</span> element<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>discoveryClient<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p>Eureka ÂºÉÁî®Âêé<br>‰ΩøÁî® @EnableDiscoveryClient &#x2F;&#x2F;ÊúçÂä°ÂèëÁé∞</p>
<h2 id="EurekaËá™Êàë‰øùÊä§"><a href="#EurekaËá™Êàë‰øùÊä§" class="headerlink" title="EurekaËá™Êàë‰øùÊä§"></a>EurekaËá™Êàë‰øùÊä§</h2><h3 id="ÊïÖÈöúÁé∞Ë±°"><a href="#ÊïÖÈöúÁé∞Ë±°" class="headerlink" title="ÊïÖÈöúÁé∞Ë±°"></a>ÊïÖÈöúÁé∞Ë±°</h3><h4 id="Ê¶ÇËø∞"><a href="#Ê¶ÇËø∞" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h4><p>‰øùÊä§Ê®°Âºè‰∏ªË¶ÅÁî®‰∫é‰∏ÄÁªÑÂÆ¢Êà∑Á´ØÂíåEureka Server‰πãÈó¥Â≠òÂú®ÁΩëÁªúÂàÜÂå∫Âú∫ÊôØ‰∏ãÁöÑ‰øùÊä§„ÄÇ‰∏ÄÊó¶ËøõÂÖ•‰øùÊä§Ê®°ÂºèÔºå<br>Eureka ServerÂ∞Ü‰ºöÂ∞ùËØï‰øùÊä§ÂÖ∂ÊúçÂä°Ê≥®ÂÜåË°®‰∏≠ÁöÑ‰ø°ÊÅØÔºå‰∏çÂÜçÂà†Èô§ÊúçÂä°Ê≥®ÂÜåË°®‰∏≠ÁöÑÊï∞ÊçÆÔºå‰πüÂ∞±ÊòØ‰∏ç‰ºöÊ≥®ÈîÄ‰ªª‰ΩïÂæÆÊúçÂä°„ÄÇ</p>
<p>Â¶ÇÊûúÂú®Eureka ServerÁöÑÈ¶ñÈ°µÁúãÂà∞‰ª•‰∏ãËøôÊÆµÊèêÁ§∫ÔºåÂàôËØ¥ÊòéEurekaËøõÂÖ•‰∫Ü‰øùÊä§Ê®°ÂºèÔºö<br>EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY‚ÄôRE NOT.<br>RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE </p>
<h3 id="ÂØºËá¥ÂéüÂõ†"><a href="#ÂØºËá¥ÂéüÂõ†" class="headerlink" title="ÂØºËá¥ÂéüÂõ†"></a>ÂØºËá¥ÂéüÂõ†</h3><h4 id="‰∏∫‰ªÄ‰πà‰ºö‰∫ßÁîüEurekaËá™Êàë‰øùÊä§Êú∫Âà∂Ôºü"><a href="#‰∏∫‰ªÄ‰πà‰ºö‰∫ßÁîüEurekaËá™Êàë‰øùÊä§Êú∫Âà∂Ôºü" class="headerlink" title="‰∏∫‰ªÄ‰πà‰ºö‰∫ßÁîüEurekaËá™Êàë‰øùÊä§Êú∫Âà∂Ôºü"></a>‰∏∫‰ªÄ‰πà‰ºö‰∫ßÁîüEurekaËá™Êàë‰øùÊä§Êú∫Âà∂Ôºü</h4><p>‰∏∫‰∫ÜÈò≤Ê≠¢EurekaClientÂèØ‰ª•Ê≠£Â∏∏ËøêË°åÔºå‰ΩÜÊòØ ‰∏é EurekaServerÁΩëÁªú‰∏çÈÄöÊÉÖÂÜµ‰∏ãÔºåEurekaServer‰∏ç‰ºöÁ´ãÂàªÂ∞ÜEurekaClientÊúçÂä°ÂâîÈô§</p>
<h4 id="‰ªÄ‰πàÊòØËá™Êàë‰øùÊä§Ê®°ÂºèÔºü"><a href="#‰ªÄ‰πàÊòØËá™Êàë‰øùÊä§Ê®°ÂºèÔºü" class="headerlink" title="‰ªÄ‰πàÊòØËá™Êàë‰øùÊä§Ê®°ÂºèÔºü"></a>‰ªÄ‰πàÊòØËá™Êàë‰øùÊä§Ê®°ÂºèÔºü</h4><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúEurekaServerÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊé•Êî∂Âà∞Êüê‰∏™ÂæÆÊúçÂä°ÂÆû‰æãÁöÑÂøÉË∑≥ÔºåEurekaServerÂ∞Ü‰ºöÊ≥®ÈîÄËØ•ÂÆû‰æãÔºàÈªòËÆ§90ÁßíÔºâ„ÄÇ‰ΩÜÊòØÂΩìÁΩëÁªúÂàÜÂå∫ÊïÖÈöúÂèëÁîü(Âª∂Êó∂„ÄÅÂç°È°ø„ÄÅÊã•Êå§)Êó∂ÔºåÂæÆÊúçÂä°‰∏éEurekaServer‰πãÈó¥Êó†Ê≥ïÊ≠£Â∏∏ÈÄö‰ø°Ôºå‰ª•‰∏äË°å‰∏∫ÂèØËÉΩÂèòÂæóÈùûÂ∏∏Âç±Èô©‰∫Ü‚Äî‚ÄîÂõ†‰∏∫ÂæÆÊúçÂä°Êú¨Ë∫´ÂÖ∂ÂÆûÊòØÂÅ•Â∫∑ÁöÑÔºåÊ≠§Êó∂Êú¨‰∏çÂ∫îËØ•Ê≥®ÈîÄËøô‰∏™ÂæÆÊúçÂä°„ÄÇEurekaÈÄöËøá‚ÄúËá™Êàë‰øùÊä§Ê®°Âºè‚ÄùÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò‚Äî‚ÄîÂΩìEurekaServerËäÇÁÇπÂú®Áü≠Êó∂Èó¥ÂÜÖ‰∏¢Â§±ËøáÂ§öÂÆ¢Êà∑Á´ØÊó∂ÔºàÂèØËÉΩÂèëÁîü‰∫ÜÁΩëÁªúÂàÜÂå∫ÊïÖÈöúÔºâÔºåÈÇ£‰πàËøô‰∏™ËäÇÁÇπÂ∞±‰ºöËøõÂÖ•Ëá™Êàë‰øùÊä§Ê®°Âºè„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-23.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-23.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Âú®Ëá™Êàë‰øùÊä§Ê®°Âºè‰∏≠ÔºåEureka Server‰ºö‰øùÊä§ÊúçÂä°Ê≥®ÂÜåË°®‰∏≠ÁöÑ‰ø°ÊÅØÔºå‰∏çÂÜçÊ≥®ÈîÄ‰ªª‰ΩïÊúçÂä°ÂÆû‰æã„ÄÇ<br>ÂÆÉÁöÑËÆæËÆ°Âì≤Â≠¶Â∞±ÊòØÂÆÅÂèØ‰øùÁïôÈîôËØØÁöÑÊúçÂä°Ê≥®ÂÜå‰ø°ÊÅØÔºå‰πü‰∏çÁõ≤ÁõÆÊ≥®ÈîÄ‰ªª‰ΩïÂèØËÉΩÂÅ•Â∫∑ÁöÑÊúçÂä°ÂÆû‰æã„ÄÇ‰∏ÄÂè•ËØùËÆ≤Ëß£ÔºöÂ•ΩÊ≠ª‰∏çÂ¶ÇËµñÊ¥ªÁùÄ</p>
<p>Áªº‰∏äÔºåËá™Êàë‰øùÊä§Ê®°ÂºèÊòØ‰∏ÄÁßçÂ∫îÂØπÁΩëÁªúÂºÇÂ∏∏ÁöÑÂÆâÂÖ®‰øùÊä§Êé™ÊñΩ„ÄÇÂÆÉÁöÑÊû∂ÊûÑÂì≤Â≠¶ÊòØÂÆÅÂèØÂêåÊó∂‰øùÁïôÊâÄÊúâÂæÆÊúçÂä°ÔºàÂÅ•Â∫∑ÁöÑÂæÆÊúçÂä°Âíå‰∏çÂÅ•Â∫∑ÁöÑÂæÆÊúçÂä°ÈÉΩ‰ºö‰øùÁïôÔºâ‰πü‰∏çÁõ≤ÁõÆÊ≥®ÈîÄ‰ªª‰ΩïÂÅ•Â∫∑ÁöÑÂæÆÊúçÂä°„ÄÇ‰ΩøÁî®Ëá™Êàë‰øùÊä§Ê®°ÂºèÔºåÂèØ‰ª•ËÆ©EurekaÈõÜÁæ§Êõ¥Âä†ÁöÑÂÅ•Â£Æ„ÄÅÁ®≥ÂÆö„ÄÇ</p>
<blockquote>
<p>‰∏ÄÂè•ËØùÔºöÊüêÊó∂ÂàªÊüê‰∏Ä‰∏™ÂæÆÊúçÂä°‰∏çÂèØÁî®‰∫ÜÔºåEureka‰∏ç‰ºöÁ´ãÂàªÊ∏ÖÁêÜÔºå‰æùÊóß‰ºöÂØπËØ•ÂæÆÊúçÂä°ÁöÑ‰ø°ÊÅØËøõË°å‰øùÂ≠ò</p>
<p>Â±û‰∫éCAPÈáåÈù¢ÁöÑAPÂàÜÊîØ</p>
</blockquote>
<h3 id="ÊÄé‰πàÁ¶ÅÊ≠¢Ëá™Êàë‰øùÊä§"><a href="#ÊÄé‰πàÁ¶ÅÊ≠¢Ëá™Êàë‰øùÊä§" class="headerlink" title="ÊÄé‰πàÁ¶ÅÊ≠¢Ëá™Êàë‰øùÊä§"></a>ÊÄé‰πàÁ¶ÅÊ≠¢Ëá™Êàë‰øùÊä§</h3><h4 id="Ê≥®ÂÜå‰∏≠ÂøÉeureakeServerÁ´Ø7001"><a href="#Ê≥®ÂÜå‰∏≠ÂøÉeureakeServerÁ´Ø7001" class="headerlink" title="Ê≥®ÂÜå‰∏≠ÂøÉeureakeServerÁ´Ø7001"></a>Ê≥®ÂÜå‰∏≠ÂøÉeureakeServerÁ´Ø7001</h4><h5 id="Âá∫ÂéÇÈªòËÆ§ÔºåËá™Êàë‰øùÊä§Êú∫Âà∂ÊòØÂºÄÂêØÁöÑ"><a href="#Âá∫ÂéÇÈªòËÆ§ÔºåËá™Êàë‰øùÊä§Êú∫Âà∂ÊòØÂºÄÂêØÁöÑ" class="headerlink" title="Âá∫ÂéÇÈªòËÆ§ÔºåËá™Êàë‰øùÊä§Êú∫Âà∂ÊòØÂºÄÂêØÁöÑ"></a>Âá∫ÂéÇÈªòËÆ§ÔºåËá™Êàë‰øùÊä§Êú∫Âà∂ÊòØÂºÄÂêØÁöÑ</h5><h6 id="‰ΩøÁî®eureka-server-enable-self-preservation-x3D-false-ÂèØ‰ª•Á¶ÅÁî®Ëá™Êàë‰øùÊä§Ê®°Âºè"><a href="#‰ΩøÁî®eureka-server-enable-self-preservation-x3D-false-ÂèØ‰ª•Á¶ÅÁî®Ëá™Êàë‰øùÊä§Ê®°Âºè" class="headerlink" title="‰ΩøÁî®eureka.server.enable-self-preservation &#x3D; false ÂèØ‰ª•Á¶ÅÁî®Ëá™Êàë‰øùÊä§Ê®°Âºè"></a>‰ΩøÁî®eureka.server.enable-self-preservation &#x3D; false ÂèØ‰ª•Á¶ÅÁî®Ëá™Êàë‰øùÊä§Ê®°Âºè</h6><pre class="line-numbers language-none"><code class="language-none">server:
    #ÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Êú∫Âà∂Ôºå‰øùËØÅ‰∏çÂèØÁî®ÊúçÂä°Ë¢´ÂèäÊó∂Ë∏¢Èô§
       enable-self-preservation: false
    eviction-interval-timer-in-ms: 2000
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ÂÖ≥Èó≠ÊïàÊûú"><a href="#ÂÖ≥Èó≠ÊïàÊûú" class="headerlink" title="ÂÖ≥Èó≠ÊïàÊûú"></a>ÂÖ≥Èó≠ÊïàÊûú</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-24.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-24.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ÂÖ≥Èó≠Ëá™‰øùÂ≠òÊ®°Âºè„ÄÇÂú®ÁΩëÁªú&#x2F;ÂÖ∂‰ªñÈóÆÈ¢òÁöÑÊÉÖÂÜµ‰∏ãÔºåËøôÂèØËÉΩ‰∏ç‰ºö‰øùÊä§ÂÆû‰æãËøáÊúü„ÄÇ</p>
<h5 id="Âú®eurekaServerÁ´Ø7001Â§ÑËÆæÁΩÆÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Êú∫Âà∂"><a href="#Âú®eurekaServerÁ´Ø7001Â§ÑËÆæÁΩÆÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Êú∫Âà∂" class="headerlink" title="Âú®eurekaServerÁ´Ø7001Â§ÑËÆæÁΩÆÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Êú∫Âà∂"></a>Âú®eurekaServerÁ´Ø7001Â§ÑËÆæÁΩÆÂÖ≥Èó≠Ëá™Êàë‰øùÊä§Êú∫Âà∂</h5><h4 id="Áîü‰∫ßËÄÖÂÆ¢Êà∑Á´ØeureakeClientÁ´Ø8001"><a href="#Áîü‰∫ßËÄÖÂÆ¢Êà∑Á´ØeureakeClientÁ´Ø8001" class="headerlink" title="Áîü‰∫ßËÄÖÂÆ¢Êà∑Á´ØeureakeClientÁ´Ø8001"></a>Áîü‰∫ßËÄÖÂÆ¢Êà∑Á´ØeureakeClientÁ´Ø8001</h4><h5 id="ÈªòËÆ§"><a href="#ÈªòËÆ§" class="headerlink" title="ÈªòËÆ§"></a>ÈªòËÆ§</h5><p>eureka.instance.lease-renewal-interval-in-seconds&#x3D;30</p>
<p>eureka.instance.lease-expiration-duration-in-seconds&#x3D;90 #Âçï‰Ωç‰∏∫Áßí(ÈªòËÆ§ÊòØ90Áßí)</p>
<h5 id="ÊîπYML-4"><a href="#ÊîπYML-4" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#ÂøÉË∑≥Ê£ÄÊµã‰∏éÁª≠Á∫¶Êó∂Èó¥</span>
<span class="token comment">#ÂºÄÂèëÊó∂ËÆæÁΩÆÂ∞è‰∫õÔºå‰øùËØÅÊúçÂä°ÂÖ≥Èó≠ÂêéÊ≥®ÂÜå‰∏≠ÂøÉËÉΩÂç≥‰ΩøÂâîÈô§ÊúçÂä°</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
  <span class="token comment">#EurekaÂÆ¢Êà∑Á´ØÂêëÊúçÂä°Á´ØÂèëÈÄÅÂøÉË∑≥ÁöÑÊó∂Èó¥Èó¥ÈöîÔºåÂçï‰Ωç‰∏∫Áßí(ÈªòËÆ§ÊòØ30Áßí)</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token comment">#EurekaÊúçÂä°Á´ØÂú®Êî∂Âà∞ÊúÄÂêé‰∏ÄÊ¨°ÂøÉË∑≥ÂêéÁ≠âÂæÖÊó∂Èó¥‰∏äÈôêÔºåÂçï‰Ωç‰∏∫Áßí(ÈªòËÆ§ÊòØ90Áßí)ÔºåË∂ÖÊó∂Â∞ÜÂâîÈô§ÊúçÂä°</span>
    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÂçïÂêØÂä® 7001 8001 ÊµãËØï</p>
<h1 id="ZookeeperÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"><a href="#ZookeeperÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞" class="headerlink" title="ZookeeperÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"></a>ZookeeperÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞</h1><h2 id="EurekaÂÅúÊ≠¢Êõ¥Êñ∞‰∫Ü‰Ω†ÊÄé‰πàÂäû"><a href="#EurekaÂÅúÊ≠¢Êõ¥Êñ∞‰∫Ü‰Ω†ÊÄé‰πàÂäû" class="headerlink" title="EurekaÂÅúÊ≠¢Êõ¥Êñ∞‰∫Ü‰Ω†ÊÄé‰πàÂäû"></a>EurekaÂÅúÊ≠¢Êõ¥Êñ∞‰∫Ü‰Ω†ÊÄé‰πàÂäû</h2><p>[Home ¬∑ Netflix&#x2F;eureka Wiki ¬∑ GitHub]  (<a target="_blank" rel="noopener" href="https://github.com/Netflix/eureka/wiki">https://github.com/Netflix/eureka/wiki</a>)</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-25.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-25.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><em>ËØëÊñáÔºö</em><br>Â∞§ÈáåÂç°2.0(ÂÅúÊ≠¢)</p>
<p>eureka 2.0‰∏äÁé∞ÊúâÁöÑÂºÄÊ∫êÂ∑•‰ΩúÂ∑≤ÁªèÂÅúÊ≠¢„ÄÇ‰ª£Á†ÅÂ∫ìÂíåÂ∑•‰ª∂‰Ωú‰∏∫Áé∞ÊúâÂ∑•‰ΩúÂ≠òÂÇ®Â∫ìÁöÑ‰∏ÄÈÉ®ÂàÜÂèëÂ∏É2„ÄÇXÂàÜÊîØÁöÑ‰ΩøÁî®È£éÈô©Ëá™Ë¥ü„ÄÇ</p>
<p>Â∞§ÈáåÂç°1„ÄÇxÊòØNetflixÊúçÂä°ÂèëÁé∞Á≥ªÁªüÁöÑÊ†∏ÂøÉÈÉ®ÂàÜÔºåÁõÆÂâç‰ªçÂ§Ñ‰∫éÊ¥ªË∑ÉÁä∂ÊÄÅ„ÄÇ</p>
<h2 id="SpringCloudÊï¥ÂêàZookeeper‰ª£ÊõøEureka"><a href="#SpringCloudÊï¥ÂêàZookeeper‰ª£ÊõøEureka" class="headerlink" title="SpringCloudÊï¥ÂêàZookeeper‰ª£ÊõøEureka"></a>SpringCloudÊï¥ÂêàZookeeper‰ª£ÊõøEureka</h2><h3 id="Ê≥®ÂÜå‰∏≠ÂøÉZookeeper"><a href="#Ê≥®ÂÜå‰∏≠ÂøÉZookeeper" class="headerlink" title="Ê≥®ÂÜå‰∏≠ÂøÉZookeeper"></a>Ê≥®ÂÜå‰∏≠ÂøÉZookeeper</h3><p>zookeeperÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÂçèË∞ÉÂ∑•ÂÖ∑ÔºåÂèØ‰ª•ÂÆûÁé∞Ê≥®ÂÜå‰∏≠ÂøÉÂäüËÉΩ</p>
<p>ÂêØÂä®zookeeperÊúçÂä°Âô® windows  &#x2F; linux</p>
<p>zookeeperÊúçÂä°Âô®Âèñ‰ª£EurekaÊúçÂä°Âô®Ôºåzk‰Ωú‰∏∫ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-26.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-26.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>zookeeper 3.4.9  [Apache ZooKeeper] (<a target="_blank" rel="noopener" href="http://zookeeper.apache.org/">http://zookeeper.apache.org/</a>)</p>
<p>zookeeper  ÂéÜÂè≤Â≠òÊ°£  (<a target="_blank" rel="noopener" href="https://archive.apache.org/dist/zookeeper/">https://archive.apache.org/dist/zookeeper/</a>)</p>
<h3 id="ÊúçÂä°Êèê‰æõËÄÖ"><a href="#ÊúçÂä°Êèê‰æõËÄÖ" class="headerlink" title="ÊúçÂä°Êèê‰æõËÄÖ"></a>ÊúçÂä°Êèê‰æõËÄÖ</h3><h4 id="Êñ∞Âª∫cloud-provider-payment8004"><a href="#Êñ∞Âª∫cloud-provider-payment8004" class="headerlink" title="Êñ∞Âª∫cloud-provider-payment8004"></a>Êñ∞Âª∫cloud-provider-payment8004</h4><h4 id="ÊîπPOM-2"><a href="#ÊîπPOM-2" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-provider-payment8004<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- SpringBootÊï¥ÂêàWebÁªÑ‰ª∂ --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑapiÈÄöÁî®ÂåÖÔºåÂèØ‰ª•‰ΩøÁî®PaymentÊîØ‰ªòEntity --></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- SpringBootÊï¥ÂêàzookeeperÂÆ¢Êà∑Á´Ø --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>


<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="ÊîπYML-5"><a href="#ÊîπYML-5" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#8004Ë°®Á§∫Ê≥®ÂÜåÂà∞zookeeperÊúçÂä°Âô®ÁöÑÊîØ‰ªòÊúçÂä°Êèê‰æõËÄÖÁ´ØÂè£Âè∑</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8004</span>
<span class="token comment">#ÊúçÂä°Âà´Âêç----Ê≥®ÂÜåzookeeperÂà∞Ê≥®ÂÜå‰∏≠ÂøÉÂêçÁß∞</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">zookeeper</span><span class="token punctuation">:</span>
      <span class="token key atrule">connect-string</span><span class="token punctuation">:</span> 192.168.1.29<span class="token punctuation">:</span><span class="token number">2181</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="‰∏ªÂêØÂä®Á±ª"><a href="#‰∏ªÂêØÂä®Á±ª" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableDiscoveryClient</span> <span class="token comment">//ËØ•Ê≥®Ëß£Áî®‰∫éÂêë‰ΩøÁî®consulÊàñËÄÖzookeeper‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÊó∂Ê≥®ÂÜåÊúçÂä°</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8004</span> <span class="token punctuation">&#123;</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8004</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>UUID<span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>

    <span class="token comment">//ÊµãËØïzookeeperÊòØÂê¶ÊàêÂäü</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/zk"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentzk</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"springcloud with zookeeper: "</span><span class="token operator">+</span>serverPort<span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h5 id="zookeeper"><a href="#zookeeper" class="headerlink" title="zookeeper"></a>zookeeper</h5><p>ÂêØÂä®   windows </p>
<p>zkServer.cmd   zkCli.cmd</p>
<h6 id="ZooKeeperÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑"><a href="#ZooKeeperÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑" class="headerlink" title="ZooKeeperÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑"></a>ZooKeeperÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑</h6><p>ZooKeeperÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑Áî®‰∫éÂú®ÂÖ∂ÂëΩÂêçÁ©∫Èó¥ÂÜÖËøõË°å‰∫§‰∫í„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Ëøô‰∏™ÂëΩ‰ª§Â∑•ÂÖ∑ÂàóÂá∫&#x2F;zooËäÇÁÇπ‰πã‰∏ãÁöÑznodeÂàóË°®ÔºåÂ¶Ç‰∏ãÊâÄÁ§∫</p>
<blockquote>
<p>[root@hadoop code]# zkCli.sh -server localhost ls &#x2F;zoo<br>Connecting to localhost<br>‚Ä¶‚Ä¶<br>WATCHER::<br>WatchedEvent state:SyncConnected type:None path:null<br>[duck, cow]<br>[root@hadoop code]#</p>
</blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-27.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-27.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ÂΩìÂâçZooKeeper ‰∏ãÂè™ÊúâZooKeeper Ê†πËäÇÁÇπ Á≠âÂæÖÊ≥®ÂÜå</p>
<h4 id="ÂêØÂä®8004Ê≥®ÂÜåËøõzookeeper"><a href="#ÂêØÂä®8004Ê≥®ÂÜåËøõzookeeper" class="headerlink" title="ÂêØÂä®8004Ê≥®ÂÜåËøõzookeeper"></a>ÂêØÂä®8004Ê≥®ÂÜåËøõzookeeper</h4><h5 id="ÂêØÂä®ÂêéÈóÆÈ¢ò"><a href="#ÂêØÂä®ÂêéÈóÆÈ¢ò" class="headerlink" title="ÂêØÂä®ÂêéÈóÆÈ¢ò"></a>ÂêØÂä®ÂêéÈóÆÈ¢ò</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-28.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-28.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h5 id="why"><a href="#why" class="headerlink" title="why"></a>why</h5><h6 id="Ëß£ÂÜ≥zookeeperÁâàÊú¨jarÂåÖÂÜ≤Á™ÅÈóÆÈ¢ò-ËØ¥Êòépom‰∏≠ÁâàÊú¨‰∏ç‰∏ÄËá¥"><a href="#Ëß£ÂÜ≥zookeeperÁâàÊú¨jarÂåÖÂÜ≤Á™ÅÈóÆÈ¢ò-ËØ¥Êòépom‰∏≠ÁâàÊú¨‰∏ç‰∏ÄËá¥" class="headerlink" title="Ëß£ÂÜ≥zookeeperÁâàÊú¨jarÂåÖÂÜ≤Á™ÅÈóÆÈ¢ò   ËØ¥Êòépom‰∏≠ÁâàÊú¨‰∏ç‰∏ÄËá¥"></a>Ëß£ÂÜ≥zookeeperÁâàÊú¨jarÂåÖÂÜ≤Á™ÅÈóÆÈ¢ò   ËØ¥Êòépom‰∏≠ÁâàÊú¨‰∏ç‰∏ÄËá¥</h6><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-29.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-29.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-30.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-30.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h6 id="POMÊéíÈô§zookeeperÂÜ≤Á™Å"><a href="#POMÊéíÈô§zookeeperÂÜ≤Á™Å" class="headerlink" title="POMÊéíÈô§zookeeperÂÜ≤Á™Å"></a>POMÊéíÈô§zookeeperÂÜ≤Á™Å</h6><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!-- SpringBootÊï¥ÂêàzookeeperÂÆ¢Êà∑Á´Ø --></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
           <span class="token comment">&lt;!--ÂÖàÊéíÈô§Ëá™Â∏¶ÁöÑzookeeper3.5.3--></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>
                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
                   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
               <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
       <span class="token comment">&lt;!--Ê∑ªÂä†zookeeper3.4.9ÁâàÊú¨--></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.4.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="È™åËØÅÊµãËØï"><a href="#È™åËØÅÊµãËØï" class="headerlink" title="È™åËØÅÊµãËØï"></a>È™åËØÅÊµãËØï</h4><p>[localhost:8004&#x2F;payment&#x2F;zk] (<a target="_blank" rel="noopener" href="http://localhost:8004/payment/zk">http://localhost:8004/payment/zk</a>)</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-31.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-31.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>znode ËäÇÁÇπ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-32.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-32.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Ëß£ÊûêJSON</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"cloud-provider-payment"</span><span class="token punctuation">,</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"194c42df-803f-43be-ae1c-c50e9ab24ffd"</span><span class="token punctuation">,</span>
  <span class="token property">"address"</span><span class="token operator">:</span> <span class="token string">"DESKTOP-BOKRHUF"</span><span class="token punctuation">,</span>
  <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">8004</span><span class="token punctuation">,</span>
  <span class="token property">"sslPort"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
  <span class="token property">"payload"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"@class"</span><span class="token operator">:</span> <span class="token string">"org.springframework.cloud.zookeeper.discovery.ZookeeperInstance"</span><span class="token punctuation">,</span>
    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"application-1"</span><span class="token punctuation">,</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"cloud-provider-payment"</span><span class="token punctuation">,</span>
    <span class="token property">"metadata"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token property">"registrationTimeUTC"</span><span class="token operator">:</span> <span class="token number">1631890824897</span><span class="token punctuation">,</span>
  <span class="token property">"serviceType"</span><span class="token operator">:</span> <span class="token string">"DYNAMIC"</span><span class="token punctuation">,</span>
  <span class="token property">"uriSpec"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token property">"parts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"scheme"</span><span class="token punctuation">,</span>
        <span class="token property">"variable"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"://"</span><span class="token punctuation">,</span>
        <span class="token property">"variable"</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"address"</span><span class="token punctuation">,</span>
        <span class="token property">"variable"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">":"</span><span class="token punctuation">,</span>
        <span class="token property">"variable"</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#123;</span>
        <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"port"</span><span class="token punctuation">,</span>
        <span class="token property">"variable"</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ËØ¥ÊòéÊàêÂäü</p>
<h4 id="ÊÄùËÄÉ"><a href="#ÊÄùËÄÉ" class="headerlink" title="ÊÄùËÄÉ"></a>ÊÄùËÄÉ</h4><h5 id="ÊúçÂä°ËäÇÁÇπÊòØ‰∏¥Êó∂ËäÇÁÇπËøòÊòØÊåÅ‰πÖËäÇÁÇπ"><a href="#ÊúçÂä°ËäÇÁÇπÊòØ‰∏¥Êó∂ËäÇÁÇπËøòÊòØÊåÅ‰πÖËäÇÁÇπ" class="headerlink" title="ÊúçÂä°ËäÇÁÇπÊòØ‰∏¥Êó∂ËäÇÁÇπËøòÊòØÊåÅ‰πÖËäÇÁÇπ"></a>ÊúçÂä°ËäÇÁÇπÊòØ‰∏¥Êó∂ËäÇÁÇπËøòÊòØÊåÅ‰πÖËäÇÁÇπ</h5><p>ÂÅú8004   &#x3D;&#x3D;&gt; ÂæóÂà∞ÁªìËÆ∫ ‰∏¥Êó∂ÁöÑ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-33.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-33.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="ÊúçÂä°Ê∂àË¥πËÄÖ"><a href="#ÊúçÂä°Ê∂àË¥πËÄÖ" class="headerlink" title="ÊúçÂä°Ê∂àË¥πËÄÖ"></a>ÊúçÂä°Ê∂àË¥πËÄÖ</h3><h4 id="Êñ∞Âª∫cloud-consumerzk-order80"><a href="#Êñ∞Âª∫cloud-consumerzk-order80" class="headerlink" title="Êñ∞Âª∫cloud-consumerzk-order80"></a>Êñ∞Âª∫cloud-consumerzk-order80</h4><h4 id="ÊîπPOM-3"><a href="#ÊîπPOM-3" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">&lt;<span class="token punctuation">?</span>xml version="1.0" encoding="UTF<span class="token punctuation">-</span>8"<span class="token punctuation">?</span><span class="token punctuation">></span>
&lt;project xmlns="http<span class="token punctuation">:</span>//maven.apache.org/POM/4.0.0"
         xmlns<span class="token punctuation">:</span>xsi="http<span class="token punctuation">:</span>//www.w3.org/2001/XMLSchema<span class="token punctuation">-</span>instance"
         xsi<span class="token punctuation">:</span>schemaLocation="http<span class="token punctuation">:</span>//maven.apache.org/POM/4.0.0 http<span class="token punctuation">:</span>//maven.apache.org/xsd/maven<span class="token punctuation">-</span>4.0.0.xsd"<span class="token punctuation">></span>
    &lt;parent<span class="token punctuation">></span>
        &lt;artifactId<span class="token punctuation">></span>Learn<span class="token punctuation">-</span>SpringCloud&lt;/artifactId<span class="token punctuation">></span>
        &lt;groupId<span class="token punctuation">></span>com.ctrl.springcloud&lt;/groupId<span class="token punctuation">></span>
        &lt;version<span class="token punctuation">></span>1.0<span class="token punctuation">-</span>SNAPSHOT&lt;/version<span class="token punctuation">></span>
    &lt;/parent<span class="token punctuation">></span>
    &lt;modelVersion<span class="token punctuation">></span>4.0.0&lt;/modelVersion<span class="token punctuation">></span>

    &lt;artifactId<span class="token punctuation">></span>cloud<span class="token punctuation">-</span>consumerzk<span class="token punctuation">-</span>order80&lt;/artifactId<span class="token punctuation">></span>

    &lt;dependencies<span class="token punctuation">></span>
        &lt;<span class="token tag">!--</span> SpringBootÊï¥ÂêàWebÁªÑ‰ª∂ <span class="token punctuation">-</span><span class="token punctuation">-</span><span class="token punctuation">></span><span class="token scalar string">
        &lt;dependency>
            &lt;groupId>org.springframework.boot&lt;/groupId>
            &lt;artifactId>spring-boot-starter-web&lt;/artifactId>
        &lt;/dependency>
        &lt;!-- SpringBootÊï¥ÂêàzookeeperÂÆ¢Êà∑Á´Ø -->
        &lt;dependency>
            &lt;groupId>org.springframework.cloud&lt;/groupId>
            &lt;artifactId>spring-cloud-starter-zookeeper-discovery&lt;/artifactId>
            &lt;!--ÂÖàÊéíÈô§Ëá™Â∏¶ÁöÑzookeeper-->
            &lt;exclusions>
                &lt;exclusion>
                    &lt;groupId>org.apache.zookeeper&lt;/groupId>
                    &lt;artifactId>zookeeper&lt;/artifactId>
                &lt;/exclusion>
            &lt;/exclusions>
        &lt;/dependency>
        &lt;!--Ê∑ªÂä†zookeeper3.4.9ÁâàÊú¨-->
        &lt;dependency>
            &lt;groupId>org.apache.zookeeper&lt;/groupId>
            &lt;artifactId>zookeeper&lt;/artifactId>
            &lt;version>3.4.9&lt;/version>
        &lt;/dependency>
        &lt;dependency>
            &lt;groupId>org.springframework.boot&lt;/groupId>
            &lt;artifactId>spring-boot-devtools&lt;/artifactId>
            &lt;scope>runtime&lt;/scope>
            &lt;optional>true&lt;/optional>
        &lt;/dependency>
        &lt;dependency>
            &lt;groupId>org.projectlombok&lt;/groupId>
            &lt;artifactId>lombok&lt;/artifactId>
            &lt;optional>true&lt;/optional>
        &lt;/dependency>
        &lt;dependency>
            &lt;groupId>org.springframework.boot&lt;/groupId>
            &lt;artifactId>spring-boot-starter-test&lt;/artifactId>
            &lt;scope>test&lt;/scope>
        &lt;/dependency></span>
    &lt;/dependencies<span class="token punctuation">></span>
&lt;/project<span class="token punctuation">></span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-6"><a href="#ÊîπYML-6" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>consumer<span class="token punctuation">-</span>order
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token comment">#Ê≥®ÂÜåÂà∞zookeeperÂú∞ÂùÄ</span>
    <span class="token key atrule">zookeeper</span><span class="token punctuation">:</span>
      <span class="token key atrule">connect-string</span><span class="token punctuation">:</span> 192.168.1.29<span class="token punctuation">:</span><span class="token number">2181</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="‰∏ªÂêØÂä®Á±ª-1"><a href="#‰∏ªÂêØÂä®Á±ª-1" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderZK80</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderZK80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="‰∏öÂä°Á±ª"><a href="#‰∏öÂä°Á±ª" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h4><h5 id="ÈÖçÁΩÆBean"><a href="#ÈÖçÁΩÆBean" class="headerlink" title="ÈÖçÁΩÆBean"></a>ÈÖçÁΩÆBean</h5><h6 id="ApplicationContextConfig-1"><a href="#ApplicationContextConfig-1" class="headerlink" title="ApplicationContextConfig"></a>ApplicationContextConfig</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>loadbalancer<span class="token punctuation">.</span></span><span class="token class-name">LoadBalanced</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">RestTemplate</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@LoadBalanced</span> <span class="token comment">//‰ΩøÁî®@LoadBalancedÊ≥®Ëß£Ëµã‰∫àRestTemplateË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ</span>
    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getRestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//RestTemplateÊèê‰æõ‰∫ÜÂ§öÁßç‰æøÊç∑ËÆøÈóÆËøúÁ®ãHttpÊúçÂä°ÁöÑÊñπÊ≥ïÔºå</span>
    <span class="token comment">//ÊòØ‰∏ÄÁßçÁÆÄÂçï‰æøÊç∑ÁöÑËÆøÈóÆrestfulÊúçÂä°Ê®°ÊùøÁ±ªÔºåÊòØSpringÊèê‰æõÁöÑÁî®‰∫éËÆøÈóÆRestÊúçÂä°ÁöÑÂÆ¢Êà∑Á´ØÊ®°ÊùøÂ∑•ÂÖ∑ÈõÜ</span>

    <span class="token comment">//ÂÆòÁΩëÂú∞ÂùÄ</span>
    <span class="token comment">//https://docs.spring.io/spring-framework/docs/5.2.2.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html</span>

    <span class="token comment">//‰ΩøÁî®restTemplateËÆøÈóÆrestfulÊé•Âè£ÈùûÂ∏∏ÁöÑÁÆÄÂçïÁ≤óÊö¥Êó†ËÑë„ÄÇ</span>
    <span class="token comment">//(url, requestMap, ResponseBean.class)Ëøô‰∏â‰∏™ÂèÇÊï∞ÂàÜÂà´‰ª£Ë°®</span>
    <span class="token comment">//RESTËØ∑Ê±ÇÂú∞ÂùÄ„ÄÅËØ∑Ê±ÇÂèÇÊï∞„ÄÅHTTPÂìçÂ∫îËΩ¨Êç¢Ë¢´ËΩ¨Êç¢ÊàêÁöÑÂØπË±°Á±ªÂûã„ÄÇ</span>
<span class="token punctuation">&#125;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="Controller-1"><a href="#Controller-1" class="headerlink" title="Controller"></a>Controller</h5><h6 id="OrderZKController"><a href="#OrderZKController" class="headerlink" title="OrderZKController"></a>OrderZKController</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">RestTemplate</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderZKController</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> INVOKE_URL <span class="token operator">=</span> <span class="token string">"http://cloud-provider-payment"</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/zk"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>INVOKE_URL<span class="token operator">+</span><span class="token string">"/payment/zk"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Ê∂àË¥πËÄÖË∞ÉÁî®ÊîØ‰ªòÊúçÂä°(zookeeper)--->result:"</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-34.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-34.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h4 id="È™åËØÅÊµãËØï-1"><a href="#È™åËØÅÊµãËØï-1" class="headerlink" title="È™åËØÅÊµãËØï"></a>È™åËØÅÊµãËØï</h4><h5 id="ËÆøÈóÆÊµãËØïÂú∞ÂùÄ-http-localhost-consumer-payment-zk"><a href="#ËÆøÈóÆÊµãËØïÂú∞ÂùÄ-http-localhost-consumer-payment-zk" class="headerlink" title="ËÆøÈóÆÊµãËØïÂú∞ÂùÄ http://localhost/consumer/payment/zk"></a>ËÆøÈóÆÊµãËØïÂú∞ÂùÄ <a target="_blank" rel="noopener" href="http://localhost/consumer/payment/zk">http://localhost/consumer/payment/zk</a></h5><h1 id="ConsulÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"><a href="#ConsulÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞" class="headerlink" title="ConsulÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞"></a>ConsulÊúçÂä°Ê≥®ÂÜå‰∏éÂèëÁé∞</h1><h2 id="ConsulÁÆÄ‰ªã"><a href="#ConsulÁÆÄ‰ªã" class="headerlink" title="ConsulÁÆÄ‰ªã"></a>ConsulÁÆÄ‰ªã</h2><h3 id="ÊòØ‰ªÄ‰πà"><a href="#ÊòØ‰ªÄ‰πà" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><p><a target="_blank" rel="noopener" href="https://www.consul.io/intro/index.html">https://www.consul.io/intro/index.html</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-35.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-35.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Consul ÊòØ‰∏ÄÂ•óÂºÄÊ∫êÁöÑÂàÜÂ∏ÉÂºèÊúçÂä°ÂèëÁé∞ÂíåÈÖçÁΩÆÁÆ°ÁêÜÁ≥ªÁªüÔºåÁî± HashiCorp ÂÖ¨Âè∏Áî® Go ËØ≠Ë®ÄÂºÄÂèë„ÄÇ</p>
<p>Êèê‰æõ‰∫ÜÂæÆÊúçÂä°Á≥ªÁªü‰∏≠ÁöÑÊúçÂä°Ê≤ªÁêÜ„ÄÅÈÖçÁΩÆ‰∏≠ÂøÉ„ÄÅÊéßÂà∂ÊÄªÁ∫øÁ≠âÂäüËÉΩ„ÄÇËøô‰∫õÂäüËÉΩ‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÈÉΩÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÂçïÁã¨‰ΩøÁî®Ôºå‰πüÂèØ‰ª•‰∏ÄËµ∑‰ΩøÁî®‰ª•ÊûÑÂª∫ÂÖ®Êñπ‰ΩçÁöÑÊúçÂä°ÁΩëÊ†ºÔºåÊÄª‰πãConsulÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÆåÊï¥ÁöÑÊúçÂä°ÁΩëÊ†ºËß£ÂÜ≥ÊñπÊ°à„ÄÇ</p>
<p>ÂÆÉÂÖ∑ÊúâÂæàÂ§ö‰ºòÁÇπ„ÄÇÂåÖÊã¨Ôºö Âü∫‰∫é raft ÂçèËÆÆÔºåÊØîËæÉÁÆÄÊ¥ÅÔºõ ÊîØÊåÅÂÅ•Â∫∑Ê£ÄÊü•, ÂêåÊó∂ÊîØÊåÅ HTTP Âíå DNS ÂçèËÆÆ ÊîØÊåÅË∑®Êï∞ÊçÆ‰∏≠ÂøÉÁöÑ WAN ÈõÜÁæ§ Êèê‰æõÂõæÂΩ¢ÁïåÈù¢ Ë∑®Âπ≥Âè∞ÔºåÊîØÊåÅ Linux„ÄÅMac„ÄÅWindows</p>
<h3 id="ËÉΩÂπ≤Âòõ"><a href="#ËÉΩÂπ≤Âòõ" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><p>Spring Cloud Consul ÂÖ∑ÊúâÂ¶Ç‰∏ãÁâπÊÄßÔºö</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-36.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-36.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<ul>
<li>ÊúçÂä°ÂèëÁé∞ : Êèê‰æõHTTPÂíåDNS‰∏§ÁßçÂèëÁé∞ÊñπÂºè„ÄÇ</li>
<li>ÂÅ•Â∫∑ÁõëÊµã : ÊîØÊåÅÂ§öÁßçÊñπÂºèÔºåHTTP„ÄÅTCP„ÄÅDocker„ÄÅShellËÑöÊú¨ÂÆöÂà∂ÂåñÁõëÊéß</li>
<li>KVÂ≠òÂÇ® : Key„ÄÅValueÁöÑÂ≠òÂÇ®ÊñπÂºè</li>
<li>Â§öÊï∞ÊçÆ‰∏≠ÂøÉ : ConsulÊîØÊåÅÂ§öÊï∞ÊçÆ‰∏≠ÂøÉ</li>
<li>ÂèØËßÜÂåñWebÁïåÈù¢</li>
</ul>
<h3 id="ÂéªÂì™‰∏ã"><a href="#ÂéªÂì™‰∏ã" class="headerlink" title="ÂéªÂì™‰∏ã"></a>ÂéªÂì™‰∏ã</h3><p><a target="_blank" rel="noopener" href="https://www.consul.io/downloads.html">https://www.consul.io/downloads.html</a></p>
<h3 id="ÊÄé‰πàÁé©"><a href="#ÊÄé‰πàÁé©" class="headerlink" title="ÊÄé‰πàÁé©"></a>ÊÄé‰πàÁé©</h3><p><a target="_blank" rel="noopener" href="https://www.springcloud.cc/spring-cloud-consul.html">https://www.springcloud.cc/spring-cloud-consul.html</a></p>
<h2 id="ÂÆâË£ÖÂπ∂ËøêË°åConsul"><a href="#ÂÆâË£ÖÂπ∂ËøêË°åConsul" class="headerlink" title="ÂÆâË£ÖÂπ∂ËøêË°åConsul"></a>ÂÆâË£ÖÂπ∂ËøêË°åConsul</h2><h3 id="ÂÆòÁΩëÂÆâË£ÖËØ¥Êòé"><a href="#ÂÆòÁΩëÂÆâË£ÖËØ¥Êòé" class="headerlink" title="ÂÆòÁΩëÂÆâË£ÖËØ¥Êòé"></a>ÂÆòÁΩëÂÆâË£ÖËØ¥Êòé</h3><p><a target="_blank" rel="noopener" href="https://learn.hashicorp.com/consul/getting-started/install.html">https://learn.hashicorp.com/consul/getting-started/install.html</a></p>
<p>‰∏ãËΩΩÂÆåÊàêÂêéÂè™Êúâ‰∏Ä‰∏™consul.exeÊñá‰ª∂Ôºå<br>Á°¨ÁõòË∑ØÂæÑ‰∏ãÂèåÂáªËøêË°åÔºåÊü•ÁúãÁâàÊú¨Âè∑‰ø°ÊÅØ</p>
<h3 id="‰ΩøÁî®ÂºÄÂèëÊ®°ÂºèÂêØÂä®"><a href="#‰ΩøÁî®ÂºÄÂèëÊ®°ÂºèÂêØÂä®" class="headerlink" title="‰ΩøÁî®ÂºÄÂèëÊ®°ÂºèÂêØÂä®"></a>‰ΩøÁî®ÂºÄÂèëÊ®°ÂºèÂêØÂä®</h3><p>consul agent -dev</p>
<p>ÈÄöËøá‰ª•‰∏ãÂú∞ÂùÄÂèØ‰ª•ËÆøÈóÆConsulÁöÑÈ¶ñÈ°µÔºö<a target="_blank" rel="noopener" href="http://localhost:8500/">http://localhost:8500</a></p>
<p>ÁªìÊûúÈ°µÈù¢</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-37.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-37.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="ÊúçÂä°Êèê‰æõËÄÖ-1"><a href="#ÊúçÂä°Êèê‰æõËÄÖ-1" class="headerlink" title="ÊúçÂä°Êèê‰æõËÄÖ"></a>ÊúçÂä°Êèê‰æõËÄÖ</h2><h3 id="Êñ∞Âª∫ModuleÊîØ‰ªòÊúçÂä°provider8006"><a href="#Êñ∞Âª∫ModuleÊîØ‰ªòÊúçÂä°provider8006" class="headerlink" title="Êñ∞Âª∫ModuleÊîØ‰ªòÊúçÂä°provider8006"></a>Êñ∞Âª∫ModuleÊîØ‰ªòÊúçÂä°provider8006</h3><p>cloud-providerconsul-payment8006</p>
<h3 id="ÊîπPOM-4"><a href="#ÊîπPOM-4" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-providerconsul-payment8006<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--SpringCloud consul-server --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-consul-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- SpringBootÊï¥ÂêàWebÁªÑ‰ª∂ --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--Êó•Â∏∏ÈÄöÁî®jarÂåÖÈÖçÁΩÆ--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-7"><a href="#ÊîπYML-7" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">###consulÊúçÂä°Á´ØÂè£Âè∑</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8006</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> consul<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment
  <span class="token comment">####consulÊ≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">consul</span><span class="token punctuation">:</span>
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token comment">#hostname: 127.0.0.1</span>
        <span class="token key atrule">service-name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>Á±ª‰ªézookeeper ÁÖßÊäÑ ‰øÆÊîπ paymentzkÊñπÊ≥ï‰ª•ÂèäÁõ∏ÂÖ≥ÊèêÁ§∫Â∞±OK‰∫Ü</p>
<p>ÂêØÂä®ÊàêÂäü</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-38.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-38.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="È™åËØÅÊµãËØï-2"><a href="#È™åËØÅÊµãËØï-2" class="headerlink" title="È™åËØÅÊµãËØï"></a>È™åËØÅÊµãËØï</h3><p><a target="_blank" rel="noopener" href="http://localhost:8006/payment/consul">http://localhost:8006/payment/consul</a></p>
<h2 id="ÊúçÂä°Ê∂àË¥πËÄÖ-1"><a href="#ÊúçÂä°Ê∂àË¥πËÄÖ-1" class="headerlink" title="ÊúçÂä°Ê∂àË¥πËÄÖ"></a>ÊúçÂä°Ê∂àË¥πËÄÖ</h2><h3 id="Êñ∞Âª∫ModuleÊ∂àË¥πÊúçÂä°order80"><a href="#Êñ∞Âª∫ModuleÊ∂àË¥πÊúçÂä°order80" class="headerlink" title="Êñ∞Âª∫ModuleÊ∂àË¥πÊúçÂä°order80"></a>Êñ∞Âª∫ModuleÊ∂àË¥πÊúçÂä°order80</h3><p>cloud-consumerconsul-order80</p>
<h3 id="ÊîπPOM-5"><a href="#ÊîπPOM-5" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumerconsul-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--SpringCloud consul-server --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-consul-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- SpringBootÊï¥ÂêàWebÁªÑ‰ª∂ --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--Êó•Â∏∏ÈÄöÁî®jarÂåÖÈÖçÁΩÆ--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>




<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-8"><a href="#ÊîπYML-8" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">###consulÊúçÂä°Á´ØÂè£Âè∑</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>consumer<span class="token punctuation">-</span>order
  <span class="token comment">####consulÊ≥®ÂÜå‰∏≠ÂøÉÂú∞ÂùÄ</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">consul</span><span class="token punctuation">:</span>
      <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token comment">#hostname: 127.0.0.1</span>
        <span class="token key atrule">service-name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏ªÂêØÂä®Á±ª-2"><a href="#‰∏ªÂêØÂä®Á±ª-2" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">EnableDiscoveryClient</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">//@EnableDiscoveryClient //ËØ•Ê≥®Ëß£Áî®‰∫éÂêë‰ΩøÁî®consulÊàñËÄÖzookeeper‰Ωú‰∏∫Ê≥®ÂÜå‰∏≠ÂøÉÊó∂Ê≥®ÂÜåÊúçÂä°</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderConsulMain80</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderConsulMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏öÂä°Á±ª-1"><a href="#‰∏öÂä°Á±ª-1" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h3><h5 id="ÈÖçÁΩÆBean-1"><a href="#ÈÖçÁΩÆBean-1" class="headerlink" title="ÈÖçÁΩÆBean"></a>ÈÖçÁΩÆBean</h5><h6 id="ApplicationContextConfig-2"><a href="#ApplicationContextConfig-2" class="headerlink" title="ApplicationContextConfig"></a>ApplicationContextConfig</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>loadbalancer<span class="token punctuation">.</span></span><span class="token class-name">LoadBalanced</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">RestTemplate</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token annotation punctuation">@LoadBalanced</span> <span class="token comment">//‰ΩøÁî®@LoadBalancedÊ≥®Ëß£Ëµã‰∫àRestTemplateË¥üËΩΩÂùáË°°ÁöÑËÉΩÂäõ</span>
    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getRestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//RestTemplateÊèê‰æõ‰∫ÜÂ§öÁßç‰æøÊç∑ËÆøÈóÆËøúÁ®ãHttpÊúçÂä°ÁöÑÊñπÊ≥ïÔºå</span>
    <span class="token comment">//ÊòØ‰∏ÄÁßçÁÆÄÂçï‰æøÊç∑ÁöÑËÆøÈóÆrestfulÊúçÂä°Ê®°ÊùøÁ±ªÔºåÊòØSpringÊèê‰æõÁöÑÁî®‰∫éËÆøÈóÆRestÊúçÂä°ÁöÑÂÆ¢Êà∑Á´ØÊ®°ÊùøÂ∑•ÂÖ∑ÈõÜ</span>

    <span class="token comment">//ÂÆòÁΩëÂú∞ÂùÄ</span>
    <span class="token comment">//https://docs.spring.io/spring-framework/docs/5.2.2.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html</span>

    <span class="token comment">//‰ΩøÁî®restTemplateËÆøÈóÆrestfulÊé•Âè£ÈùûÂ∏∏ÁöÑÁÆÄÂçïÁ≤óÊö¥Êó†ËÑë„ÄÇ</span>
    <span class="token comment">//(url, requestMap, ResponseBean.class)Ëøô‰∏â‰∏™ÂèÇÊï∞ÂàÜÂà´‰ª£Ë°®</span>
    <span class="token comment">//RESTËØ∑Ê±ÇÂú∞ÂùÄ„ÄÅËØ∑Ê±ÇÂèÇÊï∞„ÄÅHTTPÂìçÂ∫îËΩ¨Êç¢Ë¢´ËΩ¨Êç¢ÊàêÁöÑÂØπË±°Á±ªÂûã„ÄÇ</span>
<span class="token punctuation">&#125;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="Controller-2"><a href="#Controller-2" class="headerlink" title="Controller"></a>Controller</h5><h6 id="OrderConsulController"><a href="#OrderConsulController" class="headerlink" title="OrderConsulController"></a>OrderConsulController</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">RestTemplate</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderConsulController</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> INVOKE_URL <span class="token operator">=</span> <span class="token string">"http://consul-provider-payment"</span><span class="token punctuation">;</span> <span class="token comment">// cloud-provider-payment consul-provider-payment</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/consul"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>INVOKE_URL<span class="token operator">+</span><span class="token string">"/payment/consul"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Ê∂àË¥πËÄÖË∞ÉÁî®ÊîØ‰ªòÊúçÂä°(consule)--->result:"</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>



<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="È™åËØÅÊµãËØï-3"><a href="#È™åËØÅÊµãËØï-3" class="headerlink" title="È™åËØÅÊµãËØï"></a>È™åËØÅÊµãËØï</h3><p><a target="_blank" rel="noopener" href="http://localhost/consumer/payment/consul">http://localhost/consumer/payment/consul</a></p>
<h2 id="‰∏â‰∏™Ê≥®ÂÜå‰∏≠ÂøÉÂºÇÂêåÁÇπ"><a href="#‰∏â‰∏™Ê≥®ÂÜå‰∏≠ÂøÉÂºÇÂêåÁÇπ" class="headerlink" title="‰∏â‰∏™Ê≥®ÂÜå‰∏≠ÂøÉÂºÇÂêåÁÇπ"></a>‰∏â‰∏™Ê≥®ÂÜå‰∏≠ÂøÉÂºÇÂêåÁÇπ</h2><h3 id="ÁªèÂÖ∏CAPÂõæ"><a href="#ÁªèÂÖ∏CAPÂõæ" class="headerlink" title="ÁªèÂÖ∏CAPÂõæ"></a>ÁªèÂÖ∏CAPÂõæ</h3><p>ÊúÄÂ§öÂè™ËÉΩÂêåÊó∂ËæÉÂ•ΩÁöÑÊª°Ë∂≥‰∏§‰∏™„ÄÇ<br> CAPÁêÜËÆ∫ÁöÑÊ†∏ÂøÉÊòØÔºö<strong>‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏çÂèØËÉΩÂêåÊó∂ÂæàÂ•ΩÁöÑÊª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂèØÁî®ÊÄßÂíåÂàÜÂå∫ÂÆπÈîôÊÄßËøô‰∏â‰∏™ÈúÄÊ±ÇÔºå</strong><br>Âõ†Ê≠§ÔºåÊ†πÊçÆ CAP ÂéüÁêÜÂ∞Ü NoSQL Êï∞ÊçÆÂ∫ìÂàÜÊàê‰∫ÜÊª°Ë∂≥ CA ÂéüÂàô„ÄÅÊª°Ë∂≥ CP ÂéüÂàôÂíåÊª°Ë∂≥ AP ÂéüÂàô‰∏â Â§ßÁ±ªÔºö<br>CA - ÂçïÁÇπÈõÜÁæ§ÔºåÊª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂèØÁî®ÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏Âú®ÂèØÊâ©Â±ïÊÄß‰∏ä‰∏çÂ§™Âº∫Â§ß„ÄÇ<br>CP - Êª°Ë∂≥‰∏ÄËá¥ÊÄßÔºåÂàÜÂå∫ÂÆπÂøçÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏ÊÄßËÉΩ‰∏çÊòØÁâπÂà´È´ò„ÄÇ<br>AP - Êª°Ë∂≥ÂèØÁî®ÊÄßÔºåÂàÜÂå∫ÂÆπÂøçÊÄßÁöÑÁ≥ªÁªüÔºåÈÄöÂ∏∏ÂèØËÉΩÂØπ‰∏ÄËá¥ÊÄßË¶ÅÊ±Ç‰Ωé‰∏Ä‰∫õ„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-39.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-39.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="CAP"><a href="#CAP" class="headerlink" title="CAP"></a>CAP</h3><ul>
<li>C:ConsistencyÔºàÂº∫‰∏ÄËá¥ÊÄßÔºâ</li>
<li>A:AvailabilityÔºàÂèØÁî®ÊÄßÔºâ</li>
<li>P:Partition toleranceÔºàÂàÜÂå∫ÂÆπÈîôÊÄßÔºâ</li>
<li>CAPÁêÜËÆ∫ÂÖ≥Ê≥®Á≤íÂ∫¶ÊòØÊï∞ÊçÆÔºåËÄå‰∏çÊòØÊï¥‰ΩìÁ≥ªÁªüËÆæËÆ°ÁöÑÁ≠ñÁï•</li>
</ul>
<p>AP(Eureka)</p>
<p>APÊû∂ÊûÑ<br>ÂΩìÁΩëÁªúÂàÜÂå∫Âá∫Áé∞ÂêéÔºå‰∏∫‰∫Ü‰øùËØÅÂèØÁî®ÊÄßÔºåÁ≥ªÁªüBÂèØ‰ª•ËøîÂõûÊóßÂÄºÔºå‰øùËØÅÁ≥ªÁªüÁöÑÂèØÁî®ÊÄß„ÄÇ<br><strong>ÁªìËÆ∫ÔºöËøùËÉå‰∫Ü‰∏ÄËá¥ÊÄßCÁöÑË¶ÅÊ±ÇÔºåÂè™Êª°Ë∂≥ÂèØÁî®ÊÄßÂíåÂàÜÂå∫ÂÆπÈîôÔºåÂç≥AP</strong><img src="/image/Learn-SpringCloud/Learn-SpringCloud-40.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-40.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>CP(Zookeeper&#x2F;Consul)</p>
<p>CPÊû∂ÊûÑ<br>ÂΩìÁΩëÁªúÂàÜÂå∫Âá∫Áé∞ÂêéÔºå‰∏∫‰∫Ü‰øùËØÅ‰∏ÄËá¥ÊÄßÔºåÂ∞±ÂøÖÈ°ªÊãíÊé•ËØ∑Ê±ÇÔºåÂê¶ÂàôÊó†Ê≥ï‰øùËØÅ‰∏ÄËá¥ÊÄß<br><strong>ÁªìËÆ∫ÔºöËøùËÉå‰∫ÜÂèØÁî®ÊÄßAÁöÑË¶ÅÊ±ÇÔºåÂè™Êª°Ë∂≥‰∏ÄËá¥ÊÄßÂíåÂàÜÂå∫ÂÆπÈîôÔºåÂç≥CP</strong><img src="/image/Learn-SpringCloud/Learn-SpringCloud-41.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-41.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-42.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-42.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h1 id="RibbonË¥üËΩΩÂùáË°°ÊúçÂä°Ë∞ÉÁî®"><a href="#RibbonË¥üËΩΩÂùáË°°ÊúçÂä°Ë∞ÉÁî®" class="headerlink" title="RibbonË¥üËΩΩÂùáË°°ÊúçÂä°Ë∞ÉÁî®"></a>RibbonË¥üËΩΩÂùáË°°ÊúçÂä°Ë∞ÉÁî®</h1><p>ÁéØÂ¢ÉÂáÜÂ§á  ËøòÂéüÈõÜÁæ§</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-43.PNG" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-43.PNG" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-44.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-44.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="Ê¶ÇËø∞-1"><a href="#Ê¶ÇËø∞-1" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h2><h3 id="ÊòØ‰ªÄ‰πà-1"><a href="#ÊòØ‰ªÄ‰πà-1" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><blockquote>
<p>Spring Cloud RibbonÊòØÂü∫‰∫éNetflix RibbonÂÆûÁé∞ÁöÑ‰∏ÄÂ•ó<strong>ÂÆ¢Êà∑Á´Ø   Ë¥üËΩΩÂùáË°°ÁöÑÂ∑•ÂÖ∑„ÄÇ</strong></p>
<p>ÁÆÄÂçïÁöÑËØ¥ÔºåRibbonÊòØNetflixÂèëÂ∏ÉÁöÑÂºÄÊ∫êÈ°πÁõÆÔºå‰∏ªË¶ÅÂäüËÉΩÊòØÊèê‰æõ<strong>ÂÆ¢Êà∑Á´ØÁöÑËΩØ‰ª∂Ë¥üËΩΩÂùáË°°ÁÆóÊ≥ïÂíåÊúçÂä°Ë∞ÉÁî®</strong>„ÄÇRibbonÂÆ¢Êà∑Á´ØÁªÑ‰ª∂Êèê‰æõ‰∏ÄÁ≥ªÂàóÂÆåÂñÑÁöÑÈÖçÁΩÆÈ°πÂ¶ÇËøûÊé•Ë∂ÖÊó∂ÔºåÈáçËØïÁ≠â„ÄÇÁÆÄÂçïÁöÑËØ¥ÔºåÂ∞±ÊòØÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂàóÂá∫Load BalancerÔºàÁÆÄÁß∞LBÔºâÂêéÈù¢ÊâÄÊúâÁöÑÊú∫Âô®ÔºåRibbon‰ºöËá™Âä®ÁöÑÂ∏ÆÂä©‰Ω†Âü∫‰∫éÊüêÁßçËßÑÂàôÔºàÂ¶ÇÁÆÄÂçïËΩÆËØ¢ÔºåÈöèÊú∫ËøûÊé•Á≠âÔºâÂéªËøûÊé•Ëøô‰∫õÊú∫Âô®„ÄÇÊàë‰ª¨ÂæàÂÆπÊòì‰ΩøÁî®RibbonÂÆûÁé∞Ëá™ÂÆö‰πâÁöÑË¥üËΩΩÂùáË°°ÁÆóÊ≥ï„ÄÇ</p>
</blockquote>
<h3 id="ÂÆòÁΩëËµÑÊñô"><a href="#ÂÆòÁΩëËµÑÊñô" class="headerlink" title="ÂÆòÁΩëËµÑÊñô"></a>ÂÆòÁΩëËµÑÊñô</h3><p><a target="_blank" rel="noopener" href="https://github.com/Netflix/ribbon/wiki/Getting-Started">https://github.com/Netflix/ribbon/wiki/Getting-Started</a></p>
<p>RibbonÁõÆÂâç‰πüËøõÂÖ•Áª¥Êä§Ê®°Âºè</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-45.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-45.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Êú™Êù•ÊõøÊç¢ÊñπÊ°à</p>
<p><strong>spring-cloud-starter-loadbalancer</strong></p>
<h3 id="ËÉΩÂπ≤Âòõ-1"><a href="#ËÉΩÂπ≤Âòõ-1" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><h4 id="LBÔºàË¥üËΩΩÂùáË°°Ôºâ"><a href="#LBÔºàË¥üËΩΩÂùáË°°Ôºâ" class="headerlink" title="LBÔºàË¥üËΩΩÂùáË°°Ôºâ"></a>LBÔºàË¥üËΩΩÂùáË°°Ôºâ</h4><p><strong>LBË¥üËΩΩÂùáË°°(Load Balance)ÊòØ‰ªÄ‰πà</strong><br>ÁÆÄÂçïÁöÑËØ¥Â∞±ÊòØÂ∞ÜÁî®Êà∑ÁöÑËØ∑Ê±ÇÂπ≥ÊëäÁöÑÂàÜÈÖçÂà∞Â§ö‰∏™ÊúçÂä°‰∏äÔºå‰ªéËÄåËææÂà∞Á≥ªÁªüÁöÑHAÔºàÈ´òÂèØÁî®Ôºâ„ÄÇ<br>Â∏∏ËßÅÁöÑË¥üËΩΩÂùáË°°ÊúâËΩØ‰ª∂NginxÔºåLVSÔºåÁ°¨‰ª∂ F5Á≠â„ÄÇ</p>
<p><strong>RibbonÊú¨Âú∞Ë¥üËΩΩÂùáË°°ÂÆ¢Êà∑Á´Ø VS NginxÊúçÂä°Á´ØË¥üËΩΩÂùáË°°Âå∫Âà´</strong><br> NginxÊòØÊúçÂä°Âô®Ë¥üËΩΩÂùáË°°ÔºåÂÆ¢Êà∑Á´ØÊâÄÊúâËØ∑Ê±ÇÈÉΩ‰ºö‰∫§ÁªônginxÔºåÁÑ∂ÂêéÁî±nginxÂÆûÁé∞ËΩ¨ÂèëËØ∑Ê±Ç„ÄÇÂç≥Ë¥üËΩΩÂùáË°°ÊòØÁî±ÊúçÂä°Á´ØÂÆûÁé∞ÁöÑ„ÄÇ</p>
<p> RibbonÊú¨Âú∞Ë¥üËΩΩÂùáË°°ÔºåÂú®Ë∞ÉÁî®ÂæÆÊúçÂä°Êé•Âè£Êó∂ÂÄôÔºå‰ºöÂú®Ê≥®ÂÜå‰∏≠ÂøÉ‰∏äËé∑ÂèñÊ≥®ÂÜå‰ø°ÊÅØÊúçÂä°ÂàóË°®‰πãÂêéÁºìÂ≠òÂà∞JVMÊú¨Âú∞Ôºå‰ªéËÄåÂú®Êú¨Âú∞ÂÆûÁé∞RPCËøúÁ®ãÊúçÂä°Ë∞ÉÁî®ÊäÄÊúØ„ÄÇ</p>
<h5 id="ÈõÜ‰∏≠ÂºèLB"><a href="#ÈõÜ‰∏≠ÂºèLB" class="headerlink" title="ÈõÜ‰∏≠ÂºèLB"></a>ÈõÜ‰∏≠ÂºèLB</h5><blockquote>
<p>ÈõÜ‰∏≠ÂºèLB</p>
<p>Âç≥Âú®ÊúçÂä°ÁöÑÊ∂àË¥πÊñπÂíåÊèê‰æõÊñπ‰πãÈó¥‰ΩøÁî®Áã¨Á´ãÁöÑLBËÆæÊñΩ(ÂèØ‰ª•ÊòØÁ°¨‰ª∂ÔºåÂ¶ÇF5, ‰πüÂèØ‰ª•ÊòØËΩØ‰ª∂ÔºåÂ¶Çnginx), Áî±ËØ•ËÆæÊñΩË¥üË¥£ÊääËÆøÈóÆËØ∑Ê±ÇÈÄöËøáÊüêÁßçÁ≠ñÁï•ËΩ¨ÂèëËá≥ÊúçÂä°ÁöÑÊèê‰æõÊñπÔºõ</p>
</blockquote>
<h5 id="ËøõÁ®ãÂÜÖLB"><a href="#ËøõÁ®ãÂÜÖLB" class="headerlink" title="ËøõÁ®ãÂÜÖLB"></a>ËøõÁ®ãÂÜÖLB</h5><blockquote>
<p>ËøõÁ®ãÂÜÖLB</p>
<p>Â∞ÜLBÈÄªËæëÈõÜÊàêÂà∞Ê∂àË¥πÊñπÔºåÊ∂àË¥πÊñπ‰ªéÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉËé∑Áü•ÊúâÂì™‰∫õÂú∞ÂùÄÂèØÁî®ÔºåÁÑ∂ÂêéËá™Â∑±ÂÜç‰ªéËøô‰∫õÂú∞ÂùÄ‰∏≠ÈÄâÊã©Âá∫‰∏Ä‰∏™ÂêàÈÄÇÁöÑÊúçÂä°Âô®„ÄÇ</p>
<p>RibbonÂ∞±Â±û‰∫éËøõÁ®ãÂÜÖLBÔºåÂÆÉÂè™ÊòØ‰∏Ä‰∏™Á±ªÂ∫ìÔºåÈõÜÊàê‰∫éÊ∂àË¥πÊñπËøõÁ®ãÔºåÊ∂àË¥πÊñπÈÄöËøáÂÆÉÊù•Ëé∑ÂèñÂà∞ÊúçÂä°Êèê‰æõÊñπÁöÑÂú∞ÂùÄ„ÄÇ</p>
</blockquote>
<p>ÂâçÈù¢Êàë‰ª¨ËÆ≤Ëß£Ëøá‰∫Ü80ÈÄöËøáËΩÆËØ¢Ë¥üËΩΩËÆøÈóÆ8001&#x2F;8002</p>
<p>[localhost&#x2F;consumer&#x2F;payment&#x2F;get&#x2F;1] (<a target="_blank" rel="noopener" href="http://localhost/consumer/payment/get/1">http://localhost/consumer/payment/get/1</a>)</p>
<p>‰∏ÄÂè•ËØù  Ë¥üËΩΩÂùáË°°+RestTemplateË∞ÉÁî®</p>
<h2 id="RibbonË¥üËΩΩÂùáË°°ÊºîÁ§∫"><a href="#RibbonË¥üËΩΩÂùáË°°ÊºîÁ§∫" class="headerlink" title="RibbonË¥üËΩΩÂùáË°°ÊºîÁ§∫"></a>RibbonË¥üËΩΩÂùáË°°ÊºîÁ§∫</h2><h4 id="Êû∂ÊûÑËØ¥Êòé"><a href="#Êû∂ÊûÑËØ¥Êòé" class="headerlink" title="Êû∂ÊûÑËØ¥Êòé"></a>Êû∂ÊûÑËØ¥Êòé</h4><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-46.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-46.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>RibbonÂú®Â∑•‰ΩúÊó∂ÂàÜÊàê‰∏§Ê≠•<br>Á¨¨‰∏ÄÊ≠•ÂÖàÈÄâÊã© EurekaServer ,ÂÆÉ‰ºòÂÖàÈÄâÊã©Âú®Âêå‰∏Ä‰∏™Âå∫ÂüüÂÜÖË¥üËΩΩËæÉÂ∞ëÁöÑserver.<br>Á¨¨‰∫åÊ≠•ÂÜçÊ†πÊçÆÁî®Êà∑ÊåáÂÆöÁöÑÁ≠ñÁï•ÔºåÂú®‰ªéserverÂèñÂà∞ÁöÑÊúçÂä°Ê≥®ÂÜåÂàóË°®‰∏≠ÈÄâÊã©‰∏Ä‰∏™Âú∞ÂùÄ„ÄÇ<br>ÂÖ∂‰∏≠RibbonÊèê‰æõ‰∫ÜÂ§öÁßçÁ≠ñÁï•ÔºöÊØîÂ¶ÇËΩÆËØ¢„ÄÅÈöèÊú∫ÂíåÊ†πÊçÆÂìçÂ∫îÊó∂Èó¥Âä†ÊùÉ„ÄÇ</p>
<p><strong>ÊÄªÁªìÔºöRibbonÂÖ∂ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ËΩØË¥üËΩΩÂùáË°°ÁöÑÂÆ¢Êà∑Á´ØÁªÑ‰ª∂Ôºå</strong><br><strong>‰ªñÂèØ‰ª•ÂíåÂÖ∂‰ªñÊâÄÈúÄËØ∑Ê±ÇÁöÑÂÆ¢Êà∑Á´ØÁªìÂêà‰ΩøÁî®ÔºåÂíåeurekaÁªìÂêàÂè™ÊòØÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∏™ÂÆû‰æã„ÄÇ</strong></p>
<h4 id="POM"><a href="#POM" class="headerlink" title="POM"></a>POM</h4><p>‰πãÂâçÂÜôÊ†∑‰æãÊó∂ÂÄôÊ≤°ÊúâÂºïÂÖ•spring-cloud-starter-ribbon‰πüÂèØ‰ª•‰ΩøÁî®ribbon,</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">></span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">></span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">></span></span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>starter<span class="token operator">-</span>netflix<span class="token operator">-</span>ribbon<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÁåúÊµãspring-cloud-starter-netflix-eureka-clientËá™Â∏¶‰∫Üspring-cloud-starter-ribbonÂºïÁî®Ôºå<br>ËØÅÊòéÂ¶Ç‰∏ãÔºö ÂèØ‰ª•ÁúãÂà∞spring-cloud-starter-netflix-eureka-client Á°ÆÂÆûÂºïÂÖ•‰∫ÜRibbon</p>
<p> <img src="/image/Learn-SpringCloud/Learn-SpringCloud-47.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-47.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h4 id="‰∫åËØ¥RestTemplateÁöÑ‰ΩøÁî®"><a href="#‰∫åËØ¥RestTemplateÁöÑ‰ΩøÁî®" class="headerlink" title="‰∫åËØ¥RestTemplateÁöÑ‰ΩøÁî®"></a>‰∫åËØ¥RestTemplateÁöÑ‰ΩøÁî®</h4><h5 id="ÂÆòÁΩë"><a href="#ÂÆòÁΩë" class="headerlink" title="ÂÆòÁΩë"></a>ÂÆòÁΩë</h5><p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-framework/docs/5.2.2.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html">https://docs.spring.io/spring-framework/docs/5.2.2.RELEASE/javadoc-api/org/springframework/web/client/RestTemplate.html</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-48.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-48.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h5 id="getForObjectÊñπÊ≥ï-x2F-getForEntityÊñπÊ≥ï"><a href="#getForObjectÊñπÊ≥ï-x2F-getForEntityÊñπÊ≥ï" class="headerlink" title="getForObjectÊñπÊ≥ï&#x2F;getForEntityÊñπÊ≥ï"></a>getForObjectÊñπÊ≥ï&#x2F;getForEntityÊñπÊ≥ï</h5><blockquote>
<p>ËøîÂõûÂØπË±°‰∏∫ÂìçÂ∫î‰Ωì‰∏≠Êï∞ÊçÆËΩ¨ÂåñÊàêÁöÑÂØπË±°ÔºåÂü∫Êú¨‰∏äÂèØ‰ª•ÁêÜËß£‰∏∫Json</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-49.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-49.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ËøîÂõûÂØπË±°‰∏∫ResponseEntityÂØπË±°ÔºåÂåÖÂê´‰∫ÜÂìçÂ∫î‰∏≠ÁöÑ‰∏Ä‰∫õÈáçË¶Å‰ø°ÊÅØÔºåÊØîÂ¶ÇÂìçÂ∫îÂ§¥„ÄÅÂìçÂ∫îÁä∂ÊÄÅÁ†Å„ÄÅÂìçÂ∫î‰ΩìÁ≠â</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-50.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-50.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h5 id="postForObject-x2F-postForEntity"><a href="#postForObject-x2F-postForEntity" class="headerlink" title="postForObject&#x2F;postForEntity"></a>postForObject&#x2F;postForEntity</h5><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-51.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-51.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h5 id="GETËØ∑Ê±ÇÊñπÊ≥ï"><a href="#GETËØ∑Ê±ÇÊñπÊ≥ï" class="headerlink" title="GETËØ∑Ê±ÇÊñπÊ≥ï"></a>GETËØ∑Ê±ÇÊñπÊ≥ï</h5><blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">T</span> <span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">T</span> <span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">></span></span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">T</span> <span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token class-name">URI</span> url<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">getForEntity</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">getForEntity</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">></span></span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">getForEntity</span><span class="token punctuation">(</span><span class="token class-name">URI</span> var1<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h5 id="POSTËØ∑Ê±ÇÊñπÊ≥ï"><a href="#POSTËØ∑Ê±ÇÊñπÊ≥ï" class="headerlink" title="POSTËØ∑Ê±ÇÊñπÊ≥ï"></a>POSTËØ∑Ê±ÇÊñπÊ≥ï</h5><blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">T</span> <span class="token function">postForObject</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Object</span> request<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">T</span> <span class="token function">postForObject</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Object</span> request<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">></span></span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">T</span> <span class="token function">postForObject</span><span class="token punctuation">(</span><span class="token class-name">URI</span> url<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Object</span> request<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">postForEntity</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Object</span> request<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">postForEntity</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Object</span> request<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">></span></span> uriVariables<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">postForEntity</span><span class="token punctuation">(</span><span class="token class-name">URI</span> url<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Object</span> request<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> responseType<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h2 id="RibbonÊ†∏ÂøÉÁªÑ‰ª∂IRule"><a href="#RibbonÊ†∏ÂøÉÁªÑ‰ª∂IRule" class="headerlink" title="RibbonÊ†∏ÂøÉÁªÑ‰ª∂IRule"></a>RibbonÊ†∏ÂøÉÁªÑ‰ª∂IRule</h2><h4 id="IRuleÔºöÊ†πÊçÆÁâπÂÆöÁÆóÊ≥ï‰∏≠‰ªéÊúçÂä°ÂàóË°®‰∏≠ÈÄâÂèñ‰∏Ä‰∏™Ë¶ÅËÆøÈóÆÁöÑÊúçÂä°"><a href="#IRuleÔºöÊ†πÊçÆÁâπÂÆöÁÆóÊ≥ï‰∏≠‰ªéÊúçÂä°ÂàóË°®‰∏≠ÈÄâÂèñ‰∏Ä‰∏™Ë¶ÅËÆøÈóÆÁöÑÊúçÂä°" class="headerlink" title="IRuleÔºöÊ†πÊçÆÁâπÂÆöÁÆóÊ≥ï‰∏≠‰ªéÊúçÂä°ÂàóË°®‰∏≠ÈÄâÂèñ‰∏Ä‰∏™Ë¶ÅËÆøÈóÆÁöÑÊúçÂä°"></a>IRuleÔºöÊ†πÊçÆÁâπÂÆöÁÆóÊ≥ï‰∏≠‰ªéÊúçÂä°ÂàóË°®‰∏≠ÈÄâÂèñ‰∏Ä‰∏™Ë¶ÅËÆøÈóÆÁöÑÊúçÂä°<img src="/image/Learn-SpringCloud/Learn-SpringCloud-52.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-52.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></h4><p>com.netflix.loadbalancer.RoundRobinRule ËΩÆËØ¢</p>
<p>com.netflix.loadbalancer.RandomRule ÈöèÊú∫</p>
<p>com.netflix.loadbalancer.RetryRule ÂÖàÊåâÁÖßRoundRobinRuleÁöÑÁ≠ñÁï•Ëé∑ÂèñÊúçÂä°ÔºåÂ¶ÇÊûúËé∑ÂèñÊúçÂä°Â§±Ë¥•ÂàôÂú®ÊåáÂÆöÊó∂Èó¥ÂÜÖ‰ºöËøõË°åÈáçËØïÔºåËé∑ÂèñÂèØÁî®ÁöÑÊúçÂä°</p>
<p>WeightedResponseTimeRule ÂØπRoundRobinRuleÁöÑÊâ©Â±ïÔºåÂìçÂ∫îÈÄüÂ∫¶Ë∂äÂø´ÁöÑÂÆû‰æãÈÄâÊã©ÊùÉÈáçË∂äÂ§ßÔºåË∂äÂÆπÊòìË¢´ÈÄâÊã©</p>
<p>BestAvailableRule ‰ºöÂÖàËøáÊª§ÊéâÁî±‰∫éÂ§öÊ¨°ËÆøÈóÆÊïÖÈöúËÄåÂ§Ñ‰∫éÊñ≠Ë∑ØÂô®Ë∑≥Èó∏Áä∂ÊÄÅÁöÑÊúçÂä°ÔºåÁÑ∂ÂêéÈÄâÊã©‰∏Ä‰∏™Âπ∂ÂèëÈáèÊúÄÂ∞èÁöÑÊúçÂä°</p>
<p>AvailabilityFilteringRule ÂÖàËøáÊª§ÊéâÊïÖÈöúÂÆû‰æãÔºåÂÜçÈÄâÊã©Âπ∂ÂèëËæÉÂ∞èÁöÑÂÆû‰æã</p>
<p>ZoneAvoidanceRule ÈªòËÆ§ËßÑÂàô,Â§çÂêàÂà§Êñ≠serverÊâÄÂú®Âå∫ÂüüÁöÑÊÄßËÉΩÂíåserverÁöÑÂèØÁî®ÊÄßÈÄâÊã©ÊúçÂä°Âô®</p>
<h4 id="Â¶Ç‰ΩïÊõøÊç¢"><a href="#Â¶Ç‰ΩïÊõøÊç¢" class="headerlink" title="Â¶Ç‰ΩïÊõøÊç¢"></a>Â¶Ç‰ΩïÊõøÊç¢</h4><h5 id="‰øÆÊîπcloud-consumer-order80"><a href="#‰øÆÊîπcloud-consumer-order80" class="headerlink" title="‰øÆÊîπcloud-consumer-order80"></a>‰øÆÊîπcloud-consumer-order80</h5><h5 id="Ê≥®ÊÑèÈÖçÁΩÆÁªÜËäÇ"><a href="#Ê≥®ÊÑèÈÖçÁΩÆÁªÜËäÇ" class="headerlink" title="Ê≥®ÊÑèÈÖçÁΩÆÁªÜËäÇ"></a>Ê≥®ÊÑèÈÖçÁΩÆÁªÜËäÇ</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java">ÂÆòÊñπÊñáÊ°£ÊòéÁ°ÆÁªôÂá∫‰∫ÜË≠¶ÂëäÔºö
Ëøô‰∏™Ëá™ÂÆö‰πâÈÖçÁΩÆÁ±ª‰∏çËÉΩÊîæÂú®<span class="token annotation punctuation">@ComponentScan</span>ÊâÄÊâ´ÊèèÁöÑÂΩìÂâçÂåÖ‰∏ã‰ª•ÂèäÂ≠êÂåÖ‰∏ãÔºå
Âê¶ÂàôÊàë‰ª¨Ëá™ÂÆö‰πâÁöÑËøô‰∏™ÈÖçÁΩÆÁ±ªÂ∞±‰ºöË¢´ÊâÄÊúâÁöÑ<span class="token class-name">Ribbon</span>ÂÆ¢Êà∑Á´ØÊâÄÂÖ±‰∫´ÔºåËææ‰∏çÂà∞ÁâπÊÆäÂåñÂÆöÂà∂ÁöÑÁõÆÁöÑ‰∫Ü„ÄÇ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-53.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-53.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h5 id="Êñ∞Âª∫package"><a href="#Êñ∞Âª∫package" class="headerlink" title="Êñ∞Âª∫package"></a>Êñ∞Âª∫package</h5><p>com.ctrl.myrule - MyselfRule</p>
<h5 id="‰∏äÈù¢ÂåÖ‰∏ãÊñ∞Âª∫MySelfRuleËßÑÂàôÁ±ª"><a href="#‰∏äÈù¢ÂåÖ‰∏ãÊñ∞Âª∫MySelfRuleËßÑÂàôÁ±ª" class="headerlink" title="‰∏äÈù¢ÂåÖ‰∏ãÊñ∞Âª∫MySelfRuleËßÑÂàôÁ±ª"></a>‰∏äÈù¢ÂåÖ‰∏ãÊñ∞Âª∫MySelfRuleËßÑÂàôÁ±ª</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>myrule</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>loadbalancer<span class="token punctuation">.</span></span><span class="token class-name">IRule</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>loadbalancer<span class="token punctuation">.</span></span><span class="token class-name">RandomRule</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySelfRule</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">IRule</span> <span class="token function">myRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RandomRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ÂÆö‰πâ‰∏∫ÈöèÊú∫</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="‰∏ªÂêØÂä®Á±ªÊ∑ªÂä†-RibbonClient"><a href="#‰∏ªÂêØÂä®Á±ªÊ∑ªÂä†-RibbonClient" class="headerlink" title="‰∏ªÂêØÂä®Á±ªÊ∑ªÂä†@RibbonClient"></a>‰∏ªÂêØÂä®Á±ªÊ∑ªÂä†@RibbonClient</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**
 * Âú®ÂêØÂä®ËØ•ÂæÆÊúçÂä°ÁöÑÊó∂ÂÄôÂ∞±ËÉΩÂéªÂä†ËΩΩÊàë‰ª¨ÁöÑËá™ÂÆö‰πâRibbonÈÖçÁΩÆÁ±ªÔºå‰ªéËÄå‰ΩøÈÖçÁΩÆÁîüÊïàÔºåÂΩ¢Â¶ÇÔºö
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@RibbonClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">,</span>configuration<span class="token operator">=</span> <span class="token class-name">MySelfRule</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÊµãËØï <a target="_blank" rel="noopener" href="http://localhost/consumer/payment/get/31">http://localhost/consumer/payment/get/31</a></p>
<h2 id="RibbonË¥üËΩΩÂùáË°°ÁÆóÊ≥ï"><a href="#RibbonË¥üËΩΩÂùáË°°ÁÆóÊ≥ï" class="headerlink" title="RibbonË¥üËΩΩÂùáË°°ÁÆóÊ≥ï"></a>RibbonË¥üËΩΩÂùáË°°ÁÆóÊ≥ï</h2><h4 id="ÂéüÁêÜ"><a href="#ÂéüÁêÜ" class="headerlink" title="ÂéüÁêÜ"></a>ÂéüÁêÜ</h4><blockquote>
<p><strong>Ë¥üËΩΩÂùáË°°ÁÆóÊ≥ïÔºörestÊé•Âè£Á¨¨Âá†Ê¨°ËØ∑Ê±ÇÊï∞ % ÊúçÂä°Âô®ÈõÜÁæ§ÊÄªÊï∞Èáè &#x3D; ÂÆûÈôÖË∞ÉÁî®ÊúçÂä°Âô®‰ΩçÁΩÆ‰∏ãÊ†á  ÔºåÊØèÊ¨°ÊúçÂä°ÈáçÂêØÂä®ÂêérestÊé•Âè£ËÆ°Êï∞‰ªé1ÂºÄÂßã„ÄÇ</strong></p>
<p>List<ServiceInstance> instances &#x3D; discoveryClient.getInstances(‚ÄúCLOUD-PAYMENT-SERVICE‚Äù);</p>
<p>Â¶ÇÔºö   List [0] instances &#x3D; 127.0.0.1:8002<br>„ÄÄ„ÄÄ„ÄÄList [1] instances &#x3D; 127.0.0.1:8001</p>
<p>8001+ 8002 ÁªÑÂêàÊàê‰∏∫ÈõÜÁæ§ÔºåÂÆÉ‰ª¨ÂÖ±ËÆ°2Âè∞Êú∫Âô®ÔºåÈõÜÁæ§ÊÄªÊï∞‰∏∫2Ôºå ÊåâÁÖßËΩÆËØ¢ÁÆóÊ≥ïÂéüÁêÜÔºö</p>
<p>ÂΩìÊÄªËØ∑Ê±ÇÊï∞‰∏∫1Êó∂Ôºö 1 % 2 &#x3D;1 ÂØπÂ∫î‰∏ãÊ†á‰ΩçÁΩÆ‰∏∫1 ÔºåÂàôËé∑ÂæóÊúçÂä°Âú∞ÂùÄ‰∏∫127.0.0.1:8001<br>ÂΩìÊÄªËØ∑Ê±ÇÊï∞‰Ωç2Êó∂Ôºö 2 % 2 &#x3D;0 ÂØπÂ∫î‰∏ãÊ†á‰ΩçÁΩÆ‰∏∫0 ÔºåÂàôËé∑ÂæóÊúçÂä°Âú∞ÂùÄ‰∏∫127.0.0.1:8002<br>ÂΩìÊÄªËØ∑Ê±ÇÊï∞‰Ωç3Êó∂Ôºö 3 % 2 &#x3D;1 ÂØπÂ∫î‰∏ãÊ†á‰ΩçÁΩÆ‰∏∫1 ÔºåÂàôËé∑ÂæóÊúçÂä°Âú∞ÂùÄ‰∏∫127.0.0.1:8001<br>ÂΩìÊÄªËØ∑Ê±ÇÊï∞‰Ωç4Êó∂Ôºö 4 % 2 &#x3D;0 ÂØπÂ∫î‰∏ãÊ†á‰ΩçÁΩÆ‰∏∫0 ÔºåÂàôËé∑ÂæóÊúçÂä°Âú∞ÂùÄ‰∏∫127.0.0.1:8002<br>Â¶ÇÊ≠§Á±ªÊé®‚Ä¶‚Ä¶</p>
</blockquote>
<h4 id="Ê∫êÁ†Å"><a href="#Ê∫êÁ†Å" class="headerlink" title="Ê∫êÁ†Å"></a>Ê∫êÁ†Å</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">RoundRobinRule</span>
	<span class="token class-name">AtomicInteger</span> ËÆ°Êï∞
	choose  Êù•ÈÄâÊã©ÊúçÂä°
		<span class="token operator">--</span><span class="token operator">></span> <span class="token class-name">List</span>Ëé∑Âèñ ÊúçÂä° 
    		<span class="token operator">--</span><span class="token operator">></span> incrementAndGetModulo ÊñπÊ≥ï
				<span class="token operator">--</span><span class="token operator">></span> <span class="token keyword">for</span>Âæ™ÁéØ compareAndSet Ëá™ÊóãÈîÅ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="ÊâãÂÜô"><a href="#ÊâãÂÜô" class="headerlink" title="ÊâãÂÜô"></a>ÊâãÂÜô</h4><h5 id="Ëá™Â∑±ËØïÁùÄÂÜô‰∏Ä‰∏™Êú¨Âú∞Ë¥üËΩΩÂùáË°°Âô®ËØïËØï"><a href="#Ëá™Â∑±ËØïÁùÄÂÜô‰∏Ä‰∏™Êú¨Âú∞Ë¥üËΩΩÂùáË°°Âô®ËØïËØï" class="headerlink" title="Ëá™Â∑±ËØïÁùÄÂÜô‰∏Ä‰∏™Êú¨Âú∞Ë¥üËΩΩÂùáË°°Âô®ËØïËØï"></a>Ëá™Â∑±ËØïÁùÄÂÜô‰∏Ä‰∏™Êú¨Âú∞Ë¥üËΩΩÂùáË°°Âô®ËØïËØï</h5><h6 id="7001-x2F-7002ÈõÜÁæ§ÂêØÂä®"><a href="#7001-x2F-7002ÈõÜÁæ§ÂêØÂä®" class="headerlink" title="7001&#x2F;7002ÈõÜÁæ§ÂêØÂä®"></a>7001&#x2F;7002ÈõÜÁæ§ÂêØÂä®</h6><h6 id="8001-x2F-8002ÂæÆÊúçÂä°ÊîπÈÄ†"><a href="#8001-x2F-8002ÂæÆÊúçÂä°ÊîπÈÄ†" class="headerlink" title="8001&#x2F;8002ÂæÆÊúçÂä°ÊîπÈÄ†"></a>8001&#x2F;8002ÂæÆÊúçÂä°ÊîπÈÄ†</h6><p>controller</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/lb"</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPaymentLB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">&#123;</span>
       <span class="token keyword">return</span> serverPort<span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="80ËÆ¢ÂçïÂæÆÊúçÂä°ÊîπÈÄ†"><a href="#80ËÆ¢ÂçïÂæÆÊúçÂä°ÊîπÈÄ†" class="headerlink" title="80ËÆ¢ÂçïÂæÆÊúçÂä°ÊîπÈÄ†"></a>80ËÆ¢ÂçïÂæÆÊúçÂä°ÊîπÈÄ†</h6><p>1„ÄÅApplicationContextBeanÂéªÊéâÊ≥®Ëß£@LoadBalanced </p>
<p>&#x2F;&#x2F;@LoadBalanced   ‰∏ªÂêØÂä®  &#x2F;&#x2F;@RibbonClient</p>
<p>2„ÄÅÂÜôLoadBalancerÊé•Âè£</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>lb</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">ServiceInstance</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LoadBalancer</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">ServiceInstance</span> <span class="token function">instances</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> serviceInstances<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>3„ÄÅLoadBalancerImpl ÂÆûÁé∞ LoadBalancerÊé•Âè£</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>lb</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">ServiceInstance</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>atomic<span class="token punctuation">.</span></span><span class="token class-name">AtomicInteger</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoadBalancerImpl</span> <span class="token keyword">implements</span> <span class="token class-name">LoadBalancer</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">private</span> <span class="token class-name">AtomicInteger</span> atomicInteger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AtomicInteger</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">incrementAndGetModulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//Ê†∏ÂøÉÊÄùÊÉ≥ ‰ΩøÁî®Ëá™ÊóãÈîÅ ÊØî‰ΩôÊï∞</span>
        <span class="token keyword">int</span> current<span class="token punctuation">;</span>
        <span class="token keyword">int</span> next<span class="token punctuation">;</span>
        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
            current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>atomicInteger<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            next <span class="token operator">=</span> current <span class="token operator">>=</span> <span class="token number">2147483647</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> current <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//2147483647 Êï¥ÂûãÁöÑÊúÄÂ§ßÂÄº</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>atomicInteger<span class="token punctuation">.</span><span class="token function">compareAndSet</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"*****next: "</span> <span class="token operator">+</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//Ë¥üËΩΩÂùáË°°ÁÆóÊ≥ïÔºörestÊé•Âè£Á¨¨Âá†Ê¨°ËØ∑Ê±ÇÊï∞ % ÊúçÂä°Âô®ÈõÜÁæ§ÊÄªÊï∞Èáè = ÂÆûÈôÖË∞ÉÁî®ÊúçÂä°Âô®‰ΩçÁΩÆ‰∏ãÊ†á  ÔºåÊØèÊ¨°ÊúçÂä°ÈáçÂêØÂä®ÂêérestÊé•Âè£ËÆ°Êï∞‰ªé1ÂºÄÂßã„ÄÇ</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">ServiceInstance</span> <span class="token function">instances</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> serviceInstances<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">incrementAndGetModulo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> serviceInstances<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> serviceInstances<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>4„ÄÅOrderController Êñ∞Â¢û ÊñπÊ≥ï</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//ÂèØ‰ª•Ëé∑ÂèñÊ≥®ÂÜå‰∏≠ÂøÉ‰∏äÁöÑÊúçÂä°ÂàóË°®</span>
   <span class="token annotation punctuation">@Resource</span>
   <span class="token keyword">private</span> <span class="token class-name">DiscoveryClient</span> discoveryClient<span class="token punctuation">;</span>
   <span class="token annotation punctuation">@Resource</span>
   <span class="token keyword">private</span> <span class="token class-name">LoadBalancer</span> loadBalancer<span class="token punctuation">;</span>

   <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/lb"</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getPaymentLB</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> instances <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span><span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">if</span><span class="token punctuation">(</span>instances <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> instances<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
       <span class="token punctuation">&#125;</span>
       <span class="token class-name">ServiceInstance</span> serviceInstance <span class="token operator">=</span> loadBalancer<span class="token punctuation">.</span><span class="token function">instances</span><span class="token punctuation">(</span>instances<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">URI</span> uri <span class="token operator">=</span> serviceInstance<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>uri<span class="token operator">+</span><span class="token string">"/payment/lb"</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÊµãËØï <a target="_blank" rel="noopener" href="http://localhost/consumer/payment/lb">http://localhost/consumer/payment/lb</a></p>
<h1 id="OpenFeignÊúçÂä°Êé•Âè£Ë∞ÉÁî®"><a href="#OpenFeignÊúçÂä°Êé•Âè£Ë∞ÉÁî®" class="headerlink" title="OpenFeignÊúçÂä°Êé•Âè£Ë∞ÉÁî®"></a>OpenFeignÊúçÂä°Êé•Âè£Ë∞ÉÁî®</h1><h2 id="Ê¶ÇËø∞-2"><a href="#Ê¶ÇËø∞-2" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h2><h3 id="OpenFeignÊòØ‰ªÄ‰πà"><a href="#OpenFeignÊòØ‰ªÄ‰πà" class="headerlink" title="OpenFeignÊòØ‰ªÄ‰πà"></a>OpenFeignÊòØ‰ªÄ‰πà</h3><blockquote>
<p>ÂÆòÁΩëËß£ÈáäÔºö<br><a target="_blank" rel="noopener" href="https://cloud.spring.io/spring-cloud-static/Hoxton.SR1/reference/htmlsingle/#spring-cloud-openfeign">https://cloud.spring.io/spring-cloud-static/Hoxton.SR1/reference/htmlsingle/#spring-cloud-openfeign</a></p>
<p><strong>FeignÊòØ‰∏Ä‰∏™Â£∞ÊòéÂºèWebServiceÂÆ¢Êà∑Á´Ø</strong>„ÄÇ‰ΩøÁî®FeignËÉΩËÆ©ÁºñÂÜôWeb ServiceÂÆ¢Êà∑Á´ØÊõ¥Âä†ÁÆÄÂçï„ÄÇ<br>ÂÆÉÁöÑ‰ΩøÁî®ÊñπÊ≥ïÊòØ<strong>ÂÆö‰πâ‰∏Ä‰∏™ÊúçÂä°Êé•Âè£ÁÑ∂ÂêéÂú®‰∏äÈù¢Ê∑ªÂä†Ê≥®Ëß£</strong>„ÄÇFeign‰πüÊîØÊåÅÂèØÊãîÊèíÂºèÁöÑÁºñÁ†ÅÂô®ÂíåËß£Á†ÅÂô®„ÄÇSpring CloudÂØπFeignËøõË°å‰∫ÜÂ∞ÅË£ÖÔºå‰ΩøÂÖ∂ÊîØÊåÅ‰∫ÜSpring MVCÊ†áÂáÜÊ≥®Ëß£ÂíåHttpMessageConverters„ÄÇFeignÂèØ‰ª•‰∏éEurekaÂíåRibbonÁªÑÂêà‰ΩøÁî®‰ª•ÊîØÊåÅË¥üËΩΩÂùáË°°</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-54.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-54.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>FeignÊòØ‰∏Ä‰∏™Â£∞ÊòéÂºèÁöÑWebÊúçÂä°ÂÆ¢Êà∑Á´ØÔºåËÆ©ÁºñÂÜôWebÊúçÂä°ÂÆ¢Êà∑Á´ØÂèòÂæóÈùûÂ∏∏ÂÆπÊòìÔºå<strong>Âè™ÈúÄÂàõÂª∫‰∏Ä‰∏™Êé•Âè£Âπ∂Âú®Êé•Âè£‰∏äÊ∑ªÂä†Ê≥®Ëß£Âç≥ÂèØ</strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/spring-cloud/spring-cloud-openfeign">https://github.com/spring-cloud/spring-cloud-openfeign</a></p>
</blockquote>
<h3 id="ËÉΩÂπ≤Âòõ-2"><a href="#ËÉΩÂπ≤Âòõ-2" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><blockquote>
<p> <strong>FeignËÉΩÂπ≤‰ªÄ‰πà</strong><br>FeignÊó®Âú®‰ΩøÁºñÂÜôJava HttpÂÆ¢Êà∑Á´ØÂèòÂæóÊõ¥ÂÆπÊòì„ÄÇ<br>ÂâçÈù¢Âú®‰ΩøÁî®Ribbon+RestTemplateÊó∂ÔºåÂà©Áî®RestTemplateÂØπhttpËØ∑Ê±ÇÁöÑÂ∞ÅË£ÖÂ§ÑÁêÜÔºåÂΩ¢Êàê‰∫Ü‰∏ÄÂ•óÊ®°ÁâàÂåñÁöÑË∞ÉÁî®ÊñπÊ≥ï„ÄÇ‰ΩÜÊòØÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÁî±‰∫éÂØπÊúçÂä°‰æùËµñÁöÑË∞ÉÁî®ÂèØËÉΩ‰∏çÊ≠¢‰∏ÄÂ§ÑÔºå<strong>ÂæÄÂæÄ‰∏Ä‰∏™Êé•Âè£‰ºöË¢´Â§öÂ§ÑË∞ÉÁî®ÔºåÊâÄ‰ª•ÈÄöÂ∏∏ÈÉΩ‰ºöÈíàÂØπÊØè‰∏™ÂæÆÊúçÂä°Ëá™Ë°åÂ∞ÅË£Ö‰∏Ä‰∫õÂÆ¢Êà∑Á´ØÁ±ªÊù•ÂåÖË£ÖËøô‰∫õ‰æùËµñÊúçÂä°ÁöÑË∞ÉÁî®</strong>„ÄÇÊâÄ‰ª•ÔºåFeignÂú®Ê≠§Âü∫Á°Ä‰∏äÂÅö‰∫ÜËøõ‰∏ÄÊ≠•Â∞ÅË£ÖÔºåÁî±‰ªñÊù•Â∏ÆÂä©Êàë‰ª¨ÂÆö‰πâÂíåÂÆûÁé∞‰æùËµñÊúçÂä°Êé•Âè£ÁöÑÂÆö‰πâ„ÄÇÂú®FeignÁöÑÂÆûÁé∞‰∏ãÔºå**Êàë‰ª¨Âè™ÈúÄÂàõÂª∫‰∏Ä‰∏™Êé•Âè£Âπ∂‰ΩøÁî®Ê≥®Ëß£ÁöÑÊñπÂºèÊù•ÈÖçÁΩÆÂÆÉ(‰ª•ÂâçÊòØDaoÊé•Âè£‰∏äÈù¢Ê†áÊ≥®MapperÊ≥®Ëß£,Áé∞Âú®ÊòØ‰∏Ä‰∏™ÂæÆÊúçÂä°Êé•Âè£‰∏äÈù¢Ê†áÊ≥®‰∏Ä‰∏™FeignÊ≥®Ëß£Âç≥ÂèØ)**ÔºåÂç≥ÂèØÂÆåÊàêÂØπÊúçÂä°Êèê‰æõÊñπÁöÑÊé•Âè£ÁªëÂÆöÔºåÁÆÄÂåñ‰∫Ü‰ΩøÁî®Spring cloud RibbonÊó∂ÔºåËá™Âä®Â∞ÅË£ÖÊúçÂä°Ë∞ÉÁî®ÂÆ¢Êà∑Á´ØÁöÑÂºÄÂèëÈáè„ÄÇ</p>
<p><strong>FeignÈõÜÊàê‰∫ÜRibbon</strong><br>Âà©Áî®RibbonÁª¥Êä§‰∫ÜPaymentÁöÑÊúçÂä°ÂàóË°®‰ø°ÊÅØÔºåÂπ∂‰∏îÈÄöËøáËΩÆËØ¢ÂÆûÁé∞‰∫ÜÂÆ¢Êà∑Á´ØÁöÑË¥üËΩΩÂùáË°°„ÄÇËÄå‰∏éRibbon‰∏çÂêåÁöÑÊòØÔºå<strong>ÈÄöËøáfeignÂè™ÈúÄË¶ÅÂÆö‰πâÊúçÂä°ÁªëÂÆöÊé•Âè£‰∏î‰ª•Â£∞ÊòéÂºèÁöÑÊñπÊ≥ï</strong>Ôºå‰ºòÈõÖËÄåÁÆÄÂçïÁöÑÂÆûÁé∞‰∫ÜÊúçÂä°Ë∞ÉÁî®</p>
</blockquote>
<h3 id="FeignÂíåOpenFeign‰∏§ËÄÖÂå∫Âà´"><a href="#FeignÂíåOpenFeign‰∏§ËÄÖÂå∫Âà´" class="headerlink" title="FeignÂíåOpenFeign‰∏§ËÄÖÂå∫Âà´"></a>FeignÂíåOpenFeign‰∏§ËÄÖÂå∫Âà´</h3><blockquote>
<p>Feign	<br>FeignÊòØSpring CloudÁªÑ‰ª∂‰∏≠ÁöÑ‰∏Ä‰∏™ËΩªÈáèÁ∫ßRESTfulÁöÑHTTPÊúçÂä°ÂÆ¢Êà∑Á´Ø<br>FeignÂÜÖÁΩÆ‰∫ÜRibbonÔºåÁî®Êù•ÂÅöÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°ÔºåÂéªË∞ÉÁî®ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁöÑÊúçÂä°„ÄÇFeignÁöÑ‰ΩøÁî®ÊñπÂºèÊòØÔºö‰ΩøÁî®FeignÁöÑÊ≥®Ëß£ÂÆö‰πâÊé•Âè£ÔºåË∞ÉÁî®Ëøô‰∏™Êé•Âè£ÔºåÂ∞±ÂèØ‰ª•Ë∞ÉÁî®ÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÁöÑÊúçÂä°	</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-feign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>	<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>OpenFeign<br>OpenFeignÊòØSpring Cloud Âú®FeignÁöÑÂü∫Á°Ä‰∏äÊîØÊåÅ‰∫ÜSpringMVCÁöÑÊ≥®Ëß£ÔºåÂ¶Ç@RequesMappingÁ≠âÁ≠â„ÄÇOpenFeignÁöÑ@FeignClientÂèØ‰ª•Ëß£ÊûêSpringMVCÁöÑ@RequestMappingÊ≥®Ëß£‰∏ãÁöÑÊé•Âè£ÔºåÂπ∂ÈÄöËøáÂä®ÊÄÅ‰ª£ÁêÜÁöÑÊñπÂºè‰∫ßÁîüÂÆûÁé∞Á±ªÔºåÂÆûÁé∞Á±ª‰∏≠ÂÅöË¥üËΩΩÂùáË°°Âπ∂Ë∞ÉÁî®ÂÖ∂‰ªñÊúçÂä°„ÄÇ</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>




</blockquote>
<h2 id="OpenFeign‰ΩøÁî®Ê≠•È™§"><a href="#OpenFeign‰ΩøÁî®Ê≠•È™§" class="headerlink" title="OpenFeign‰ΩøÁî®Ê≠•È™§"></a>OpenFeign‰ΩøÁî®Ê≠•È™§</h2><h3 id="Êé•Âè£-Ê≥®Ëß£"><a href="#Êé•Âè£-Ê≥®Ëß£" class="headerlink" title="Êé•Âè£+Ê≥®Ëß£"></a>Êé•Âè£+Ê≥®Ëß£</h3><blockquote>
<p><strong>ÂæÆÊúçÂä°Ë∞ÉÁî®Êé•Âè£+@FeignClient</strong></p>
</blockquote>
<h3 id="Êñ∞Âª∫cloud-consumer-feign-order80"><a href="#Êñ∞Âª∫cloud-consumer-feign-order80" class="headerlink" title="Êñ∞Âª∫cloud-consumer-feign-order80"></a>Êñ∞Âª∫cloud-consumer-feign-order80</h3><blockquote>
<p><strong>FeignÂú®Ê∂àË¥πÁ´Ø‰ΩøÁî®</strong> <img src="/image/Learn-SpringCloud/Learn-SpringCloud-55.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-55.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h3 id="ÊîπPOM-6"><a href="#ÊîπPOM-6" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumer-feign-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--openfeign--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--eureka client--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑapiÈÄöÁî®ÂåÖÔºåÂèØ‰ª•‰ΩøÁî®PaymentÊîØ‰ªòEntity --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--web--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--‰∏ÄËà¨Âü∫Á°ÄÈÄöÁî®ÈÖçÁΩÆ--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-9"><a href="#ÊîπYML-9" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka/

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏ªÂêØÂä®"><a href="#‰∏ªÂêØÂä®" class="headerlink" title="‰∏ªÂêØÂä®"></a>‰∏ªÂêØÂä®</h3><h5 id="OrderFeignMain80"><a href="#OrderFeignMain80" class="headerlink" title="OrderFeignMain80"></a>OrderFeignMain80</h5><p><strong>@EnableFeignClients</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">EnableFeignClients</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableFeignClients</span><span class="token comment">//ÂºÄÂêØFeign</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderFeignMain80</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderFeignMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏öÂä°Á±ª-2"><a href="#‰∏öÂä°Á±ª-2" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h3><h4 id="‰∏öÂä°ÈÄªËæëÊé•Âè£-FeignClientÈÖçÁΩÆË∞ÉÁî®providerÊúçÂä°"><a href="#‰∏öÂä°ÈÄªËæëÊé•Âè£-FeignClientÈÖçÁΩÆË∞ÉÁî®providerÊúçÂä°" class="headerlink" title="‰∏öÂä°ÈÄªËæëÊé•Âè£+@FeignClientÈÖçÁΩÆË∞ÉÁî®providerÊúçÂä°"></a>‰∏öÂä°ÈÄªËæëÊé•Âè£+@FeignClientÈÖçÁΩÆË∞ÉÁî®providerÊúçÂä°</h4><h4 id="Êñ∞Âª∫PaymentFeignServiceÊé•Âè£Âπ∂Êñ∞Â¢ûÊ≥®Ëß£-FeignClient"><a href="#Êñ∞Âª∫PaymentFeignServiceÊé•Âè£Âπ∂Êñ∞Â¢ûÊ≥®Ëß£-FeignClient" class="headerlink" title="Êñ∞Âª∫PaymentFeignServiceÊé•Âè£Âπ∂Êñ∞Â¢ûÊ≥®Ëß£@FeignClient"></a>Êñ∞Âª∫PaymentFeignServiceÊé•Âè£Âπ∂Êñ∞Â¢ûÊ≥®Ëß£@FeignClient</h4><h5 id="PaymentFeignService"><a href="#PaymentFeignService" class="headerlink" title="PaymentFeignService"></a>PaymentFeignService</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">CommonResult</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">Payment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">FeignClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token comment">//ÂæÆÊúçÂä°ÂêçÁß∞</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentFeignService</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/feign/timeout"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">paymentFeignTimeOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊéßÂà∂Â±ÇController"><a href="#ÊéßÂà∂Â±ÇController" class="headerlink" title="ÊéßÂà∂Â±ÇController"></a>ÊéßÂà∂Â±ÇController</h4><h5 id="OrderFeignController"><a href="#OrderFeignController" class="headerlink" title="OrderFeignController"></a>OrderFeignController</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">CommonResult</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>entities<span class="token punctuation">.</span></span><span class="token class-name">Payment</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PaymentFeignService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderFeignController</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">PaymentFeignService</span> paymentFeignService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> paymentFeignService<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊµãËØï-3"><a href="#ÊµãËØï-3" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><p>ÂÖàÂêØÂä®2‰∏™eurekaÈõÜÁæ§7001&#x2F;7002</p>
<p>ÂÜçÂêØÂä®2‰∏™ÂæÆÊúçÂä°8001&#x2F;8002</p>
<p>ÂêØÂä®OpenFeignÂêØÂä®</p>
<p>FeignËá™Â∏¶Ë¥üËΩΩÂùáË°°ÈÖçÁΩÆÈ°π</p>
<p><a target="_blank" rel="noopener" href="http://localhost/consumer/payment/get/1">http://localhost/consumer/payment/get/1</a></p>
<p>Â∞èÊÄªÁªì</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-56.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-56.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="OpenFeignË∂ÖÊó∂ÊéßÂà∂"><a href="#OpenFeignË∂ÖÊó∂ÊéßÂà∂" class="headerlink" title="OpenFeignË∂ÖÊó∂ÊéßÂà∂"></a>OpenFeignË∂ÖÊó∂ÊéßÂà∂</h2><h4 id="Ë∂ÖÊó∂ËÆæÁΩÆÔºåÊïÖÊÑèËÆæÁΩÆË∂ÖÊó∂ÊºîÁ§∫Âá∫ÈîôÊÉÖÂÜµ"><a href="#Ë∂ÖÊó∂ËÆæÁΩÆÔºåÊïÖÊÑèËÆæÁΩÆË∂ÖÊó∂ÊºîÁ§∫Âá∫ÈîôÊÉÖÂÜµ" class="headerlink" title="Ë∂ÖÊó∂ËÆæÁΩÆÔºåÊïÖÊÑèËÆæÁΩÆË∂ÖÊó∂ÊºîÁ§∫Âá∫ÈîôÊÉÖÂÜµ"></a>Ë∂ÖÊó∂ËÆæÁΩÆÔºåÊïÖÊÑèËÆæÁΩÆË∂ÖÊó∂ÊºîÁ§∫Âá∫ÈîôÊÉÖÂÜµ</h4><h5 id="ÊúçÂä°Êèê‰æõÊñπ8001ÊïÖÊÑèÂÜôÊöÇÂÅúÁ®ãÂ∫è"><a href="#ÊúçÂä°Êèê‰æõÊñπ8001ÊïÖÊÑèÂÜôÊöÇÂÅúÁ®ãÂ∫è" class="headerlink" title="ÊúçÂä°Êèê‰æõÊñπ8001ÊïÖÊÑèÂÜôÊöÇÂÅúÁ®ãÂ∫è"></a>ÊúçÂä°Êèê‰æõÊñπ8001ÊïÖÊÑèÂÜôÊöÇÂÅúÁ®ãÂ∫è</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/feign/timeout"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentFeignTimeOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"*****paymentFeignTimeOut from port: "</span> <span class="token operator">+</span> serverPort<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ÊöÇÂÅúÂá†ÁßíÈíüÁ∫øÁ®ã</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> serverPort<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïPaymentFeignService"><a href="#ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïPaymentFeignService" class="headerlink" title="ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïPaymentFeignService"></a>ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïPaymentFeignService</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/feign/timeout"</span><span class="token punctuation">)</span>
  <span class="token class-name">String</span> <span class="token function">paymentFeignTimeOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïOrderFeignController"><a href="#ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïOrderFeignController" class="headerlink" title="ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïOrderFeignController"></a>ÊúçÂä°Ê∂àË¥πÊñπ80Ê∑ªÂä†Ë∂ÖÊó∂ÊñπÊ≥ïOrderFeignController</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/feign/timeout"</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentFeignTimeOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
   <span class="token punctuation">&#123;</span>
       <span class="token keyword">return</span> paymentFeignService<span class="token punctuation">.</span><span class="token function">paymentFeignTimeOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ÊµãËØï-4"><a href="#ÊµãËØï-4" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h5><p><a target="_blank" rel="noopener" href="http://localhost/consumer/payment/feign/timeout">http://localhost/consumer/payment/feign/timeout</a></p>
<p>ÈîôËØØÈ°µÈù¢</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-57.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-57.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h4 id="OpenFeignÈªòËÆ§Á≠âÂæÖ1ÁßíÈíüÔºåË∂ÖËøáÂêéÊä•Èîô"><a href="#OpenFeignÈªòËÆ§Á≠âÂæÖ1ÁßíÈíüÔºåË∂ÖËøáÂêéÊä•Èîô" class="headerlink" title="OpenFeignÈªòËÆ§Á≠âÂæÖ1ÁßíÈíüÔºåË∂ÖËøáÂêéÊä•Èîô"></a>OpenFeignÈªòËÆ§Á≠âÂæÖ1ÁßíÈíüÔºåË∂ÖËøáÂêéÊä•Èîô</h4><p>ÊòØ‰ªÄ‰πà</p>
<blockquote>
<p>  ÈªòËÆ§FeignÂÆ¢Êà∑Á´ØÂè™Á≠âÂæÖ‰∏ÄÁßíÈíüÔºå‰ΩÜÊòØÊúçÂä°Á´ØÂ§ÑÁêÜÈúÄË¶ÅË∂ÖËøá1ÁßíÈíüÔºåÂØºËá¥FeignÂÆ¢Êà∑Á´Ø‰∏çÊÉ≥Á≠âÂæÖ‰∫ÜÔºåÁõ¥Êé•ËøîÂõûÊä•Èîô„ÄÇ<br>‰∏∫‰∫ÜÈÅøÂÖçËøôÊ†∑ÁöÑÊÉÖÂÜµÔºåÊúâÊó∂ÂÄôÊàë‰ª¨ÈúÄË¶ÅËÆæÁΩÆFeignÂÆ¢Êà∑Á´ØÁöÑË∂ÖÊó∂ÊéßÂà∂„ÄÇ</p>
<p>ymlÊñá‰ª∂‰∏≠ÂºÄÂêØÈÖçÁΩÆ</p>
</blockquote>
<p>OpenFeignÈªòËÆ§ÊîØÊåÅRibbon</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-58.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-58.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>YMLÊñá‰ª∂ÈáåÈúÄË¶ÅÂºÄÂêØOpenFeignÂÆ¢Êà∑Á´ØË∂ÖÊó∂ÊéßÂà∂</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#ËÆæÁΩÆfeignÂÆ¢Êà∑Á´ØË∂ÖÊó∂Êó∂Èó¥(OpenFeignÈªòËÆ§ÊîØÊåÅribbon)</span>
<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
<span class="token comment">#ÊåáÁöÑÊòØÂª∫Á´ãËøûÊé•ÊâÄÁî®ÁöÑÊó∂Èó¥ÔºåÈÄÇÁî®‰∫éÁΩëÁªúÁä∂ÂÜµÊ≠£Â∏∏ÁöÑÊÉÖÂÜµ‰∏ã,‰∏§Á´ØËøûÊé•ÊâÄÁî®ÁöÑÊó∂Èó¥</span>
  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span>
<span class="token comment">#ÊåáÁöÑÊòØÂª∫Á´ãËøûÊé•Âêé‰ªéÊúçÂä°Âô®ËØªÂèñÂà∞ÂèØÁî®ËµÑÊ∫êÊâÄÁî®ÁöÑÊó∂Èó¥</span>
  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="OpenFeignÊó•ÂøóÊâìÂç∞ÂäüËÉΩ"><a href="#OpenFeignÊó•ÂøóÊâìÂç∞ÂäüËÉΩ" class="headerlink" title="OpenFeignÊó•ÂøóÊâìÂç∞ÂäüËÉΩ"></a>OpenFeignÊó•ÂøóÊâìÂç∞ÂäüËÉΩ</h2><p>Êó•ÂøóÊâìÂç∞ÂäüËÉΩ</p>
<p>ÊòØ‰ªÄ‰πà</p>
<blockquote>
<p>Feign Êèê‰æõ‰∫ÜÊó•ÂøóÊâìÂç∞ÂäüËÉΩÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆÊù•Ë∞ÉÊï¥Êó•ÂøóÁ∫ßÂà´Ôºå‰ªéËÄå‰∫ÜËß£ Feign ‰∏≠ Http ËØ∑Ê±ÇÁöÑÁªÜËäÇ„ÄÇ<br>ËØ¥ÁôΩ‰∫ÜÂ∞±ÊòØÂØπFeignÊé•Âè£ÁöÑË∞ÉÁî®ÊÉÖÂÜµËøõË°åÁõëÊéßÂíåËæìÂá∫</p>
</blockquote>
<p>Êó•ÂøóÁ∫ßÂà´</p>
<blockquote>
<p>NONEÔºöÈªòËÆ§ÁöÑÔºå‰∏çÊòæÁ§∫‰ªª‰ΩïÊó•ÂøóÔºõ</p>
<p>BASICÔºö‰ªÖËÆ∞ÂΩïËØ∑Ê±ÇÊñπÊ≥ï„ÄÅURL„ÄÅÂìçÂ∫îÁä∂ÊÄÅÁ†ÅÂèäÊâßË°åÊó∂Èó¥Ôºõ</p>
<p>HEADERSÔºöÈô§‰∫Ü BASIC ‰∏≠ÂÆö‰πâÁöÑ‰ø°ÊÅØ‰πãÂ§ñÔºåËøòÊúâËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÂ§¥‰ø°ÊÅØÔºõ</p>
<p>FULLÔºöÈô§‰∫Ü HEADERS ‰∏≠ÂÆö‰πâÁöÑ‰ø°ÊÅØ‰πãÂ§ñÔºåËøòÊúâËØ∑Ê±ÇÂíåÂìçÂ∫îÁöÑÊ≠£ÊñáÂèäÂÖÉÊï∞ÊçÆ„ÄÇ</p>
</blockquote>
<p>ÈÖçÁΩÆÊó•Âøóbean</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">feign<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FeignConfig</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span> <span class="token function">feignLoggerLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span><span class="token punctuation">.</span>FULL<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>YMLÊñá‰ª∂ÈáåÈúÄË¶ÅÂºÄÂêØÊó•ÂøóÁöÑFeignÂÆ¢Êà∑Á´Ø</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token comment"># feignÊó•Âøó‰ª•‰ªÄ‰πàÁ∫ßÂà´ÁõëÊéßÂì™‰∏™Êé•Âè£</span>
    <span class="token key atrule">com.ctrl.springcloud.service.PaymentFeignService</span><span class="token punctuation">:</span> debug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÂêéÂè∞Êó•ÂøóÊü•Áúã</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-59.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-59.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h1 id="HystrixÊñ≠Ë∑ØÂô®-ÈúÄË¶ÅÈáçÁÇπÊéåÊè°"><a href="#HystrixÊñ≠Ë∑ØÂô®-ÈúÄË¶ÅÈáçÁÇπÊéåÊè°" class="headerlink" title="HystrixÊñ≠Ë∑ØÂô®  ÈúÄË¶ÅÈáçÁÇπÊéåÊè°"></a>HystrixÊñ≠Ë∑ØÂô®  ÈúÄË¶ÅÈáçÁÇπÊéåÊè°</h1><h2 id="Ê¶ÇËø∞-3"><a href="#Ê¶ÇËø∞-3" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h2><h3 id="ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑÈóÆÈ¢ò"><a href="#ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑÈóÆÈ¢ò" class="headerlink" title="ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑÈóÆÈ¢ò"></a>ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑÈóÆÈ¢ò</h3><blockquote>
<p>ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑÈóÆÈ¢ò<br><strong>Â§çÊùÇÂàÜÂ∏ÉÂºè‰ΩìÁ≥ªÁªìÊûÑ‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫èÊúâÊï∞ÂçÅ‰∏™‰æùËµñÂÖ≥Á≥ªÔºåÊØè‰∏™‰æùËµñÂÖ≥Á≥ªÂú®Êüê‰∫õÊó∂ÂÄôÂ∞Ü‰∏çÂèØÈÅøÂÖçÂú∞Â§±Ë¥•„ÄÇ</strong></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-60.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-60.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>ÊúçÂä°Èõ™Â¥©</strong><br>Â§ö‰∏™ÂæÆÊúçÂä°‰πãÈó¥Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÂÅáËÆæÂæÆÊúçÂä°AË∞ÉÁî®ÂæÆÊúçÂä°BÂíåÂæÆÊúçÂä°CÔºåÂæÆÊúçÂä°BÂíåÂæÆÊúçÂä°CÂèàË∞ÉÁî®ÂÖ∂ÂÆÉÁöÑÂæÆÊúçÂä°ÔºåËøôÂ∞±ÊòØÊâÄË∞ìÁöÑ<strong>‚ÄúÊâáÂá∫‚Äù</strong>„ÄÇÂ¶ÇÊûúÊâáÂá∫ÁöÑÈìæË∑Ø‰∏äÊüê‰∏™ÂæÆÊúçÂä°ÁöÑË∞ÉÁî®ÂìçÂ∫îÊó∂Èó¥ËøáÈïøÊàñËÄÖ‰∏çÂèØÁî®ÔºåÂØπÂæÆÊúçÂä°AÁöÑË∞ÉÁî®Â∞±‰ºöÂç†Áî®Ë∂äÊù•Ë∂äÂ§öÁöÑÁ≥ªÁªüËµÑÊ∫êÔºåËøõËÄåÂºïËµ∑Á≥ªÁªüÂ¥©Ê∫ÉÔºåÊâÄË∞ìÁöÑ‚ÄúÈõ™Â¥©ÊïàÂ∫î‚Äù.</p>
<p>ÂØπ‰∫éÈ´òÊµÅÈáèÁöÑÂ∫îÁî®Êù•ËØ¥ÔºåÂçï‰∏ÄÁöÑÂêéÁ´Ø‰æùËµñÂèØËÉΩ‰ºöÂØºËá¥ÊâÄÊúâÊúçÂä°Âô®‰∏äÁöÑÊâÄÊúâËµÑÊ∫êÈÉΩÂú®Âá†ÁßíÈíüÂÜÖÈ•±Âíå„ÄÇÊØîÂ§±Ë¥•Êõ¥Á≥üÁ≥ïÁöÑÊòØÔºåËøô‰∫õÂ∫îÁî®Á®ãÂ∫èËøòÂèØËÉΩÂØºËá¥ÊúçÂä°‰πãÈó¥ÁöÑÂª∂ËøüÂ¢ûÂä†ÔºåÂ§á‰ªΩÈòüÂàóÔºåÁ∫øÁ®ãÂíåÂÖ∂‰ªñÁ≥ªÁªüËµÑÊ∫êÁ¥ßÂº†ÔºåÂØºËá¥Êï¥‰∏™Á≥ªÁªüÂèëÁîüÊõ¥Â§öÁöÑÁ∫ßËÅîÊïÖÈöú„ÄÇËøô‰∫õÈÉΩË°®Á§∫ÈúÄË¶ÅÂØπÊïÖÈöúÂíåÂª∂ËøüËøõË°åÈöîÁ¶ªÂíåÁÆ°ÁêÜÔºå‰ª•‰æøÂçï‰∏™‰æùËµñÂÖ≥Á≥ªÁöÑÂ§±Ë¥•Ôºå‰∏çËÉΩÂèñÊ∂àÊï¥‰∏™Â∫îÁî®Á®ãÂ∫èÊàñÁ≥ªÁªü„ÄÇ<br>ÊâÄ‰ª•Ôºå<br>ÈÄöÂ∏∏ÂΩì‰Ω†ÂèëÁé∞‰∏Ä‰∏™Ê®°Âùó‰∏ãÁöÑÊüê‰∏™ÂÆû‰æãÂ§±Ë¥•ÂêéÔºåËøôÊó∂ÂÄôËøô‰∏™Ê®°Âùó‰æùÁÑ∂Ëøò‰ºöÊé•Êî∂ÊµÅÈáèÔºåÁÑ∂ÂêéËøô‰∏™ÊúâÈóÆÈ¢òÁöÑÊ®°ÂùóËøòË∞ÉÁî®‰∫ÜÂÖ∂‰ªñÁöÑÊ®°ÂùóÔºåËøôÊ†∑Â∞±‰ºöÂèëÁîüÁ∫ßËÅîÊïÖÈöúÔºåÊàñËÄÖÂè´Èõ™Â¥©„ÄÇ</p>
</blockquote>
<h3 id="ÊòØ‰ªÄ‰πà-2"><a href="#ÊòØ‰ªÄ‰πà-2" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><blockquote>
<p>HystrixÊòØ‰∏Ä‰∏™Áî®‰∫éÂ§ÑÁêÜÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑ<strong>Âª∂Ëøü</strong>ÂíåÂÆπÈîôÁöÑÂºÄÊ∫êÂ∫ìÔºåÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈáåÔºåËÆ∏Â§ö‰æùËµñ‰∏çÂèØÈÅøÂÖçÁöÑ‰ºöË∞ÉÁî®Â§±Ë¥•ÔºåÊØîÂ¶ÇË∂ÖÊó∂„ÄÅÂºÇÂ∏∏Á≠âÔºåHystrixËÉΩÂ§ü‰øùËØÅÂú®‰∏Ä‰∏™‰æùËµñÂá∫ÈóÆÈ¢òÁöÑÊÉÖÂÜµ‰∏ãÔºå<strong>‰∏ç‰ºöÂØºËá¥Êï¥‰ΩìÊúçÂä°Â§±Ë¥•ÔºåÈÅøÂÖçÁ∫ßËÅîÊïÖÈöúÔºå‰ª•ÊèêÈ´òÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑÂºπÊÄß„ÄÇ</strong></p>
<p>‚ÄúÊñ≠Ë∑ØÂô®‚ÄùÊú¨Ë∫´ÊòØ‰∏ÄÁßçÂºÄÂÖ≥Ë£ÖÁΩÆÔºåÂΩìÊüê‰∏™ÊúçÂä°ÂçïÂÖÉÂèëÁîüÊïÖÈöú‰πãÂêéÔºåÈÄöËøáÊñ≠Ë∑ØÂô®ÁöÑÊïÖÈöúÁõëÊéßÔºàÁ±ª‰ººÁÜîÊñ≠‰øùÈô©‰∏ùÔºâ<strong>ÔºåÂêëË∞ÉÁî®ÊñπËøîÂõû‰∏Ä‰∏™Á¨¶ÂêàÈ¢ÑÊúüÁöÑ„ÄÅÂèØÂ§ÑÁêÜÁöÑÂ§áÈÄâÂìçÂ∫îÔºàFallBackÔºâÔºåËÄå‰∏çÊòØÈïøÊó∂Èó¥ÁöÑÁ≠âÂæÖÊàñËÄÖÊäõÂá∫Ë∞ÉÁî®ÊñπÊó†Ê≥ïÂ§ÑÁêÜÁöÑÂºÇÂ∏∏</strong>ÔºåËøôÊ†∑Â∞±‰øùËØÅ‰∫ÜÊúçÂä°Ë∞ÉÁî®ÊñπÁöÑÁ∫øÁ®ã‰∏ç‰ºöË¢´ÈïøÊó∂Èó¥„ÄÅ‰∏çÂøÖË¶ÅÂú∞Âç†Áî®Ôºå‰ªéËÄåÈÅøÂÖç‰∫ÜÊïÖÈöúÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÁöÑËîìÂª∂Ôºå‰πÉËá≥Èõ™Â¥©„ÄÇ</p>
</blockquote>
<h3 id="ËÉΩÂπ≤Âòõ-3"><a href="#ËÉΩÂπ≤Âòõ-3" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><blockquote>
<p><em><strong>ÊúçÂä°ÈôçÁ∫ß</strong></em></p>
<p><em><strong>ÊúçÂä°ÁÜîÊñ≠</strong></em></p>
<p><em><strong>Êé•ËøëÂÆûÊó∂ÁöÑÁõëÊéß</strong></em></p>
</blockquote>
<h3 id="ÂÆòÁΩëËµÑÊñô-1"><a href="#ÂÆòÁΩëËµÑÊñô-1" class="headerlink" title="ÂÆòÁΩëËµÑÊñô"></a>ÂÆòÁΩëËµÑÊñô</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/Netflix/Hystrix/wiki/How-To-Use">https://github.com/Netflix/Hystrix/wiki/How-To-Use</a></p>
</blockquote>
<h3 id="HystrixÂÆòÂÆ£ÔºåÂÅúÊõ¥ËøõÁª¥"><a href="#HystrixÂÆòÂÆ£ÔºåÂÅúÊõ¥ËøõÁª¥" class="headerlink" title="HystrixÂÆòÂÆ£ÔºåÂÅúÊõ¥ËøõÁª¥"></a>HystrixÂÆòÂÆ£ÔºåÂÅúÊõ¥ËøõÁª¥</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/Netflix/Hystrix">https://github.com/Netflix/Hystrix</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-61.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-61.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h2 id="HystrixÈáçË¶ÅÊ¶ÇÂøµ"><a href="#HystrixÈáçË¶ÅÊ¶ÇÂøµ" class="headerlink" title="HystrixÈáçË¶ÅÊ¶ÇÂøµ"></a>HystrixÈáçË¶ÅÊ¶ÇÂøµ</h2><h3 id="ÊúçÂä°ÈôçÁ∫ß"><a href="#ÊúçÂä°ÈôçÁ∫ß" class="headerlink" title="ÊúçÂä°ÈôçÁ∫ß"></a>ÊúçÂä°ÈôçÁ∫ß</h3><blockquote>
<p><strong>ÊúçÂä°Âô®ÂøôÔºåËØ∑Á®çÂêéÂÜçËØïÔºå‰∏çËÆ©ÂÆ¢Êà∑Á´ØÁ≠âÂæÖÂπ∂Á´ãÂàªËøîÂõû‰∏Ä‰∏™ÂèãÂ•ΩÊèêÁ§∫Ôºåfallback</strong></p>
<p><strong>Âì™‰∫õÊÉÖÂÜµ‰ºöÂá∫ÂèëÈôçÁ∫ß</strong></p>
<ul>
<li><strong>Á®ãÂ∫èËøêË°åÂºÇÂ∏∏</strong></li>
<li><strong>Ë∂ÖÊó∂</strong></li>
<li><strong>ÊúçÂä°ÁÜîÊñ≠Ëß¶ÂèëÊúçÂä°ÈôçÁ∫ß</strong></li>
<li><strong>Á∫øÁ®ãÊ±†&#x2F;‰ø°Âè∑ÈáèÊâìÊª°‰πü‰ºöÂØºËá¥ÊúçÂä°ÈôçÁ∫ß</strong></li>
</ul>
</blockquote>
<h3 id="ÊúçÂä°ÁÜîÊñ≠"><a href="#ÊúçÂä°ÁÜîÊñ≠" class="headerlink" title="ÊúçÂä°ÁÜîÊñ≠"></a>ÊúçÂä°ÁÜîÊñ≠</h3><blockquote>
<p><strong>Á±ªÊØî‰øùÈô©‰∏ùËææÂà∞ÊúÄÂ§ßÊúçÂä°ËÆøÈóÆÂêéÔºåÁõ¥Êé•ÊãíÁªùËÆøÈóÆÔºåÊãâÈó∏ÈôêÁîµÔºåÁÑ∂ÂêéË∞ÉÁî®ÊúçÂä°ÈôçÁ∫ßÁöÑÊñπÊ≥ïÂπ∂ËøîÂõûÂèãÂ•ΩÊèêÁ§∫ break</strong> </p>
<p><strong>Â∞±ÊòØ‰øùÈô©‰∏ù</strong></p>
<p>‚Äã			<strong>‚Äì&gt;ÊúçÂä°ÁöÑÈôçÁ∫ß-&gt;ËøõËÄåÁÜîÊñ≠-&gt;ÊÅ¢Â§çË∞ÉÁî®ÈìæË∑Ø</strong></p>
</blockquote>
<h3 id="ÊúçÂä°ÈôêÊµÅ"><a href="#ÊúçÂä°ÈôêÊµÅ" class="headerlink" title="ÊúçÂä°ÈôêÊµÅ"></a>ÊúçÂä°ÈôêÊµÅ</h3><blockquote>
<p><strong>ÁßíÊùÄÈ´òÂπ∂ÂèëÁ≠âÊìç‰ΩúÔºå‰∏•Á¶Å‰∏ÄÁ™ùËúÇÁöÑËøáÊù•Êã•Êå§ÔºåÂ§ßÂÆ∂ÊéíÈòüÔºå‰∏ÄÁßíÈíüN‰∏™ÔºåÊúâÂ∫èËøõË°å</strong></p>
</blockquote>
<h2 id="hystrixÊ°à‰æã"><a href="#hystrixÊ°à‰æã" class="headerlink" title="hystrixÊ°à‰æã"></a>hystrixÊ°à‰æã</h2><h3 id="ÊûÑÂª∫"><a href="#ÊûÑÂª∫" class="headerlink" title="ÊûÑÂª∫"></a>ÊûÑÂª∫</h3><h4 id="Êñ∞Âª∫cloud-provider-hystrix-payment8001"><a href="#Êñ∞Âª∫cloud-provider-hystrix-payment8001" class="headerlink" title="Êñ∞Âª∫cloud-provider-hystrix-payment8001"></a>Êñ∞Âª∫cloud-provider-hystrix-payment8001</h4><h4 id="ÊîπPOM-7"><a href="#ÊîπPOM-7" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><blockquote>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-provider-hystrix-payment8001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--hystrix--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--eureka client--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--web--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑapiÈÄöÁî®ÂåÖÔºåÂèØ‰ª•‰ΩøÁî®PaymentÊîØ‰ªòEntity --></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="ÊîπYML-10"><a href="#ÊîπYML-10" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>hystrix<span class="token punctuation">-</span>payment

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment">#defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="‰∏ªÂêØÂä®-1"><a href="#‰∏ªÂêØÂä®-1" class="headerlink" title="‰∏ªÂêØÂä®"></a>‰∏ªÂêØÂä®</h4><h5 id="PaymentHystrixMain8001"><a href="#PaymentHystrixMain8001" class="headerlink" title="PaymentHystrixMain8001"></a>PaymentHystrixMain8001</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaClient</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span> <span class="token comment">//Êú¨ÊúçÂä°ÂêØÂä®Âêé‰ºöËá™Âä®Ê≥®ÂÜåËøõeurekaÊúçÂä°‰∏≠</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentHystrixMain8001</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentHystrixMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="‰∏öÂä°Á±ª-3"><a href="#‰∏öÂä°Á±ª-3" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h4><h5 id="service-1"><a href="#service-1" class="headerlink" title="service"></a>service</h5><h6 id="PaymentService-1"><a href="#PaymentService-1" class="headerlink" title="PaymentService"></a>PaymentService</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">/**
     * Ê≠£Â∏∏ËÆøÈóÆÔºå‰∏ÄÂàáOK
     *
     * @param id
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"Á∫øÁ®ãÊ±†:"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"paymentInfo_OK,id: "</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"O(‚à©_‚à©)O"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">/**
     * Ë∂ÖÊó∂ËÆøÈóÆÔºåÊºîÁ§∫ÈôçÁ∫ß
     *
     * @param id
     * @return
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token string">"Á∫øÁ®ãÊ±†:"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"paymentInfo_TimeOut,id: "</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"O(‚à©_‚à©)OÔºåËÄóË¥π3Áßí"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="controller-2"><a href="#controller-2" class="headerlink" title="controller"></a>controller</h5><h6 id="PaymentController-1"><a href="#PaymentController-1" class="headerlink" title="PaymentController"></a>PaymentController</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PaymentService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"****result: "</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"****result: "</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Ê≠£Â∏∏ÊµãËØï"><a href="#Ê≠£Â∏∏ÊµãËØï" class="headerlink" title="Ê≠£Â∏∏ÊµãËØï"></a>Ê≠£Â∏∏ÊµãËØï</h4><blockquote>
<p>ÂêØÂä®eureka7001  Êç¢ÂçïÊú∫</p>
<p>ÂêØÂä®cloud-provider-hystrix-payment8001</p>
<p>ËÆøÈóÆ</p>
<p>‚Äã	successÁöÑÊñπÊ≥ï   <a target="_blank" rel="noopener" href="http://localhost:8001/payment/hystrix/ok/31">http://localhost:8001/payment/hystrix/ok/31</a></p>
<p>‚Äã	ÊØèÊ¨°Ë∞ÉÁî®ËÄóË¥π5ÁßíÈíü <a target="_blank" rel="noopener" href="http://localhost:8001/payment/hystrix/timeout/31">http://localhost:8001/payment/hystrix/timeout/31</a></p>
<p>‰∏äËø∞moduleÂùáOK  ‰ª•‰∏äËø∞‰∏∫Ê†πÂü∫Âπ≥Âè∞Ôºå‰ªéÊ≠£Á°Æ-&gt;ÈîôËØØ-&gt;ÈôçÁ∫ßÁÜîÊñ≠-&gt;ÊÅ¢Â§ç</p>
</blockquote>
<h3 id="È´òÂπ∂ÂèëÊµãËØï"><a href="#È´òÂπ∂ÂèëÊµãËØï" class="headerlink" title="È´òÂπ∂ÂèëÊµãËØï"></a>È´òÂπ∂ÂèëÊµãËØï</h3><h4 id="‰∏äËø∞Âú®ÈùûÈ´òÂπ∂ÂèëÊÉÖÂΩ¢‰∏ãÔºåËøòËÉΩÂãâÂº∫Êª°Ë∂≥-but‚Ä¶‚Ä¶"><a href="#‰∏äËø∞Âú®ÈùûÈ´òÂπ∂ÂèëÊÉÖÂΩ¢‰∏ãÔºåËøòËÉΩÂãâÂº∫Êª°Ë∂≥-but‚Ä¶‚Ä¶" class="headerlink" title="‰∏äËø∞Âú®ÈùûÈ´òÂπ∂ÂèëÊÉÖÂΩ¢‰∏ãÔºåËøòËÉΩÂãâÂº∫Êª°Ë∂≥   but‚Ä¶‚Ä¶"></a>‰∏äËø∞Âú®ÈùûÈ´òÂπ∂ÂèëÊÉÖÂΩ¢‰∏ãÔºåËøòËÉΩÂãâÂº∫Êª°Ë∂≥   but‚Ä¶‚Ä¶</h4><h4 id="JmeterÂéãÊµãÊµãËØï"><a href="#JmeterÂéãÊµãÊµãËØï" class="headerlink" title="JmeterÂéãÊµãÊµãËØï"></a>JmeterÂéãÊµãÊµãËØï</h4><blockquote>
<p><strong>ÂºÄÂêØJmeterÔºåÊù•20000‰∏™Âπ∂ÂèëÂéãÊ≠ª8001Ôºå20000‰∏™ËØ∑Ê±ÇÈÉΩÂéªËÆøÈóÆpaymentInfo_TimeOutÊúçÂä°</strong></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-62.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-62.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ÂÜçÊù•‰∏Ä‰∏™ËÆøÈóÆ <a target="_blank" rel="noopener" href="http://localhost:8001/payment/hystrix/ok/31">http://localhost:8001/payment/hystrix/ok/31</a></p>
<p>ÁúãÊºîÁ§∫ÁªìÊûú  ‰∏§‰∏™ÈÉΩÂú®Ëá™Â∑±ËΩ¨ÂúàÂúà ‰∏∫‰ªÄ‰πà‰ºöÂç° ÂèòÊÖ¢</p>
<blockquote>
<p><strong>tomcatÁöÑÈªòËÆ§ÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÊï∞Ë¢´ÊâìÊª° ‰∫ÜÔºåÊ≤°ÊúâÂ§ö‰ΩôÁöÑÁ∫øÁ®ãÊù•ÂàÜËß£ÂéãÂäõÂíåÂ§ÑÁêÜ„ÄÇ</strong></p>
</blockquote>
</blockquote>
<h4 id="JmeterÂéãÊµãÁªìËÆ∫"><a href="#JmeterÂéãÊµãÁªìËÆ∫" class="headerlink" title="JmeterÂéãÊµãÁªìËÆ∫"></a>JmeterÂéãÊµãÁªìËÆ∫</h4><blockquote>
<p><strong>‰∏äÈù¢ËøòÊòØÊúçÂä°Êèê‰æõËÄÖ8001Ëá™Â∑±ÊµãËØïÔºåÂÅáÂ¶ÇÊ≠§Êó∂Â§ñÈÉ®ÁöÑÊ∂àË¥πËÄÖ80‰πüÊù•ËÆøÈóÆÔºå</strong><br><strong>ÈÇ£Ê∂àË¥πËÄÖÂè™ËÉΩÂπ≤Á≠âÔºåÊúÄÁªàÂØºËá¥Ê∂àË¥πÁ´Ø80‰∏çÊª°ÊÑèÔºåÊúçÂä°Á´Ø8001Áõ¥Êé•Ë¢´ÊãñÊ≠ª</strong></p>
</blockquote>
<h4 id="ÁúãÁÉ≠Èóπ‰∏çÂ´åÂºÉ‰∫ãÂ§ßÔºå80Êñ∞Âª∫Âä†ÂÖ•"><a href="#ÁúãÁÉ≠Èóπ‰∏çÂ´åÂºÉ‰∫ãÂ§ßÔºå80Êñ∞Âª∫Âä†ÂÖ•" class="headerlink" title="ÁúãÁÉ≠Èóπ‰∏çÂ´åÂºÉ‰∫ãÂ§ßÔºå80Êñ∞Âª∫Âä†ÂÖ•"></a>ÁúãÁÉ≠Èóπ‰∏çÂ´åÂºÉ‰∫ãÂ§ßÔºå80Êñ∞Âª∫Âä†ÂÖ•</h4><h5 id="cloud-consumer-feign-hystrix-order80"><a href="#cloud-consumer-feign-hystrix-order80" class="headerlink" title="cloud-consumer-feign-hystrix-order80"></a>cloud-consumer-feign-hystrix-order80</h5><h6 id="Êñ∞Âª∫-cloud-consumer-feign-hystrix-order80"><a href="#Êñ∞Âª∫-cloud-consumer-feign-hystrix-order80" class="headerlink" title="Êñ∞Âª∫ cloud-consumer-feign-hystrix-order80"></a>Êñ∞Âª∫ cloud-consumer-feign-hystrix-order80</h6><h6 id="ÊîπPOM-8"><a href="#ÊîπPOM-8" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h6><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumer-feign-hystrix-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--openfeign--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--hystrix--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--eureka client--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑapiÈÄöÁî®ÂåÖÔºåÂèØ‰ª•‰ΩøÁî®PaymentÊîØ‰ªòEntity --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--web--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--‰∏ÄËà¨Âü∫Á°ÄÈÄöÁî®ÈÖçÁΩÆ--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="ÊîπYML-11"><a href="#ÊîπYML-11" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h6><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="‰∏ªÂêØÂä®-2"><a href="#‰∏ªÂêØÂä®-2" class="headerlink" title="‰∏ªÂêØÂä®"></a>‰∏ªÂêØÂä®</h6><p>OrderHystrixMain80</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">EnableFeignClients</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableFeignClients</span><span class="token comment">//ÂºÄÂêØFeign</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystrixMain80</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderHystrixMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="‰∏öÂä°Á±ª-4"><a href="#‰∏öÂä°Á±ª-4" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h6><p>PaymentHystrixService</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">FeignClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"CLOUD-PROVIDER-HYSTRIX-PAYMENT"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentHystrixService</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>OrderHystirxController</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PaymentHystrixService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystirxController</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">PaymentHystrixService</span> paymentHystrixService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h6 id="Ê≠£Â∏∏ÊµãËØï-1"><a href="#Ê≠£Â∏∏ÊµãËØï-1" class="headerlink" title="Ê≠£Â∏∏ÊµãËØï"></a>Ê≠£Â∏∏ÊµãËØï</h6><p><a target="_blank" rel="noopener" href="http://localhost/consumer/payment/hystrix/ok/31">http://localhost/consumer/payment/hystrix/ok/31</a></p>
<h6 id="È´òÂπ∂ÂèëÊµãËØï-1"><a href="#È´òÂπ∂ÂèëÊµãËØï-1" class="headerlink" title="È´òÂπ∂ÂèëÊµãËØï"></a>È´òÂπ∂ÂèëÊµãËØï</h6><ul>
<li>2W‰∏™Á∫øÁ®ãÂéã8001</li>
<li>Ê∂àË¥πÁ´Ø80ÂæÆÊúçÂä°ÂÜçÂéªËÆøÈóÆÊ≠£Â∏∏ÁöÑOkÂæÆÊúçÂä°8001Âú∞ÂùÄ</li>
<li><a target="_blank" rel="noopener" href="http://localhost/consumer/payment/hystrix/ok/32">http://localhost/consumer/payment/hystrix/ok/32</a></li>
<li>Ê∂àË¥πËÄÖ80Ôºåo(‚ï•Ôπè‚ï•)o  Ë¶Å‰πàËΩ¨ÂúàÂúàÁ≠âÂæÖ Ë¶Å‰πàÊ∂àË¥πÁ´ØÊä•Ë∂ÖÊó∂ÈîôËØØ</li>
</ul>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-63.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-63.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="ÊïÖÈöúÁé∞Ë±°ÂíåÂØºËá¥ÂéüÂõ†"><a href="#ÊïÖÈöúÁé∞Ë±°ÂíåÂØºËá¥ÂéüÂõ†" class="headerlink" title="ÊïÖÈöúÁé∞Ë±°ÂíåÂØºËá¥ÂéüÂõ†"></a>ÊïÖÈöúÁé∞Ë±°ÂíåÂØºËá¥ÂéüÂõ†</h3><ul>
<li>8001Âêå‰∏ÄÂ±ÇÊ¨°ÁöÑÂÖ∂ÂÆÉÊé•Âè£ÊúçÂä°Ë¢´Âõ∞Ê≠ªÔºåÂõ†‰∏∫tomcatÁ∫øÁ®ãÊ±†ÈáåÈù¢ÁöÑÂ∑•‰ΩúÁ∫øÁ®ãÂ∑≤ÁªèË¢´Êå§Âç†ÂÆåÊØï</li>
<li>80Ê≠§Êó∂Ë∞ÉÁî®8001ÔºåÂÆ¢Êà∑Á´ØËÆøÈóÆÂìçÂ∫îÁºìÊÖ¢ÔºåËΩ¨ÂúàÂúà</li>
</ul>
<p>‰∏äËØâÁªìËÆ∫ </p>
<blockquote>
<p>Ê≠£Âõ†‰∏∫Êúâ‰∏äËø∞ÊïÖÈöúÊàñ‰∏ç‰Ω≥Ë°®Áé∞<br>ÊâçÊúâÊàë‰ª¨ÁöÑÈôçÁ∫ß&#x2F;ÂÆπÈîô&#x2F;ÈôêÊµÅÁ≠âÊäÄÊúØËØûÁîü</p>
</blockquote>
<h3 id="Â¶Ç‰ΩïËß£ÂÜ≥ÔºüËß£ÂÜ≥ÁöÑË¶ÅÊ±Ç"><a href="#Â¶Ç‰ΩïËß£ÂÜ≥ÔºüËß£ÂÜ≥ÁöÑË¶ÅÊ±Ç" class="headerlink" title="Â¶Ç‰ΩïËß£ÂÜ≥ÔºüËß£ÂÜ≥ÁöÑË¶ÅÊ±Ç"></a>Â¶Ç‰ΩïËß£ÂÜ≥ÔºüËß£ÂÜ≥ÁöÑË¶ÅÊ±Ç</h3><h4 id="Ë∂ÖÊó∂ÂØºËá¥ÊúçÂä°Âô®ÂèòÊÖ¢-ËΩ¨Âúà-‚ÄìË∂ÖÊó∂‰∏çÂÜçÁ≠âÂæÖ"><a href="#Ë∂ÖÊó∂ÂØºËá¥ÊúçÂä°Âô®ÂèòÊÖ¢-ËΩ¨Âúà-‚ÄìË∂ÖÊó∂‰∏çÂÜçÁ≠âÂæÖ" class="headerlink" title="Ë∂ÖÊó∂ÂØºËá¥ÊúçÂä°Âô®ÂèòÊÖ¢(ËΩ¨Âúà)‚ÄìË∂ÖÊó∂‰∏çÂÜçÁ≠âÂæÖ"></a>Ë∂ÖÊó∂ÂØºËá¥ÊúçÂä°Âô®ÂèòÊÖ¢(ËΩ¨Âúà)‚ÄìË∂ÖÊó∂‰∏çÂÜçÁ≠âÂæÖ</h4><h4 id="Âá∫Èîô-ÂÆïÊú∫ÊàñÁ®ãÂ∫èËøêË°åÂá∫Èîô-‚ÄìÂá∫ÈîôË¶ÅÊúâÂÖúÂ∫ï"><a href="#Âá∫Èîô-ÂÆïÊú∫ÊàñÁ®ãÂ∫èËøêË°åÂá∫Èîô-‚ÄìÂá∫ÈîôË¶ÅÊúâÂÖúÂ∫ï" class="headerlink" title="Âá∫Èîô(ÂÆïÊú∫ÊàñÁ®ãÂ∫èËøêË°åÂá∫Èîô)‚ÄìÂá∫ÈîôË¶ÅÊúâÂÖúÂ∫ï"></a>Âá∫Èîô(ÂÆïÊú∫ÊàñÁ®ãÂ∫èËøêË°åÂá∫Èîô)‚ÄìÂá∫ÈîôË¶ÅÊúâÂÖúÂ∫ï</h4><h4 id="Ëß£ÂÜ≥"><a href="#Ëß£ÂÜ≥" class="headerlink" title="Ëß£ÂÜ≥"></a>Ëß£ÂÜ≥</h4><blockquote>
<ul>
<li><strong>ÂØπÊñπÊúçÂä°(8001)Ë∂ÖÊó∂‰∫ÜÔºåË∞ÉÁî®ËÄÖ(80)‰∏çËÉΩ‰∏ÄÁõ¥Âç°Ê≠ªÁ≠âÂæÖÔºåÂøÖÈ°ªÊúâÊúçÂä°ÈôçÁ∫ß</strong></li>
<li><strong>ÂØπÊñπÊúçÂä°(8001)downÊú∫‰∫ÜÔºåË∞ÉÁî®ËÄÖ(80)‰∏çËÉΩ‰∏ÄÁõ¥Âç°Ê≠ªÁ≠âÂæÖÔºåÂøÖÈ°ªÊúâÊúçÂä°ÈôçÁ∫ß</strong></li>
<li><strong>ÂØπÊñπÊúçÂä°(8001)OKÔºåË∞ÉÁî®ËÄÖ(80)Ëá™Â∑±Âá∫ÊïÖÈöúÊàñÊúâËá™ÊàëË¶ÅÊ±ÇÔºàËá™Â∑±ÁöÑÁ≠âÂæÖÊó∂Èó¥Â∞è‰∫éÊúçÂä°Êèê‰æõËÄÖÔºâÔºåËá™Â∑±Â§ÑÁêÜÈôçÁ∫ß</strong></li>
</ul>
</blockquote>
<h3 id="ÊúçÂä°ÈôçÁ∫ß-1"><a href="#ÊúçÂä°ÈôçÁ∫ß-1" class="headerlink" title="ÊúçÂä°ÈôçÁ∫ß"></a>ÊúçÂä°ÈôçÁ∫ß</h3><h4 id="ÈôçÁ∫ßÈÖçÁΩÆ"><a href="#ÈôçÁ∫ßÈÖçÁΩÆ" class="headerlink" title="ÈôçÁ∫ßÈÖçÁΩÆ"></a>ÈôçÁ∫ßÈÖçÁΩÆ</h4><blockquote>
<p><strong>@HystrixCommand</strong>   <strong>ÈúÄË¶ÅÈÖçÂêà@EnableCircuitBreaker</strong></p>
</blockquote>
<h4 id="8001ÂÖà‰ªéËá™Ë∫´ÊâæÈóÆÈ¢ò"><a href="#8001ÂÖà‰ªéËá™Ë∫´ÊâæÈóÆÈ¢ò" class="headerlink" title="8001ÂÖà‰ªéËá™Ë∫´ÊâæÈóÆÈ¢ò"></a>8001ÂÖà‰ªéËá™Ë∫´ÊâæÈóÆÈ¢ò</h4><blockquote>
<p><strong>ËÆæÁΩÆËá™Ë∫´Ë∞ÉÁî®Ë∂ÖÊó∂Êó∂Èó¥ÁöÑÂ≥∞ÂÄºÔºåÂ≥∞ÂÄºÂÜÖÂèØ‰ª•Ê≠£Â∏∏ËøêË°åÔºå</strong><br><strong>Ë∂ÖËøá‰∫ÜÈúÄË¶ÅÊúâÂÖúÂ∫ïÁöÑÊñπÊ≥ïÂ§ÑÁêÜÔºå‰ΩúÊúçÂä°ÈôçÁ∫ßfallback</strong></p>
</blockquote>
<h4 id="8001fallback"><a href="#8001fallback" class="headerlink" title="8001fallback"></a>8001fallback</h4><h5 id="‰∏öÂä°Á±ªÂêØÁî®"><a href="#‰∏öÂä°Á±ªÂêØÁî®" class="headerlink" title="‰∏öÂä°Á±ªÂêØÁî®"></a>‰∏öÂä°Á±ªÂêØÁî®</h5><blockquote>
<p>PaymentService</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> <span class="token comment">/**
     * Ë∂ÖÊó∂ËÆøÈóÆÔºåÊºîÁ§∫ÈôçÁ∫ß
     *
     * @param id
     * @return
     */</span>
    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentInfo_TimeOutHandler"</span><span class="token punctuation">,</span> commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"3000"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token comment">//        int age = 10/0;</span>
        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>MILLISECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token string">"Á∫øÁ®ãÊ±†:"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"paymentInfo_TimeOut,id: "</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"O(‚à©_‚à©)O "</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token comment">//fallbackMethod ‰æõHystrixCommandÂõûË∞É</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOutHandler</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"/(„Ñío„Ñí)/Ë∞ÉÁî®8001ÊîØ‰ªòÊé•Âè£Ë∂ÖÊó∂ÊàñÂºÇÂ∏∏Ôºö\t"</span> <span class="token operator">+</span> <span class="token string">"\tÂΩìÂâçÁ∫øÁ®ãÊ±†ÂêçÂ≠ó"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>@HystrixCommandÊä•ÂºÇÂ∏∏ÂêéÂ¶Ç‰ΩïÂ§ÑÁêÜ</p>
<blockquote>
<p><strong>‰∏ÄÊó¶Ë∞ÉÁî®ÊúçÂä°ÊñπÊ≥ïÂ§±Ë¥•Âπ∂ÊäõÂá∫‰∫ÜÈîôËØØ‰ø°ÊÅØÂêéÔºå</strong><br><strong>‰ºöËá™Âä®Ë∞ÉÁî®@HystrixCommandÊ†áÊ≥®Â•ΩÁöÑ</strong><br><strong>fallbackMethodË∞ÉÁî®Á±ª‰∏≠ÁöÑÊåáÂÆöÊñπÊ≥ï</strong></p>
</blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-64.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-64.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h5 id="‰∏ªÂêØÂä®Á±ªÊøÄÊ¥ª"><a href="#‰∏ªÂêØÂä®Á±ªÊøÄÊ¥ª" class="headerlink" title="‰∏ªÂêØÂä®Á±ªÊøÄÊ¥ª"></a>‰∏ªÂêØÂä®Á±ªÊøÄÊ¥ª</h5><blockquote>
<p><strong>Ê∑ªÂä†Êñ∞Ê≥®Ëß£@EnableCircuitBreaker</strong></p>
</blockquote>
<h4 id="80fallback"><a href="#80fallback" class="headerlink" title="80fallback"></a>80fallback</h4><h5 id="80ËÆ¢ÂçïÂæÆÊúçÂä°Ôºå‰πüÂèØ‰ª•Êõ¥Â•ΩÁöÑ‰øùÊä§Ëá™Â∑±ÔºåËá™Â∑±‰πü‰æùÊ†∑ÁîªËë´Ëä¶ËøõË°åÂÆ¢Êà∑Á´ØÈôçÁ∫ß‰øùÊä§"><a href="#80ËÆ¢ÂçïÂæÆÊúçÂä°Ôºå‰πüÂèØ‰ª•Êõ¥Â•ΩÁöÑ‰øùÊä§Ëá™Â∑±ÔºåËá™Â∑±‰πü‰æùÊ†∑ÁîªËë´Ëä¶ËøõË°åÂÆ¢Êà∑Á´ØÈôçÁ∫ß‰øùÊä§" class="headerlink" title="80ËÆ¢ÂçïÂæÆÊúçÂä°Ôºå‰πüÂèØ‰ª•Êõ¥Â•ΩÁöÑ‰øùÊä§Ëá™Â∑±ÔºåËá™Â∑±‰πü‰æùÊ†∑ÁîªËë´Ëä¶ËøõË°åÂÆ¢Êà∑Á´ØÈôçÁ∫ß‰øùÊä§"></a><strong>80ËÆ¢ÂçïÂæÆÊúçÂä°Ôºå‰πüÂèØ‰ª•Êõ¥Â•ΩÁöÑ‰øùÊä§Ëá™Â∑±ÔºåËá™Â∑±‰πü‰æùÊ†∑ÁîªËë´Ëä¶ËøõË°åÂÆ¢Êà∑Á´ØÈôçÁ∫ß‰øùÊä§</strong></h5><p>È¢òÂ§ñËØùÔºåÂàáËÆ∞</p>
<blockquote>
<p><strong>Êàë‰ª¨Ëá™Â∑±ÈÖçÁΩÆËøáÁöÑÁÉ≠ÈÉ®ÁΩ≤ÊñπÂºèÂØπjava‰ª£Á†ÅÁöÑÊîπÂä®ÊòéÊòæÔºå</strong><br><strong>‰ΩÜÂØπ@HystrixCommandÂÜÖÂ±ûÊÄßÁöÑ‰øÆÊîπÂª∫ËÆÆÈáçÂêØÂæÆÊúçÂä°</strong></p>
</blockquote>
<h5 id="ÊîπYML-12"><a href="#ÊîπYML-12" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="‰∏ªÂêØÂä®-3"><a href="#‰∏ªÂêØÂä®-3" class="headerlink" title="‰∏ªÂêØÂä®"></a>‰∏ªÂêØÂä®</h5><blockquote>
<p><strong>@EnableHystrix &#x2F;&#x2F;ÂºÄÂêØÊñ≠Ë∑ØÂô®</strong></p>
</blockquote>
<h5 id="‰∏öÂä°Á±ª-5"><a href="#‰∏öÂä°Á±ª-5" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h5><blockquote>
<p><strong>OrderHystirxController</strong> Êõ¥Êîπ <code>paymentInfo_TimeOut</code>ÊñπÊ≥ï</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>
   <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentTimeOutFallbackMethod"</span><span class="token punctuation">,</span> commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
           <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"5000"</span><span class="token punctuation">)</span>
   <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> result<span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span>

   <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentTimeOutFallbackMethod</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token keyword">return</span> <span class="token string">"ÊàëÊòØÊ∂àË¥πËÄÖ80,ÂØπÊñπÊîØ‰ªòÁ≥ªÁªüÁπÅÂøôËØ∑10ÁßíÈíüÂêéÂÜçËØïÊàñËÄÖËá™Â∑±ËøêË°åÂá∫ÈîôËØ∑Ê£ÄÊü•Ëá™Â∑±,o(‚ï•Ôπè‚ï•)o"</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<p>Ê≥®ÊÑè ÊµãËØïÊó∂ËØ∑Á°Æ‰øùÊ∂àË¥πÁ´Ø80ÁöÑfeign ÈÖçÁΩÆÊó∂Èó¥ÊòØÂê¶OK</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#ËÆæÁΩÆfeignÂÆ¢Êà∑Á´ØË∂ÖÊó∂Êó∂Èó¥(OpenFeignÈªòËÆ§ÊîØÊåÅribbon)</span>
<span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
  <span class="token comment">#ÊåáÁöÑÊòØÂª∫Á´ãËøûÊé•ÊâÄÁî®ÁöÑÊó∂Èó¥ÔºåÈÄÇÁî®‰∫éÁΩëÁªúÁä∂ÂÜµÊ≠£Â∏∏ÁöÑÊÉÖÂÜµ‰∏ã,‰∏§Á´ØËøûÊé•ÊâÄÁî®ÁöÑÊó∂Èó¥</span>
  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span>
  <span class="token comment">#ÊåáÁöÑÊòØÂª∫Á´ãËøûÊé•Âêé‰ªéÊúçÂä°Âô®ËØªÂèñÂà∞ÂèØÁî®ËµÑÊ∫êÊâÄÁî®ÁöÑÊó∂Èó¥</span>
  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">10000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h5 id="ÁõÆÂâçÈóÆÈ¢ò"><a href="#ÁõÆÂâçÈóÆÈ¢ò" class="headerlink" title="ÁõÆÂâçÈóÆÈ¢ò"></a>ÁõÆÂâçÈóÆÈ¢ò</h5><blockquote>
<ul>
<li>ÊØè‰∏™‰∏öÂä°ÊñπÊ≥ïÂØπÂ∫î‰∏Ä‰∏™ÂÖúÂ∫ïÁöÑÊñπÊ≥ïÔºå‰ª£Á†ÅËÜ®ËÉÄ</li>
<li>Áªü‰∏ÄÂíåËá™ÂÆö‰πâÁöÑÂàÜÂºÄ</li>
</ul>
</blockquote>
<h5 id="Ëß£ÂÜ≥ÈóÆÈ¢ò"><a href="#Ëß£ÂÜ≥ÈóÆÈ¢ò" class="headerlink" title="Ëß£ÂÜ≥ÈóÆÈ¢ò"></a>Ëß£ÂÜ≥ÈóÆÈ¢ò</h5><blockquote>
<h6 id="ÊØè‰∏™ÊñπÊ≥ïÈÖçÁΩÆ‰∏Ä‰∏™ÔºüÔºüÔºüËÜ®ËÉÄ"><a href="#ÊØè‰∏™ÊñπÊ≥ïÈÖçÁΩÆ‰∏Ä‰∏™ÔºüÔºüÔºüËÜ®ËÉÄ" class="headerlink" title="ÊØè‰∏™ÊñπÊ≥ïÈÖçÁΩÆ‰∏Ä‰∏™ÔºüÔºüÔºüËÜ®ËÉÄ"></a>ÊØè‰∏™ÊñπÊ≥ïÈÖçÁΩÆ‰∏Ä‰∏™ÔºüÔºüÔºüËÜ®ËÉÄ</h6><p>‚Äã			feignÊé•Âè£Á≥ªÂàó</p>
<p>‚Äã			@DefaultProperties(defaultFallback &#x3D; ‚Äú‚Äù)</p>
<p>‚Äã			<img src="/image/Learn-SpringCloud/Learn-SpringCloud-65.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-65.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<pre class="line-numbers language-none"><code class="language-none"> 
@DefaultProperties(defaultFallback &#x3D; &quot;&quot;)
 
  1Ôºö1 ÊØè‰∏™ÊñπÊ≥ïÈÖçÁΩÆ‰∏Ä‰∏™ÊúçÂä°ÈôçÁ∫ßÊñπÊ≥ïÔºåÊäÄÊúØ‰∏äÂèØ‰ª•ÔºåÂÆûÈôÖ‰∏äÂÇªX
 
  1ÔºöN Èô§‰∫Ü‰∏™Âà´ÈáçË¶ÅÊ†∏ÂøÉ‰∏öÂä°Êúâ‰∏ìÂ±ûÔºåÂÖ∂ÂÆÉÊôÆÈÄöÁöÑÂèØ‰ª•ÈÄöËøá@DefaultProperties(defaultFallback &#x3D; &quot;&quot;)  Áªü‰∏ÄË∑≥ËΩ¨Âà∞Áªü‰∏ÄÂ§ÑÁêÜÁªìÊûúÈ°µÈù¢
 
  ÈÄöÁî®ÁöÑÂíåÁã¨‰∫´ÁöÑÂêÑËá™ÂàÜÂºÄÔºåÈÅøÂÖç‰∫Ü‰ª£Á†ÅËÜ®ËÉÄÔºåÂêàÁêÜÂáèÂ∞ë‰∫Ü‰ª£Á†ÅÈáèÔºåO(‚à©_‚à©)OÂìàÂìà~ 
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>‚Äã	controllerÈÖçÁΩÆ</p>
<p>‚Äã	PaymentHystirxController</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PaymentHystrixService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>hystrix<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>javanica<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">DefaultProperties</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>hystrix<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>javanica<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">HystrixCommand</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>hystrix<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>javanica<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">HystrixProperty</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@DefaultProperties</span><span class="token punctuation">(</span>
        defaultFallback <span class="token operator">=</span> <span class="token string">"payment_Global_FallbackMethod"</span><span class="token punctuation">,</span>
        commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"5000"</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystirxController</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Global_FallbackMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"GlobalÂºÇÂ∏∏Â§ÑÁêÜ‰ø°ÊÅØÔºåËØ∑Á®çÂêéÂÜçËØïÔºå/(„Ñío„Ñí)/~~"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">PaymentHystrixService</span> paymentHystrixService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>


    <span class="token annotation punctuation">@HystrixCommand</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token comment">//    @HystrixCommand(fallbackMethod = "paymentTimeOutFallbackMethod", commandProperties = &#123;</span>
<span class="token comment">//            @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds", value = "5000")</span>
<span class="token comment">//    &#125;)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token comment">//        int i = 10 / 0;</span>

        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentTimeOutFallbackMethod</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"ÊàëÊòØÊ∂àË¥πËÄÖ80,ÂØπÊñπÊîØ‰ªòÁ≥ªÁªüÁπÅÂøôËØ∑10ÁßíÈíüÂêéÂÜçËØïÊàñËÄÖËá™Â∑±ËøêË°åÂá∫ÈîôËØ∑Ê£ÄÊü•Ëá™Â∑±,o(‚ï•Ôπè‚ï•)o"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="Âíå‰∏öÂä°ÈÄªËæëÊ∑∑‰∏ÄËµ∑ÔºüÔºüÔºüÊ∑∑‰π±"><a href="#Âíå‰∏öÂä°ÈÄªËæëÊ∑∑‰∏ÄËµ∑ÔºüÔºüÔºüÊ∑∑‰π±" class="headerlink" title="Âíå‰∏öÂä°ÈÄªËæëÊ∑∑‰∏ÄËµ∑ÔºüÔºüÔºüÊ∑∑‰π±"></a>Âíå‰∏öÂä°ÈÄªËæëÊ∑∑‰∏ÄËµ∑ÔºüÔºüÔºüÊ∑∑‰π±</h5><p>ÊúçÂä°ÈôçÁ∫ßÔºåÂÆ¢Êà∑Á´ØÂéªË∞ÉÁî®ÊúçÂä°Á´ØÔºåÁ¢∞‰∏äÊúçÂä°Á´ØÂÆïÊú∫ÊàñÂÖ≥Èó≠</p>
<blockquote>
<p>Êú¨Ê¨°Ê°à‰æãÊúçÂä°ÈôçÁ∫ßÂ§ÑÁêÜÊòØÂú®ÂÆ¢Êà∑Á´Ø80ÂÆûÁé∞ÂÆåÊàêÁöÑÔºå‰∏éÊúçÂä°Á´Ø8001Ê≤°ÊúâÂÖ≥Á≥ª<br>Âè™ÈúÄË¶Å‰∏∫FeignÂÆ¢Êà∑Á´ØÂÆö‰πâÁöÑÊé•Âè£Ê∑ªÂä†‰∏Ä‰∏™ÊúçÂä°ÈôçÁ∫ßÂ§ÑÁêÜÁöÑÂÆûÁé∞Á±ªÂç≥ÂèØÂÆûÁé∞Ëß£ËÄ¶</p>
</blockquote>
<p>Êú™Êù•Êàë‰ª¨Ë¶ÅÈù¢ÂØπÁöÑÂºÇÂ∏∏</p>
<blockquote>
<p>ËøêË°å -&gt; Ë∂ÖÊó∂ -&gt; ÂÆïÊú∫</p>
</blockquote>
<p>ÂÜçÁúãÊàë‰ª¨ÁöÑ‰∏öÂä°Á±ªPaymentController</p>
<blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-66.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-66.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Ê∑∑ÂêàÂú®‰∏ÄÂùó ÔºåÊØè‰∏™‰∏öÂä°ÊñπÊ≥ïÈÉΩË¶ÅÊèê‰æõ‰∏Ä‰∏™</p>
</blockquote>
<p>‰øÆÊîπcloud-consumer-feign-hystrix-order80</p>
<p>Ê†πÊçÆcloud-consumer-feign-hystrix-order80Â∑≤ÁªèÊúâÁöÑPaymentHystrixServiceÊé•Âè£Ôºå<br>ÈáçÊñ∞Êñ∞Âª∫‰∏Ä‰∏™Á±ª(<strong>PaymentFallbackService</strong>)ÂÆûÁé∞ËØ•Êé•Âè£Ôºå<strong>Áªü‰∏Ä‰∏∫Êé•Âè£ÈáåÈù¢ÁöÑÊñπÊ≥ïËøõË°åÂºÇÂ∏∏Â§ÑÁêÜ</strong></p>
<p>PaymentFallbackServiceÁ±ªÂÆûÁé∞PaymentFeignClientServiceÊé•Âè£</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentFallbackService</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentHystrixService</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"--- PaymentFallbackService fall back --paymentInfo_OK,o(‚ï•Ôπè‚ï•)o"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"--- PaymentFallbackService fall back --paymentInfo_TimeOut,o(‚ï•Ôπè‚ï•)o"</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÊîπYML </p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#logging:</span>
<span class="token comment">#  level:</span>
<span class="token comment">#    # feignÊó•Âøó‰ª•‰ªÄ‰πàÁ∫ßÂà´ÁõëÊéßÂì™‰∏™Êé•Âè£</span>
<span class="token comment">#    com.atguigu.springcloud.service.PaymentFeignClientService: debug</span>

<span class="token comment"># Áî®‰∫éÊúçÂä°ÈôçÁ∫ß Âú®Ê≥®Ëß£@FeignClient‰∏≠Ê∑ªÂä†fallbackFactoryÂ±ûÊÄßÂÄº</span>
<span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>
   <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#Âú®Feign‰∏≠ÂºÄÂêØHystrix</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>PaymentFeignClientServiceÊé•Âè£</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>openfeign<span class="token punctuation">.</span></span><span class="token class-name">FeignClient</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PathVariable</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"CLOUD-PROVIDER-HYSTRIX-PAYMENT"</span><span class="token punctuation">,</span> fallback <span class="token operator">=</span> <span class="token class-name">PaymentFallbackService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentHystrixService</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÊµãËØï</p>
<p>Âçï‰∏™eurekaÂÖàÂêØÂä®7001</p>
<p>PaymentHystrixMain8001ÂêØÂä®</p>
<p>Ê≠£Â∏∏ËÆøÈóÆÊµãËØï</p>
<p>‚Äã		<a target="_blank" rel="noopener" href="http://localhost/consumer/payment/hystrix/ok/31">http://localhost/consumer/payment/hystrix/ok/31</a></p>
<p><strong>ÊïÖÊÑèÂÖ≥Èó≠</strong>ÂæÆÊúçÂä°8001</p>
<p><strong>ÂÆ¢Êà∑Á´ØËá™Â∑±Ë∞ÉÁî®ÊèêÁ§∫</strong></p>
<p>‚Äã	Ê≠§Êó∂ÊúçÂä°Á´ØproviderÂ∑≤Áªèdown‰∫ÜÔºå‰ΩÜÊòØÊàë‰ª¨ÂÅö‰∫ÜÊúçÂä°ÈôçÁ∫ßÂ§ÑÁêÜÔºå</p>
<p>‚Äã	ËÆ©ÂÆ¢Êà∑Á´ØÂú®ÊúçÂä°Á´Ø‰∏çÂèØÁî®Êó∂‰πü‰ºöËé∑ÂæóÊèêÁ§∫‰ø°ÊÅØËÄå‰∏ç‰ºöÊåÇËµ∑ËÄóÊ≠ªÊúçÂä°Âô®</p>
</blockquote>
<h3 id="ÊúçÂä°ÁÜîÊñ≠-1"><a href="#ÊúçÂä°ÁÜîÊñ≠-1" class="headerlink" title="ÊúçÂä°ÁÜîÊñ≠"></a>ÊúçÂä°ÁÜîÊñ≠</h3><h4 id="Êñ≠Ë∑ØÂô®"><a href="#Êñ≠Ë∑ØÂô®" class="headerlink" title="Êñ≠Ë∑ØÂô®"></a>Êñ≠Ë∑ØÂô®</h4><blockquote>
<p> ‰∏ÄÂè•ËØùÂ∞±ÊòØÂÆ∂ÈáåÁöÑ‰øùÈô©‰∏ù</p>
</blockquote>
<h4 id="ÁÜîÊñ≠ÊòØ‰ªÄ‰πà"><a href="#ÁÜîÊñ≠ÊòØ‰ªÄ‰πà" class="headerlink" title="ÁÜîÊñ≠ÊòØ‰ªÄ‰πà"></a>ÁÜîÊñ≠ÊòØ‰ªÄ‰πà</h4><blockquote>
<p><strong>ÁÜîÊñ≠Êú∫Âà∂Ê¶ÇËø∞</strong><br>ÁÜîÊñ≠Êú∫Âà∂ÊòØÂ∫îÂØπÈõ™Â¥©ÊïàÂ∫îÁöÑ‰∏ÄÁßçÂæÆÊúçÂä°ÈìæË∑Ø‰øùÊä§Êú∫Âà∂„ÄÇÂΩìÊâáÂá∫ÈìæË∑ØÁöÑÊüê‰∏™ÂæÆÊúçÂä°Âá∫Èîô‰∏çÂèØÁî®ÊàñËÄÖÂìçÂ∫îÊó∂Èó¥Â§™ÈïøÊó∂Ôºå<br>‰ºöËøõË°åÊúçÂä°ÁöÑÈôçÁ∫ßÔºåËøõËÄåÁÜîÊñ≠ËØ•ËäÇÁÇπÂæÆÊúçÂä°ÁöÑË∞ÉÁî®ÔºåÂø´ÈÄüËøîÂõûÈîôËØØÁöÑÂìçÂ∫î‰ø°ÊÅØ„ÄÇ<br><strong>ÂΩìÊ£ÄÊµãÂà∞ËØ•ËäÇÁÇπÂæÆÊúçÂä°Ë∞ÉÁî®ÂìçÂ∫îÊ≠£Â∏∏ÂêéÔºåÊÅ¢Â§çË∞ÉÁî®ÈìæË∑Ø„ÄÇ</strong></p>
<p>Âú®Spring CloudÊ°ÜÊû∂ÈáåÔºåÁÜîÊñ≠Êú∫Âà∂ÈÄöËøáHystrixÂÆûÁé∞„ÄÇHystrix‰ºöÁõëÊéßÂæÆÊúçÂä°Èó¥Ë∞ÉÁî®ÁöÑÁä∂ÂÜµÔºå<br>ÂΩìÂ§±Ë¥•ÁöÑË∞ÉÁî®Âà∞‰∏ÄÂÆöÈòàÂÄºÔºåÁº∫ÁúÅÊòØ5ÁßíÂÜÖ20Ê¨°Ë∞ÉÁî®Â§±Ë¥•ÔºåÂ∞±‰ºöÂêØÂä®ÁÜîÊñ≠Êú∫Âà∂„ÄÇÁÜîÊñ≠Êú∫Âà∂ÁöÑÊ≥®Ëß£ÊòØ@HystrixCommand„ÄÇ</p>
<p>Â§ßÁ•ûËÆ∫Êñá</p>
<p><a target="_blank" rel="noopener" href="https://martinfowler.com/bliki/CircuitBreaker.html">https://martinfowler.com/bliki/CircuitBreaker.html</a></p>
</blockquote>
<h4 id="ÂÆûÊìç"><a href="#ÂÆûÊìç" class="headerlink" title="ÂÆûÊìç"></a>ÂÆûÊìç</h4><h5 id="‰øÆÊîπcloud-provider-hystrix-payment8001"><a href="#‰øÆÊîπcloud-provider-hystrix-payment8001" class="headerlink" title="‰øÆÊîπcloud-provider-hystrix-payment8001"></a>‰øÆÊîπcloud-provider-hystrix-payment8001</h5><h5 id="PaymentService-2"><a href="#PaymentService-2" class="headerlink" title="PaymentService"></a>PaymentService</h5><blockquote>
<p>PaymentService Â¢ûÂä†</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//=========ÊúçÂä°ÁÜîÊñ≠</span>
    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentCircuitBreaker_fallback"</span><span class="token punctuation">,</span> commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.requestVolumeThreshold"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.sleepWindowInMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.errorThresholdPercentage"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"60"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token comment">//circuitBreaker:   #ÁÜîÊñ≠Âô®Áõ∏ÂÖ≥ÈÖçÁΩÆ</span>
    <span class="token comment">//    enabled: true   #ÊòØÂê¶ÂêØÂä®ÁÜîÊñ≠Âô®ÔºåÈªòËÆ§‰∏∫trueÔºåfalseË°®Á§∫‰∏çË¶ÅÂºïÂÖ•Hystrix„ÄÇ</span>
    <span class="token comment">//    requestVolumeThreshold: 20     #ÂêØÁî®ÁÜîÊñ≠Âô®ÂäüËÉΩÁ™óÂè£Êó∂Èó¥ÂÜÖÁöÑÊúÄÂ∞èËØ∑Ê±ÇÊï∞ÔºåÂÅáËÆæÊàë‰ª¨ËÆæÁΩÆÁöÑÁ™óÂè£Êó∂Èó¥‰∏∫10ÁßíÔºå</span>
    <span class="token comment">//    sleepWindowInMilliseconds: 5000    #ÊâÄ‰ª•Ê≠§ÈÖçÁΩÆÁöÑ‰ΩúÁî®ÊòØÊåáÂÆöÁÜîÊñ≠Âô®ÊâìÂºÄÂêéÂ§öÈïøÊó∂Èó¥ÂÜÖÂÖÅËÆ∏‰∏ÄÊ¨°ËØ∑Ê±ÇÂ∞ùËØïÊâßË°åÔºåÂÆòÊñπÈªòËÆ§ÈÖçÁΩÆ‰∏∫5Áßí„ÄÇ</span>
    <span class="token comment">//    errorThresholdPercentage: 50   #Á™óÂè£Êó∂Èó¥ÂÜÖË∂ÖËøá50%ÁöÑËØ∑Ê±ÇÂ§±Ë¥•ÂêéÂ∞±‰ºöÊâìÂºÄÁÜîÊñ≠Âô®Â∞ÜÂêéÁª≠ËØ∑Ê±ÇÂø´ÈÄüÂ§±Ë¥•Êéâ,ÈªòËÆ§ÈÖçÁΩÆ‰∏∫50</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>id <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"******id ‰∏çËÉΩË¥üÊï∞"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token class-name">String</span> serialNumber <span class="token operator">=</span> <span class="token class-name">IdUtil</span><span class="token punctuation">.</span><span class="token function">simpleUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"Ë∞ÉÁî®ÊàêÂäüÔºåÊµÅÊ∞¥Âè∑: "</span> <span class="token operator">+</span> serialNumber<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker_fallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"id ‰∏çËÉΩË¥üÊï∞ÔºåËØ∑Á®çÂêéÂÜçËØïÔºå/(„Ñío„Ñí)/~~   id: "</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h6 id="whyÈÖçÁΩÆËøô‰∫õÂèÇÊï∞"><a href="#whyÈÖçÁΩÆËøô‰∫õÂèÇÊï∞" class="headerlink" title="whyÈÖçÁΩÆËøô‰∫õÂèÇÊï∞"></a>whyÈÖçÁΩÆËøô‰∫õÂèÇÊï∞</h6><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-67.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-67.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h5 id="PaymentController-2"><a href="#PaymentController-2" class="headerlink" title="PaymentController"></a>PaymentController</h5><blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"> 
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/circuit/&#123;id&#125;"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"****result: "</span><span class="token operator">+</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h5 id="ÊµãËØï-5"><a href="#ÊµãËØï-5" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h5><ul>
<li><p>Ëá™Êµãcloud-provider-hystrix-payment8001  ÈúÄÂêØÂä®ÂçïËäÇÁÇπ</p>
</li>
<li><p>Ê≠£Á°Æ <a target="_blank" rel="noopener" href="http://localhost:8001/payment/circuit/31">http://localhost:8001/payment/circuit/31</a></p>
</li>
<li><p>ÈîôËØØ <a target="_blank" rel="noopener" href="http://localhost:8001/payment/circuit/-31">http://localhost:8001/payment/circuit/-31</a></p>
</li>
<li><p>‰∏ÄÊ¨°Ê≠£Á°Æ‰∏ÄÊ¨°ÈîôËØØtrytry</p>
</li>
<li><p>ÈáçÁÇπÊµãËØï </p>
</li>
<li><blockquote>
<p> Â§öÊ¨°ÈîôËØØÔºåÁÑ∂ÂêéÊÖ¢ÊÖ¢Ê≠£Á°ÆÔºåÂèëÁé∞ÂàöÂºÄÂßã‰∏çÊª°Ë∂≥Êù°‰ª∂ÔºåÂ∞±ÁÆóÊòØÊ≠£Á°ÆÁöÑËÆøÈóÆÂú∞ÂùÄ‰πü‰∏çËÉΩËøõË°å</p>
</blockquote>
</li>
</ul>
<h4 id="ÂéüÁêÜ-Â∞èÊÄªÁªì"><a href="#ÂéüÁêÜ-Â∞èÊÄªÁªì" class="headerlink" title="ÂéüÁêÜ(Â∞èÊÄªÁªì)"></a>ÂéüÁêÜ(Â∞èÊÄªÁªì)</h4><h5 id="Â§ßÁ•ûÁªìËÆ∫"><a href="#Â§ßÁ•ûÁªìËÆ∫" class="headerlink" title="Â§ßÁ•ûÁªìËÆ∫"></a>Â§ßÁ•ûÁªìËÆ∫</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-68.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-68.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h5 id="ÁÜîÊñ≠Á±ªÂûã"><a href="#ÁÜîÊñ≠Á±ªÂûã" class="headerlink" title="ÁÜîÊñ≠Á±ªÂûã"></a>ÁÜîÊñ≠Á±ªÂûã</h5><table>
<thead>
<tr>
<th>ÁÜîÊñ≠ÊâìÂºÄ</th>
<th align="center">ËØ∑Ê±Ç‰∏çÂÜçËøõË°åË∞ÉÁî®ÂΩìÂâçÊúçÂä°ÔºåÂÜÖÈÉ®ËÆæÁΩÆÊó∂Èíü‰∏ÄËà¨‰∏∫MTTRÔºàÂπ≥ÂùáÊïÖÈöúÂ§ÑÁêÜÊó∂Èó¥)ÔºåÂΩìÊâìÂºÄÊó∂ÈïøËææÂà∞ÊâÄËÆæÊó∂ÈíüÂàôËøõÂÖ•ÂçäÁÜîÊñ≠Áä∂ÊÄÅ</th>
</tr>
</thead>
<tbody><tr>
<td>ÁÜîÊñ≠ÂÖ≥Èó≠</td>
<td align="center">ÁÜîÊñ≠ÂÖ≥Èó≠‰∏ç‰ºöÂØπÊúçÂä°ËøõË°åÁÜîÊñ≠</td>
</tr>
<tr>
<td>ÁÜîÊñ≠ÂçäÂºÄ</td>
<td align="center">ÈÉ®ÂàÜËØ∑Ê±ÇÊ†πÊçÆËßÑÂàôË∞ÉÁî®ÂΩìÂâçÊúçÂä°ÔºåÂ¶ÇÊûúËØ∑Ê±ÇÊàêÂäü‰∏îÁ¨¶ÂêàËßÑÂàôÂàôËÆ§‰∏∫ÂΩìÂâçÊúçÂä°ÊÅ¢Â§çÊ≠£Â∏∏ÔºåÂÖ≥Èó≠ÁÜîÊñ≠</td>
</tr>
</tbody></table>
<h5 id="ÂÆòÁΩëÊñ≠Ë∑ØÂô®ÊµÅÁ®ãÂõæ"><a href="#ÂÆòÁΩëÊñ≠Ë∑ØÂô®ÊµÅÁ®ãÂõæ" class="headerlink" title="ÂÆòÁΩëÊñ≠Ë∑ØÂô®ÊµÅÁ®ãÂõæ"></a>ÂÆòÁΩëÊñ≠Ë∑ØÂô®ÊµÅÁ®ãÂõæ</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-69.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-69.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h6 id="ÂÆòÁΩëÊ≠•È™§"><a href="#ÂÆòÁΩëÊ≠•È™§" class="headerlink" title="ÂÆòÁΩëÊ≠•È™§"></a>ÂÆòÁΩëÊ≠•È™§</h6><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-70.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-70.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h6 id="Êñ≠Ë∑ØÂô®Âú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÂºÄÂßãËµ∑‰ΩúÁî®"><a href="#Êñ≠Ë∑ØÂô®Âú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÂºÄÂßãËµ∑‰ΩúÁî®" class="headerlink" title="Êñ≠Ë∑ØÂô®Âú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÂºÄÂßãËµ∑‰ΩúÁî®"></a>Êñ≠Ë∑ØÂô®Âú®‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÂºÄÂßãËµ∑‰ΩúÁî®</h6><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-71.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-71.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Ê∂âÂèäÂà∞Êñ≠Ë∑ØÂô®ÁöÑ‰∏â‰∏™ÈáçË¶ÅÂèÇÊï∞ÔºöÂø´ÁÖßÊó∂Èó¥Á™ó„ÄÅËØ∑Ê±ÇÊÄªÊï∞ÈòÄÂÄº„ÄÅÈîôËØØÁôæÂàÜÊØîÈòÄÂÄº„ÄÇ<br>1ÔºöÂø´ÁÖßÊó∂Èó¥Á™óÔºöÊñ≠Ë∑ØÂô®Á°ÆÂÆöÊòØÂê¶ÊâìÂºÄÈúÄË¶ÅÁªüËÆ°‰∏Ä‰∫õËØ∑Ê±ÇÂíåÈîôËØØÊï∞ÊçÆÔºåËÄåÁªüËÆ°ÁöÑÊó∂Èó¥ËåÉÂõ¥Â∞±ÊòØÂø´ÁÖßÊó∂Èó¥Á™óÔºåÈªòËÆ§‰∏∫ÊúÄËøëÁöÑ10Áßí„ÄÇ</p>
<p>2ÔºöËØ∑Ê±ÇÊÄªÊï∞ÈòÄÂÄºÔºöÂú®Âø´ÁÖßÊó∂Èó¥Á™óÂÜÖÔºåÂøÖÈ°ªÊª°Ë∂≥ËØ∑Ê±ÇÊÄªÊï∞ÈòÄÂÄºÊâçÊúâËµÑÊ†ºÁÜîÊñ≠„ÄÇÈªòËÆ§‰∏∫20ÔºåÊÑèÂë≥ÁùÄÂú®10ÁßíÂÜÖÔºåÂ¶ÇÊûúËØ•hystrixÂëΩ‰ª§ÁöÑË∞ÉÁî®Ê¨°Êï∞‰∏çË∂≥20Ê¨°ÔºåÂç≥‰ΩøÊâÄÊúâÁöÑËØ∑Ê±ÇÈÉΩË∂ÖÊó∂ÊàñÂÖ∂‰ªñÂéüÂõ†Â§±Ë¥•ÔºåÊñ≠Ë∑ØÂô®ÈÉΩ‰∏ç‰ºöÊâìÂºÄ„ÄÇ</p>
<p>3ÔºöÈîôËØØÁôæÂàÜÊØîÈòÄÂÄºÔºöÂΩìËØ∑Ê±ÇÊÄªÊï∞Âú®Âø´ÁÖßÊó∂Èó¥Á™óÂÜÖË∂ÖËøá‰∫ÜÈòÄÂÄºÔºåÊØîÂ¶ÇÂèëÁîü‰∫Ü30Ê¨°Ë∞ÉÁî®ÔºåÂ¶ÇÊûúÂú®Ëøô30Ê¨°Ë∞ÉÁî®‰∏≠ÔºåÊúâ15Ê¨°ÂèëÁîü‰∫ÜË∂ÖÊó∂ÂºÇÂ∏∏Ôºå‰πüÂ∞±ÊòØË∂ÖËøá50%ÁöÑÈîôËØØÁôæÂàÜÊØîÔºåÂú®ÈªòËÆ§ËÆæÂÆö50%ÈòÄÂÄºÊÉÖÂÜµ‰∏ãÔºåËøôÊó∂ÂÄôÂ∞±‰ºöÂ∞ÜÊñ≠Ë∑ØÂô®ÊâìÂºÄ„ÄÇ</p>
<h6 id="Êñ≠Ë∑ØÂô®ÂºÄÂêØÊàñËÄÖÂÖ≥Èó≠ÁöÑÊù°‰ª∂"><a href="#Êñ≠Ë∑ØÂô®ÂºÄÂêØÊàñËÄÖÂÖ≥Èó≠ÁöÑÊù°‰ª∂" class="headerlink" title="Êñ≠Ë∑ØÂô®ÂºÄÂêØÊàñËÄÖÂÖ≥Èó≠ÁöÑÊù°‰ª∂"></a>Êñ≠Ë∑ØÂô®ÂºÄÂêØÊàñËÄÖÂÖ≥Èó≠ÁöÑÊù°‰ª∂</h6><blockquote>
<p>ÂΩìÊª°Ë∂≥‰∏ÄÂÆöÁöÑÈòÄÂÄºÁöÑÊó∂ÂÄôÔºàÈªòËÆ§10ÁßíÂÜÖË∂ÖËøá20‰∏™ËØ∑Ê±ÇÊ¨°Êï∞Ôºâ</p>
<p>ÂΩìÂ§±Ë¥•ÁéáËææÂà∞‰∏ÄÂÆöÁöÑÊó∂ÂÄôÔºàÈªòËÆ§10ÁßíÂÜÖË∂ÖËøá50%ÁöÑËØ∑Ê±ÇÂ§±Ë¥•Ôºâ</p>
<p>Âà∞Ëææ‰ª•‰∏äÈòÄÂÄºÔºåÊñ≠Ë∑ØÂô®Â∞Ü‰ºöÂºÄÂêØ</p>
<p>ÂΩìÂºÄÂêØÁöÑÊó∂ÂÄôÔºåÊâÄÊúâËØ∑Ê±ÇÈÉΩ‰∏ç‰ºöËøõË°åËΩ¨Âèë</p>
<p>‰∏ÄÊÆµÊó∂Èó¥‰πãÂêéÔºàÈªòËÆ§ÊòØ5ÁßíÔºâÔºåËøô‰∏™Êó∂ÂÄôÊñ≠Ë∑ØÂô®ÊòØÂçäÂºÄÁä∂ÊÄÅÔºå‰ºöËÆ©ÂÖ∂‰∏≠‰∏Ä‰∏™ËØ∑Ê±ÇËøõË°åËΩ¨Âèë„ÄÇ<br>Â¶ÇÊûúÊàêÂäüÔºåÊñ≠Ë∑ØÂô®‰ºöÂÖ≥Èó≠ÔºåËã•Â§±Ë¥•ÔºåÁªßÁª≠ÂºÄÂêØ„ÄÇÈáçÂ§ç4Âíå5</p>
</blockquote>
<h6 id="Êñ≠Ë∑ØÂô®ÊâìÂºÄ‰πãÂêé"><a href="#Êñ≠Ë∑ØÂô®ÊâìÂºÄ‰πãÂêé" class="headerlink" title="Êñ≠Ë∑ØÂô®ÊâìÂºÄ‰πãÂêé"></a>Êñ≠Ë∑ØÂô®ÊâìÂºÄ‰πãÂêé</h6><blockquote>
<p>1ÔºöÂÜçÊúâËØ∑Ê±ÇË∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÂ∞Ü‰∏ç‰ºöË∞ÉÁî®‰∏ªÈÄªËæëÔºåËÄåÊòØÁõ¥Êé•Ë∞ÉÁî®ÈôçÁ∫ßfallback„ÄÇÈÄöËøáÊñ≠Ë∑ØÂô®ÔºåÂÆûÁé∞‰∫ÜËá™Âä®Âú∞ÂèëÁé∞ÈîôËØØÂπ∂Â∞ÜÈôçÁ∫ßÈÄªËæëÂàáÊç¢‰∏∫‰∏ªÈÄªËæëÔºåÂáèÂ∞ëÂìçÂ∫îÂª∂ËøüÁöÑÊïàÊûú„ÄÇ</p>
<p>2ÔºöÂéüÊù•ÁöÑ‰∏ªÈÄªËæëË¶ÅÂ¶Ç‰ΩïÊÅ¢Â§çÂë¢Ôºü<br>ÂØπ‰∫éËøô‰∏ÄÈóÆÈ¢òÔºåhystrix‰πü‰∏∫Êàë‰ª¨ÂÆûÁé∞‰∫ÜËá™Âä®ÊÅ¢Â§çÂäüËÉΩ„ÄÇ<br>ÂΩìÊñ≠Ë∑ØÂô®ÊâìÂºÄÔºåÂØπ‰∏ªÈÄªËæëËøõË°åÁÜîÊñ≠‰πãÂêéÔºåhystrix‰ºöÂêØÂä®‰∏Ä‰∏™‰ºëÁú†Êó∂Èó¥Á™óÔºåÂú®Ëøô‰∏™Êó∂Èó¥Á™óÂÜÖÔºåÈôçÁ∫ßÈÄªËæëÊòØ‰∏¥Êó∂ÁöÑÊàê‰∏∫‰∏ªÈÄªËæëÔºå<br>ÂΩì‰ºëÁú†Êó∂Èó¥Á™óÂà∞ÊúüÔºåÊñ≠Ë∑ØÂô®Â∞ÜËøõÂÖ•ÂçäÂºÄÁä∂ÊÄÅÔºåÈáäÊîæ‰∏ÄÊ¨°ËØ∑Ê±ÇÂà∞ÂéüÊù•ÁöÑ‰∏ªÈÄªËæë‰∏äÔºåÂ¶ÇÊûúÊ≠§Ê¨°ËØ∑Ê±ÇÊ≠£Â∏∏ËøîÂõûÔºåÈÇ£‰πàÊñ≠Ë∑ØÂô®Â∞ÜÁªßÁª≠Èó≠ÂêàÔºå<br>‰∏ªÈÄªËæëÊÅ¢Â§çÔºåÂ¶ÇÊûúËøôÊ¨°ËØ∑Ê±Ç‰æùÁÑ∂ÊúâÈóÆÈ¢òÔºåÊñ≠Ë∑ØÂô®ÁªßÁª≠ËøõÂÖ•ÊâìÂºÄÁä∂ÊÄÅÔºå‰ºëÁú†Êó∂Èó¥Á™óÈáçÊñ∞ËÆ°Êó∂„ÄÇ</p>
</blockquote>
<h6 id="AllÈÖçÁΩÆ"><a href="#AllÈÖçÁΩÆ" class="headerlink" title="AllÈÖçÁΩÆ"></a>AllÈÖçÁΩÆ</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//========================All</span>
<span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"str_fallbackMethod"</span><span class="token punctuation">,</span>
        groupKey <span class="token operator">=</span> <span class="token string">"strGroupCommand"</span><span class="token punctuation">,</span>
        commandKey <span class="token operator">=</span> <span class="token string">"strCommand"</span><span class="token punctuation">,</span>
        threadPoolKey <span class="token operator">=</span> <span class="token string">"strThreadPool"</span><span class="token punctuation">,</span>

        commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">// ËÆæÁΩÆÈöîÁ¶ªÁ≠ñÁï•ÔºåTHREAD Ë°®Á§∫Á∫øÁ®ãÊ±† SEMAPHOREÔºö‰ø°Âè∑Ê±†ÈöîÁ¶ª</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.strategy"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"THREAD"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÂΩìÈöîÁ¶ªÁ≠ñÁï•ÈÄâÊã©‰ø°Âè∑Ê±†ÈöîÁ¶ªÁöÑÊó∂ÂÄôÔºåÁî®Êù•ËÆæÁΩÆ‰ø°Âè∑Ê±†ÁöÑÂ§ßÂ∞èÔºàÊúÄÂ§ßÂπ∂ÂèëÊï∞Ôºâ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.semaphore.maxConcurrentRequests"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÈÖçÁΩÆÂëΩ‰ª§ÊâßË°åÁöÑË∂ÖÊó∂Êó∂Èó¥</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÊòØÂê¶ÂêØÁî®Ë∂ÖÊó∂Êó∂Èó¥</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.timeout.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÊâßË°åË∂ÖÊó∂ÁöÑÊó∂ÂÄôÊòØÂê¶‰∏≠Êñ≠</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.interruptOnTimeout"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÊâßË°åË¢´ÂèñÊ∂àÁöÑÊó∂ÂÄôÊòØÂê¶‰∏≠Êñ≠</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.interruptOnCancel"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÂÖÅËÆ∏ÂõûË∞ÉÊñπÊ≥ïÊâßË°åÁöÑÊúÄÂ§ßÂπ∂ÂèëÊï∞</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"fallback.isolation.semaphore.maxConcurrentRequests"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÊúçÂä°ÈôçÁ∫ßÊòØÂê¶ÂêØÁî®ÔºåÊòØÂê¶ÊâßË°åÂõûË∞ÉÂáΩÊï∞</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"fallback.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÊòØÂê¶ÂêØÁî®Êñ≠Ë∑ØÂô®</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂú®ÊªöÂä®Êó∂Èó¥Á™ó‰∏≠ÔºåÊñ≠Ë∑ØÂô®ÁÜîÊñ≠ÁöÑÊúÄÂ∞èËØ∑Ê±ÇÊï∞„ÄÇ‰æãÂ¶ÇÔºåÈªòËÆ§ËØ•ÂÄº‰∏∫ 20 ÁöÑÊó∂ÂÄôÔºå</span>
                <span class="token comment">// Â¶ÇÊûúÊªöÂä®Êó∂Èó¥Á™óÔºàÈªòËÆ§10ÁßíÔºâÂÜÖ‰ªÖÊî∂Âà∞‰∫Ü19‰∏™ËØ∑Ê±ÇÔºå Âç≥‰ΩøËøô19‰∏™ËØ∑Ê±ÇÈÉΩÂ§±Ë¥•‰∫ÜÔºåÊñ≠Ë∑ØÂô®‰πü‰∏ç‰ºöÊâìÂºÄ„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.requestVolumeThreshold"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"20"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂú®ÊªöÂä®Êó∂Èó¥Á™ó‰∏≠ÔºåË°®Á§∫Âú®ÊªöÂä®Êó∂Èó¥Á™ó‰∏≠ÔºåÂú®ËØ∑Ê±ÇÊï∞ÈáèË∂ÖËøá</span>
                <span class="token comment">// circuitBreaker.requestVolumeThreshold ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûúÈîôËØØËØ∑Ê±ÇÊï∞ÁöÑÁôæÂàÜÊØîË∂ÖËøá50,</span>
                <span class="token comment">// Â∞±ÊääÊñ≠Ë∑ØÂô®ËÆæÁΩÆ‰∏∫ "ÊâìÂºÄ" Áä∂ÊÄÅÔºåÂê¶ÂàôÂ∞±ËÆæÁΩÆ‰∏∫ "ÂÖ≥Èó≠" Áä∂ÊÄÅ„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.errorThresholdPercentage"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"50"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂΩìÊñ≠Ë∑ØÂô®ÊâìÂºÄ‰πãÂêéÁöÑ‰ºëÁú†Êó∂Èó¥Á™ó„ÄÇ ‰ºëÁú†Êó∂Èó¥Á™óÁªìÊùü‰πãÂêéÔºå</span>
                <span class="token comment">// ‰ºöÂ∞ÜÊñ≠Ë∑ØÂô®ÁΩÆ‰∏∫ "ÂçäÂºÄ" Áä∂ÊÄÅÔºåÂ∞ùËØïÁÜîÊñ≠ÁöÑËØ∑Ê±ÇÂëΩ‰ª§ÔºåÂ¶ÇÊûú‰æùÁÑ∂Â§±Ë¥•Â∞±Â∞ÜÊñ≠Ë∑ØÂô®ÁªßÁª≠ËÆæÁΩÆ‰∏∫ "ÊâìÂºÄ" Áä∂ÊÄÅÔºå</span>
                <span class="token comment">// Â¶ÇÊûúÊàêÂäüÂ∞±ËÆæÁΩÆ‰∏∫ "ÂÖ≥Èó≠" Áä∂ÊÄÅ„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.sleepWindowinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"5000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// Êñ≠Ë∑ØÂô®Âº∫Âà∂ÊâìÂºÄ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.forceOpen"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// Êñ≠Ë∑ØÂô®Âº∫Âà∂ÂÖ≥Èó≠</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.forceClosed"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÊªöÂä®Êó∂Èó¥Á™óËÆæÁΩÆÔºåËØ•Êó∂Èó¥Áî®‰∫éÊñ≠Ë∑ØÂô®Âà§Êñ≠ÂÅ•Â∫∑Â∫¶Êó∂ÈúÄË¶ÅÊî∂ÈõÜ‰ø°ÊÅØÁöÑÊåÅÁª≠Êó∂Èó¥</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingStats.timeinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÊªöÂä®Êó∂Èó¥Á™óÁªüËÆ°ÊåáÊ†á‰ø°ÊÅØÊó∂ÂàíÂàÜ"Ê°∂"ÁöÑÊï∞ÈáèÔºåÊñ≠Ë∑ØÂô®Âú®Êî∂ÈõÜÊåáÊ†á‰ø°ÊÅØÁöÑÊó∂ÂÄô‰ºöÊ†πÊçÆ</span>
                <span class="token comment">// ËÆæÁΩÆÁöÑÊó∂Èó¥Á™óÈïøÂ∫¶ÊãÜÂàÜÊàêÂ§ö‰∏™ "Ê°∂" Êù•Á¥ØËÆ°ÂêÑÂ∫¶ÈáèÂÄºÔºåÊØè‰∏™"Ê°∂"ËÆ∞ÂΩï‰∫Ü‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑÈááÈõÜÊåáÊ†á„ÄÇ</span>
                <span class="token comment">// ÊØîÂ¶Ç 10 ÁßíÂÜÖÊãÜÂàÜÊàê 10 ‰∏™"Ê°∂"Êî∂ÈõÜËøôÊ†∑ÔºåÊâÄ‰ª• timeinMilliseconds ÂøÖÈ°ªËÉΩË¢´ numBuckets Êï¥Èô§„ÄÇÂê¶Âàô‰ºöÊäõÂºÇÂ∏∏</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingStats.numBuckets"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂØπÂëΩ‰ª§ÊâßË°åÁöÑÂª∂ËøüÊòØÂê¶‰ΩøÁî®ÁôæÂàÜ‰ΩçÊï∞Êù•Ë∑üË∏™ÂíåËÆ°ÁÆó„ÄÇÂ¶ÇÊûúËÆæÁΩÆ‰∏∫ false, ÈÇ£‰πàÊâÄÊúâÁöÑÊ¶ÇË¶ÅÁªüËÆ°ÈÉΩÂ∞ÜËøîÂõû -1„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÁôæÂàÜ‰ΩçÁªüËÆ°ÁöÑÊªöÂä®Á™óÂè£ÁöÑÊåÅÁª≠Êó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´Áßí„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.timeInMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"60000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÁôæÂàÜ‰ΩçÁªüËÆ°ÊªöÂä®Á™óÂè£‰∏≠‰ΩøÁî® ‚Äú Ê°∂ ‚ÄùÁöÑÊï∞Èáè„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.numBuckets"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"60000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÂú®ÊâßË°åËøáÁ®ã‰∏≠ÊØè‰∏™ ‚ÄúÊ°∂‚Äù ‰∏≠‰øùÁïôÁöÑÊúÄÂ§ßÊâßË°åÊ¨°Êï∞„ÄÇÂ¶ÇÊûúÂú®ÊªöÂä®Êó∂Èó¥Á™óÂÜÖÂèëÁîüË∂ÖËøáËØ•ËÆæÂÆöÂÄºÁöÑÊâßË°åÊ¨°Êï∞Ôºå</span>
                <span class="token comment">// Â∞±‰ªéÊúÄÂàùÁöÑ‰ΩçÁΩÆÂºÄÂßãÈáçÂÜô„ÄÇ‰æãÂ¶ÇÔºåÂ∞ÜËØ•ÂÄºËÆæÁΩÆ‰∏∫100, ÊªöÂä®Á™óÂè£‰∏∫10ÁßíÔºåËã•Âú®10ÁßíÂÜÖ‰∏Ä‰∏™ ‚ÄúÊ°∂ ‚Äù‰∏≠ÂèëÁîü‰∫Ü500Ê¨°ÊâßË°åÔºå</span>
                <span class="token comment">// ÈÇ£‰πàËØ• ‚ÄúÊ°∂‚Äù ‰∏≠Âè™‰øùÁïô ÊúÄÂêéÁöÑ100Ê¨°ÊâßË°åÁöÑÁªüËÆ°„ÄÇÂè¶Â§ñÔºåÂ¢ûÂä†ËØ•ÂÄºÁöÑÂ§ßÂ∞èÂ∞Ü‰ºöÂ¢ûÂä†ÂÜÖÂ≠òÈáèÁöÑÊ∂àËÄóÔºåÂπ∂Â¢ûÂä†ÊéíÂ∫èÁôæÂàÜ‰ΩçÊï∞ÊâÄÈúÄÁöÑËÆ°ÁÆóÊó∂Èó¥„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.bucketSize"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"100"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•Â±ûÊÄßÁî®Êù•ËÆæÁΩÆÈááÈõÜÂΩ±ÂìçÊñ≠Ë∑ØÂô®Áä∂ÊÄÅÁöÑÂÅ•Â∫∑Âø´ÁÖßÔºàËØ∑Ê±ÇÁöÑÊàêÂäü„ÄÅ ÈîôËØØÁôæÂàÜÊØîÔºâÁöÑÈó¥ÈöîÁ≠âÂæÖÊó∂Èó¥„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.healthSnapshot.intervalinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"500"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ÊòØÂê¶ÂºÄÂêØËØ∑Ê±ÇÁºìÂ≠ò</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"requestCache.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// HystrixCommandÁöÑÊâßË°åÂíå‰∫ã‰ª∂ÊòØÂê¶ÊâìÂç∞Êó•ÂøóÂà∞ HystrixRequestLog ‰∏≠</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"requestLog.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        threadPoolProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">// ËØ•ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÊâßË°åÂëΩ‰ª§Á∫øÁ®ãÊ±†ÁöÑÊ†∏ÂøÉÁ∫øÁ®ãÊï∞ÔºåËØ•ÂÄº‰πüÂ∞±ÊòØÂëΩ‰ª§ÊâßË°åÁöÑÊúÄÂ§ßÂπ∂ÂèëÈáè</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"coreSize"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•ÂèÇÊï∞Áî®Êù•ËÆæÁΩÆÁ∫øÁ®ãÊ±†ÁöÑÊúÄÂ§ßÈòüÂàóÂ§ßÂ∞è„ÄÇÂΩìËÆæÁΩÆ‰∏∫ -1 Êó∂ÔºåÁ∫øÁ®ãÊ±†Â∞Ü‰ΩøÁî® SynchronousQueue ÂÆûÁé∞ÁöÑÈòüÂàóÔºå</span>
                <span class="token comment">// Âê¶ÂàôÂ∞Ü‰ΩøÁî® LinkedBlockingQueue ÂÆûÁé∞ÁöÑÈòüÂàó„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"maxQueueSize"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"-1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token comment">// ËØ•ÂèÇÊï∞Áî®Êù•‰∏∫ÈòüÂàóËÆæÁΩÆÊãíÁªùÈòàÂÄº„ÄÇ ÈÄöËøáËØ•ÂèÇÊï∞Ôºå Âç≥‰ΩøÈòüÂàóÊ≤°ÊúâËææÂà∞ÊúÄÂ§ßÂÄº‰πüËÉΩÊãíÁªùËØ∑Ê±Ç„ÄÇ</span>
                <span class="token comment">// ËØ•ÂèÇÊï∞‰∏ªË¶ÅÊòØÂØπ LinkedBlockingQueue ÈòüÂàóÁöÑË°•ÂÖÖ,Âõ†‰∏∫ LinkedBlockingQueue</span>
                <span class="token comment">// ÈòüÂàó‰∏çËÉΩÂä®ÊÄÅ‰øÆÊîπÂÆÉÁöÑÂØπË±°Â§ßÂ∞èÔºåËÄåÈÄöËøáËØ•Â±ûÊÄßÂ∞±ÂèØ‰ª•Ë∞ÉÊï¥ÊãíÁªùËØ∑Ê±ÇÁöÑÈòüÂàóÂ§ßÂ∞è‰∫Ü„ÄÇ</span>
                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"queueSizeRejectionThreshold"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">strConsumer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">"hello 2020"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">str_fallbackMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">"*****fall back str_fallbackMethod"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊúçÂä°ÈôêÊµÅ-‚Äì-ÂêéÈù¢È´òÁ∫ßÁØáËÆ≤Ëß£alibabaÁöÑSentinelËØ¥Êòé"><a href="#ÊúçÂä°ÈôêÊµÅ-‚Äì-ÂêéÈù¢È´òÁ∫ßÁØáËÆ≤Ëß£alibabaÁöÑSentinelËØ¥Êòé" class="headerlink" title="ÊúçÂä°ÈôêÊµÅ ‚Äì ÂêéÈù¢È´òÁ∫ßÁØáËÆ≤Ëß£alibabaÁöÑSentinelËØ¥Êòé"></a>ÊúçÂä°ÈôêÊµÅ ‚Äì ÂêéÈù¢È´òÁ∫ßÁØáËÆ≤Ëß£alibabaÁöÑSentinelËØ¥Êòé</h3><h2 id="hystrixÂ∑•‰ΩúÊµÅÁ®ã"><a href="#hystrixÂ∑•‰ΩúÊµÅÁ®ã" class="headerlink" title="hystrixÂ∑•‰ΩúÊµÅÁ®ã"></a>hystrixÂ∑•‰ΩúÊµÅÁ®ã</h2><p><a target="_blank" rel="noopener" href="https://github.com/Netflix/Hystrix/wiki/How-it-Works">https://github.com/Netflix/Hystrix/wiki/How-it-Works</a></p>
<p>HystrixÂ∑•‰ΩúÊµÅÁ®ã</p>
<h3 id="ÂÆòÁΩëÂõæ‰æã"><a href="#ÂÆòÁΩëÂõæ‰æã" class="headerlink" title="ÂÆòÁΩëÂõæ‰æã"></a>ÂÆòÁΩëÂõæ‰æã</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-72.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-72.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="Ê≠•È™§ËØ¥Êòé"><a href="#Ê≠•È™§ËØ¥Êòé" class="headerlink" title="Ê≠•È™§ËØ¥Êòé"></a>Ê≠•È™§ËØ¥Êòé</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ÂàõÂª∫ HystrixCommandÔºàÁî®Âú®‰æùËµñÁöÑÊúçÂä°ËøîÂõûÂçï‰∏™Êìç‰ΩúÁªìÊûúÁöÑÊó∂ÂÄôÔºâ Êàñ HystrixObserableCommandÔºàÁî®Âú®‰æùËµñÁöÑÊúçÂä°ËøîÂõûÂ§ö‰∏™Êìç‰ΩúÁªìÊûúÁöÑÊó∂ÂÄôÔºâ ÂØπË±°„ÄÇ</td>
</tr>
<tr>
<td>2</td>
<td>ÂëΩ‰ª§ÊâßË°å„ÄÇÂÖ∂‰∏≠ HystrixComand ÂÆûÁé∞‰∫Ü‰∏ãÈù¢Ââç‰∏§ÁßçÊâßË°åÊñπÂºèÔºõËÄå HystrixObservableCommand ÂÆûÁé∞‰∫ÜÂêé‰∏§ÁßçÊâßË°åÊñπÂºèÔºöexecute()ÔºöÂêåÊ≠•ÊâßË°åÔºå‰ªé‰æùËµñÁöÑÊúçÂä°ËøîÂõû‰∏Ä‰∏™Âçï‰∏ÄÁöÑÁªìÊûúÂØπË±°Ôºå ÊàñÊòØÂú®ÂèëÁîüÈîôËØØÁöÑÊó∂ÂÄôÊäõÂá∫ÂºÇÂ∏∏„ÄÇqueue()ÔºöÂºÇÊ≠•ÊâßË°åÔºå Áõ¥Êé•ËøîÂõû ‰∏Ä‰∏™FutureÂØπË±°Ôºå ÂÖ∂‰∏≠ÂåÖÂê´‰∫ÜÊúçÂä°ÊâßË°åÁªìÊùüÊó∂Ë¶ÅËøîÂõûÁöÑÂçï‰∏ÄÁªìÊûúÂØπË±°„ÄÇobserve()ÔºöËøîÂõû Observable ÂØπË±°ÔºåÂÆÉ‰ª£Ë°®‰∫ÜÊìç‰ΩúÁöÑÂ§ö‰∏™ÁªìÊûúÔºåÂÆÉÊòØ‰∏Ä‰∏™ Hot ObserableÔºà‰∏çËÆ∫ ‚Äú‰∫ã‰ª∂Ê∫ê‚Äù ÊòØÂê¶Êúâ ‚ÄúËÆ¢ÈòÖËÄÖ‚ÄùÔºåÈÉΩ‰ºöÂú®ÂàõÂª∫ÂêéÂØπ‰∫ã‰ª∂ËøõË°åÂèëÂ∏ÉÔºåÊâÄ‰ª•ÂØπ‰∫é Hot Observable ÁöÑÊØè‰∏Ä‰∏™ ‚ÄúËÆ¢ÈòÖËÄÖ‚Äù ÈÉΩÊúâÂèØËÉΩÊòØ‰ªé ‚Äú‰∫ã‰ª∂Ê∫ê‚Äù ÁöÑ‰∏≠ÈÄîÂºÄÂßãÁöÑÔºåÂπ∂ÂèØËÉΩÂè™ÊòØÁúãÂà∞‰∫ÜÊï¥‰∏™Êìç‰ΩúÁöÑÂ±ÄÈÉ®ËøáÁ®ãÔºâ„ÄÇtoObservable()Ôºö ÂêåÊ†∑‰ºöËøîÂõû Observable ÂØπË±°Ôºå‰πü‰ª£Ë°®‰∫ÜÊìç‰ΩúÁöÑÂ§ö‰∏™ÁªìÊûúÔºå‰ΩÜÂÆÉËøîÂõûÁöÑÊòØ‰∏Ä‰∏™Cold ObservableÔºàÊ≤°Êúâ ‚ÄúËÆ¢ÈòÖËÄÖ‚Äù ÁöÑÊó∂ÂÄôÂπ∂‰∏ç‰ºöÂèëÂ∏É‰∫ã‰ª∂ÔºåËÄåÊòØËøõË°åÁ≠âÂæÖÔºåÁõ¥Âà∞Êúâ ‚ÄúËÆ¢ÈòÖËÄÖ‚Äù ‰πãÂêéÊâçÂèëÂ∏É‰∫ã‰ª∂ÔºåÊâÄ‰ª•ÂØπ‰∫é Cold Observable ÁöÑËÆ¢ÈòÖËÄÖÔºåÂÆÉÂèØ‰ª•‰øùËØÅ‰ªé‰∏ÄÂºÄÂßãÁúãÂà∞Êï¥‰∏™Êìç‰ΩúÁöÑÂÖ®ÈÉ®ËøáÁ®ãÔºâ„ÄÇ</td>
</tr>
<tr>
<td>3</td>
<td>Ëã•ÂΩìÂâçÂëΩ‰ª§ÁöÑËØ∑Ê±ÇÁºìÂ≠òÂäüËÉΩÊòØË¢´ÂêØÁî®ÁöÑÔºå Âπ∂‰∏îËØ•ÂëΩ‰ª§ÁºìÂ≠òÂëΩ‰∏≠Ôºå ÈÇ£‰πàÁºìÂ≠òÁöÑÁªìÊûú‰ºöÁ´ãÂç≥‰ª• Observable ÂØπË±°ÁöÑÂΩ¢Âºè ËøîÂõû„ÄÇ</td>
</tr>
<tr>
<td>4</td>
<td>Ê£ÄÊü•Êñ≠Ë∑ØÂô®ÊòØÂê¶‰∏∫ÊâìÂºÄÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÊñ≠Ë∑ØÂô®ÊòØÊâìÂºÄÁöÑÔºåÈÇ£‰πàHystrix‰∏ç‰ºöÊâßË°åÂëΩ‰ª§ÔºåËÄåÊòØËΩ¨Êé•Âà∞ fallback Â§ÑÁêÜÈÄªËæëÔºàÁ¨¨ 8 Ê≠•ÔºâÔºõÂ¶ÇÊûúÊñ≠Ë∑ØÂô®ÊòØÂÖ≥Èó≠ÁöÑÔºåÊ£ÄÊü•ÊòØÂê¶ÊúâÂèØÁî®ËµÑÊ∫êÊù•ÊâßË°åÂëΩ‰ª§ÔºàÁ¨¨ 5 Ê≠•Ôºâ„ÄÇ</td>
</tr>
<tr>
<td>5</td>
<td>Á∫øÁ®ãÊ±†&#x2F;ËØ∑Ê±ÇÈòüÂàó&#x2F;‰ø°Âè∑ÈáèÊòØÂê¶Âç†Êª°„ÄÇÂ¶ÇÊûúÂëΩ‰ª§‰æùËµñÊúçÂä°ÁöÑ‰∏ìÊúâÁ∫øÁ®ãÊ±†ÂíåËØ∑Ê±ÇÈòüÂàóÔºåÊàñËÄÖ‰ø°Âè∑ÈáèÔºà‰∏ç‰ΩøÁî®Á∫øÁ®ãÊ±†ÁöÑÊó∂ÂÄôÔºâÂ∑≤ÁªèË¢´Âç†Êª°Ôºå ÈÇ£‰πà Hystrix ‰πü‰∏ç‰ºöÊâßË°åÂëΩ‰ª§Ôºå ËÄåÊòØËΩ¨Êé•Âà∞ fallback Â§ÑÁêÜÈÄªËæëÔºàÁ¨¨8Ê≠•Ôºâ„ÄÇ</td>
</tr>
<tr>
<td>6</td>
<td>Hystrix ‰ºöÊ†πÊçÆÊàë‰ª¨ÁºñÂÜôÁöÑÊñπÊ≥ïÊù•ÂÜ≥ÂÆöÈááÂèñ‰ªÄ‰πàÊ†∑ÁöÑÊñπÂºèÂéªËØ∑Ê±Ç‰æùËµñÊúçÂä°„ÄÇHystrixCommand.run() ÔºöËøîÂõû‰∏Ä‰∏™Âçï‰∏ÄÁöÑÁªìÊûúÔºåÊàñËÄÖÊäõÂá∫ÂºÇÂ∏∏„ÄÇHystrixObservableCommand.construct()Ôºö ËøîÂõû‰∏Ä‰∏™Observable ÂØπË±°Êù•ÂèëÂ∞ÑÂ§ö‰∏™ÁªìÊûúÔºåÊàñÈÄöËøá onError ÂèëÈÄÅÈîôËØØÈÄöÁü•„ÄÇ</td>
</tr>
<tr>
<td>7</td>
<td>Hystrix‰ºöÂ∞Ü ‚ÄúÊàêÂäü‚Äù„ÄÅ‚ÄùÂ§±Ë¥•‚Äù„ÄÅ‚ÄùÊãíÁªù‚Äù„ÄÅ‚ÄùË∂ÖÊó∂‚Äù Á≠â‰ø°ÊÅØÊä•ÂëäÁªôÊñ≠Ë∑ØÂô®Ôºå ËÄåÊñ≠Ë∑ØÂô®‰ºöÁª¥Êä§‰∏ÄÁªÑËÆ°Êï∞Âô®Êù•ÁªüËÆ°Ëøô‰∫õÊï∞ÊçÆ„ÄÇÊñ≠Ë∑ØÂô®‰ºö‰ΩøÁî®Ëøô‰∫õÁªüËÆ°Êï∞ÊçÆÊù•ÂÜ≥ÂÆöÊòØÂê¶Ë¶ÅÂ∞ÜÊñ≠Ë∑ØÂô®ÊâìÂºÄÔºåÊù•ÂØπÊüê‰∏™‰æùËµñÊúçÂä°ÁöÑËØ∑Ê±ÇËøõË°å ‚ÄúÁÜîÊñ≠&#x2F;Áü≠Ë∑Ø‚Äù„ÄÇ</td>
</tr>
<tr>
<td>8</td>
<td>ÂΩìÂëΩ‰ª§ÊâßË°åÂ§±Ë¥•ÁöÑÊó∂ÂÄôÔºå Hystrix ‰ºöËøõÂÖ• fallback Â∞ùËØïÂõûÈÄÄÂ§ÑÁêÜÔºå Êàë‰ª¨ÈÄöÂ∏∏‰πüÁß∞ËØ•Êìç‰Ωú‰∏∫ ‚ÄúÊúçÂä°ÈôçÁ∫ß‚Äù„ÄÇËÄåËÉΩÂ§üÂºïËµ∑ÊúçÂä°ÈôçÁ∫ßÂ§ÑÁêÜÁöÑÊÉÖÂÜµÊúâ‰∏ãÈù¢Âá†ÁßçÔºöÁ¨¨4Ê≠•Ôºö ÂΩìÂâçÂëΩ‰ª§Â§Ñ‰∫é‚ÄùÁÜîÊñ≠&#x2F;Áü≠Ë∑Ø‚ÄùÁä∂ÊÄÅÔºåÊñ≠Ë∑ØÂô®ÊòØÊâìÂºÄÁöÑÊó∂ÂÄô„ÄÇÁ¨¨5Ê≠•Ôºö ÂΩìÂâçÂëΩ‰ª§ÁöÑÁ∫øÁ®ãÊ±†„ÄÅ ËØ∑Ê±ÇÈòüÂàóÊàñ ËÄÖ‰ø°Âè∑ÈáèË¢´Âç†Êª°ÁöÑÊó∂ÂÄô„ÄÇÁ¨¨6Ê≠•ÔºöHystrixObservableCommand.construct() Êàñ HystrixCommand.run() ÊäõÂá∫ÂºÇÂ∏∏ÁöÑÊó∂ÂÄô„ÄÇ</td>
</tr>
<tr>
<td>9</td>
<td>ÂΩìHystrixÂëΩ‰ª§ÊâßË°åÊàêÂäü‰πãÂêéÔºå ÂÆÉ‰ºöÂ∞ÜÂ§ÑÁêÜÁªìÊûúÁõ¥Êé•ËøîÂõûÊàñÊòØ‰ª•Observable ÁöÑÂΩ¢ÂºèËøîÂõû„ÄÇ</td>
</tr>
</tbody></table>
<p>tipsÔºöÂ¶ÇÊûúÊàë‰ª¨Ê≤°Êúâ‰∏∫ÂëΩ‰ª§ÂÆûÁé∞ÈôçÁ∫ßÈÄªËæëÊàñËÄÖÂú®ÈôçÁ∫ßÂ§ÑÁêÜÈÄªËæë‰∏≠ÊäõÂá∫‰∫ÜÂºÇÂ∏∏Ôºå Hystrix ‰æùÁÑ∂‰ºöËøîÂõû‰∏Ä‰∏™ Observable ÂØπË±°Ôºå ‰ΩÜÊòØÂÆÉ‰∏ç‰ºöÂèëÂ∞Ñ‰ªª‰ΩïÁªìÊûúÊï∞ÊçÆÔºå ËÄåÊòØÈÄöËøá onError ÊñπÊ≥ïÈÄöÁü•ÂëΩ‰ª§Á´ãÂç≥‰∏≠Êñ≠ËØ∑Ê±ÇÔºåÂπ∂ÈÄöËøáonError()ÊñπÊ≥ïÂ∞ÜÂºïËµ∑ÂëΩ‰ª§Â§±Ë¥•ÁöÑÂºÇÂ∏∏ÂèëÈÄÅÁªôË∞ÉÁî®ËÄÖ„ÄÇ	</p>
<h2 id="ÊúçÂä°ÁõëÊéßhystrixDashboard"><a href="#ÊúçÂä°ÁõëÊéßhystrixDashboard" class="headerlink" title="ÊúçÂä°ÁõëÊéßhystrixDashboard"></a>ÊúçÂä°ÁõëÊéßhystrixDashboard</h2><h3 id="Ê¶ÇËø∞-4"><a href="#Ê¶ÇËø∞-4" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h3><blockquote>
<p>Èô§‰∫ÜÈöîÁ¶ª‰æùËµñÊúçÂä°ÁöÑË∞ÉÁî®‰ª•Â§ñÔºåHystrixËøòÊèê‰æõ‰∫Ü<strong>ÂáÜÂÆûÊó∂ÁöÑË∞ÉÁî®ÁõëÊéßÔºàHystrix DashboardÔºâ</strong>ÔºåHystrix‰ºöÊåÅÁª≠Âú∞ËÆ∞ÂΩïÊâÄÊúâÈÄöËøáHystrixÂèëËµ∑ÁöÑËØ∑Ê±ÇÁöÑÊâßË°å‰ø°ÊÅØÔºåÂπ∂‰ª•ÁªüËÆ°Êä•Ë°®ÂíåÂõæÂΩ¢ÁöÑÂΩ¢ÂºèÂ±ïÁ§∫ÁªôÁî®Êà∑ÔºåÂåÖÊã¨ÊØèÁßíÊâßË°åÂ§öÂ∞ëËØ∑Ê±ÇÂ§öÂ∞ëÊàêÂäüÔºåÂ§öÂ∞ëÂ§±Ë¥•Á≠â„ÄÇNetflixÈÄöËøáhystrix-metrics-event-streamÈ°πÁõÆÂÆûÁé∞‰∫ÜÂØπ‰ª•‰∏äÊåáÊ†áÁöÑÁõëÊéß„ÄÇSpring Cloud‰πüÊèê‰æõ‰∫ÜHystrix DashboardÁöÑÊï¥ÂêàÔºåÂØπÁõëÊéßÂÜÖÂÆπËΩ¨ÂåñÊàêÂèØËßÜÂåñÁïåÈù¢„ÄÇ</p>
</blockquote>
<h3 id="‰ª™Ë°®Áõò9001"><a href="#‰ª™Ë°®Áõò9001" class="headerlink" title="‰ª™Ë°®Áõò9001"></a>‰ª™Ë°®Áõò9001</h3><h4 id="Êñ∞Âª∫cloud-consumer-hystrix-dashboard9001"><a href="#Êñ∞Âª∫cloud-consumer-hystrix-dashboard9001" class="headerlink" title="Êñ∞Âª∫cloud-consumer-hystrix-dashboard9001"></a>Êñ∞Âª∫cloud-consumer-hystrix-dashboard9001</h4><h4 id="ÊîπPOM-9"><a href="#ÊîπPOM-9" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumer-hystrix-dashboard9001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-13"><a href="#ÊîπYML-13" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
 <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9001</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="HystrixDashboardMain9001-Êñ∞Ê≥®Ëß£-EnableHystrixDashboard"><a href="#HystrixDashboardMain9001-Êñ∞Ê≥®Ëß£-EnableHystrixDashboard" class="headerlink" title="HystrixDashboardMain9001+Êñ∞Ê≥®Ëß£@EnableHystrixDashboard"></a>HystrixDashboardMain9001+Êñ∞Ê≥®Ëß£@EnableHystrixDashboard</h4><h5 id="HystrixDashboardMain9001"><a href="#HystrixDashboardMain9001" class="headerlink" title="HystrixDashboardMain9001"></a>HystrixDashboardMain9001</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>hystrix<span class="token punctuation">.</span>dashboard<span class="token punctuation">.</span></span><span class="token class-name">EnableHystrixDashboard</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableHystrixDashboard</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HystrixDashboardMain9001</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HystrixDashboardMain9001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊâÄÊúâProviderÂæÆÊúçÂä°Êèê‰æõÁ±ª-8001-x2F-8002-x2F-8003-ÈÉΩÈúÄË¶ÅÁõëÊéß‰æùËµñÈÖçÁΩÆ"><a href="#ÊâÄÊúâProviderÂæÆÊúçÂä°Êèê‰æõÁ±ª-8001-x2F-8002-x2F-8003-ÈÉΩÈúÄË¶ÅÁõëÊéß‰æùËµñÈÖçÁΩÆ" class="headerlink" title="ÊâÄÊúâProviderÂæÆÊúçÂä°Êèê‰æõÁ±ª(8001&#x2F;8002&#x2F;8003)ÈÉΩÈúÄË¶ÅÁõëÊéß‰æùËµñÈÖçÁΩÆ"></a>ÊâÄÊúâProviderÂæÆÊúçÂä°Êèê‰æõÁ±ª(8001&#x2F;8002&#x2F;8003)ÈÉΩÈúÄË¶ÅÁõëÊéß‰æùËµñÈÖçÁΩÆ</h4><blockquote>
   <!-- actuatorÁõëÊéß‰ø°ÊÅØÂÆåÂñÑ -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
</blockquote>
<h4 id="ÂêØÂä®cloud-consumer-hystrix-dashboard9001ËØ•ÂæÆÊúçÂä°ÂêéÁª≠Â∞ÜÁõëÊéßÂæÆÊúçÂä°8001"><a href="#ÂêØÂä®cloud-consumer-hystrix-dashboard9001ËØ•ÂæÆÊúçÂä°ÂêéÁª≠Â∞ÜÁõëÊéßÂæÆÊúçÂä°8001" class="headerlink" title="ÂêØÂä®cloud-consumer-hystrix-dashboard9001ËØ•ÂæÆÊúçÂä°ÂêéÁª≠Â∞ÜÁõëÊéßÂæÆÊúçÂä°8001"></a>ÂêØÂä®cloud-consumer-hystrix-dashboard9001ËØ•ÂæÆÊúçÂä°ÂêéÁª≠Â∞ÜÁõëÊéßÂæÆÊúçÂä°8001</h4><p>‚Äã		<a target="_blank" rel="noopener" href="http://localhost:9001/hystrix">http://localhost:9001/hystrix</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-73.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-73.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="Êñ≠Ë∑ØÂô®ÊºîÁ§∫-ÊúçÂä°ÁõëÊéßhystrixDashboard"><a href="#Êñ≠Ë∑ØÂô®ÊºîÁ§∫-ÊúçÂä°ÁõëÊéßhystrixDashboard" class="headerlink" title="Êñ≠Ë∑ØÂô®ÊºîÁ§∫(ÊúçÂä°ÁõëÊéßhystrixDashboard)"></a>Êñ≠Ë∑ØÂô®ÊºîÁ§∫(ÊúçÂä°ÁõëÊéßhystrixDashboard)</h3><h4 id="‰øÆÊîπcloud-provider-hystrix-payment8001-1"><a href="#‰øÆÊîπcloud-provider-hystrix-payment8001-1" class="headerlink" title="‰øÆÊîπcloud-provider-hystrix-payment8001"></a>‰øÆÊîπcloud-provider-hystrix-payment8001</h4><p>Ê≥®ÊÑè:Êñ∞ÁâàÊú¨HystrixÈúÄË¶ÅÂú®‰∏ªÂêØÂä®Á±ªMainAppHystrix8001‰∏≠ÊåáÂÆöÁõëÊéßË∑ØÂæÑ</p>
<blockquote>
<p>&#x2F;**<br> *Ê≠§ÈÖçÁΩÆÊòØ‰∏∫‰∫ÜÊúçÂä°ÁõëÊéßËÄåÈÖçÁΩÆÔºå‰∏éÊúçÂä°ÂÆπÈîôÊú¨Ë∫´Êó†ÂÖ≥ÔºåspringcloudÂçáÁ∫ßÂêéÁöÑÂùë<br> *ServletRegistrationBeanÂõ†‰∏∫springbootÁöÑÈªòËÆ§Ë∑ØÂæÑ‰∏çÊòØ‚Äù&#x2F;hystrix.stream‚ÄùÔºå<br> *Âè™Ë¶ÅÂú®Ëá™Â∑±ÁöÑÈ°πÁõÆÈáåÈÖçÁΩÆ‰∏ä‰∏ãÈù¢ÁöÑservletÂ∞±ÂèØ‰ª•‰∫Ü<br> *&#x2F;<br>@Bean<br>public ServletRegistrationBean getServlet() {<br>    HystrixMetricsStreamServlet streamServlet &#x3D; new HystrixMetricsStreamServlet();<br>    ServletRegistrationBean registrationBean &#x3D; new ServletRegistrationBean(streamServlet);<br>    registrationBean.setLoadOnStartup(1);<br>    registrationBean.addUrlMappings(‚Äú&#x2F;hystrix.stream‚Äù);<br>    registrationBean.setName(‚ÄúHystrixMetricsStreamServlet‚Äù);<br>    return registrationBean;<br>}</p>
</blockquote>
<p>Unable to connect to Command Metric Stream.</p>
<p>404</p>
<h4 id="ÁõëÊéßÊµãËØï"><a href="#ÁõëÊéßÊµãËØï" class="headerlink" title="ÁõëÊéßÊµãËØï"></a>ÁõëÊéßÊµãËØï</h4><h5 id="ÂêØÂä®1‰∏™eurekaÊàñËÄÖ3‰∏™eurekaÈõÜÁæ§ÂùáÂèØ"><a href="#ÂêØÂä®1‰∏™eurekaÊàñËÄÖ3‰∏™eurekaÈõÜÁæ§ÂùáÂèØ" class="headerlink" title="ÂêØÂä®1‰∏™eurekaÊàñËÄÖ3‰∏™eurekaÈõÜÁæ§ÂùáÂèØ"></a>ÂêØÂä®1‰∏™eurekaÊàñËÄÖ3‰∏™eurekaÈõÜÁæ§ÂùáÂèØ</h5><h5 id="ËßÇÂØüÁõëÊéßÁ™óÂè£"><a href="#ËßÇÂØüÁõëÊéßÁ™óÂè£" class="headerlink" title="ËßÇÂØüÁõëÊéßÁ™óÂè£"></a>ËßÇÂØüÁõëÊéßÁ™óÂè£</h5><h5 id="9001ÁõëÊéß8001"><a href="#9001ÁõëÊéß8001" class="headerlink" title="9001ÁõëÊéß8001"></a>9001ÁõëÊéß8001</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-74.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-74.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<ol>
<li><p>DelayÔºöËØ•ÂèÇÊï∞Áî®Êù•ÊéßÂà∂ÊúçÂä°Âô®‰∏äËΩÆËØ¢ÁõëÊéß‰ø°ÊÅØÁöÑÂª∂ËøüÊó∂Èó¥ÔºåÈªòËÆ§‰∏∫2000ÊØ´ÁßíÔºåÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆËØ•Â±ûÊÄßÊù•Èôç‰ΩéÂÆ¢Êà∑Á´ØÁöÑÁΩëÁªúÂíåCPUÊ∂àËÄó„ÄÇ</p>
</li>
<li><p>TitleÔºöËØ•ÂèÇÊï∞ÂØπÂ∫î‰∫ÜÂ§¥ÈÉ®Ê†áÈ¢òHystrix Stream‰πãÂêéÁöÑÂÜÖÂÆπÔºåÈªòËÆ§‰ºö‰ΩøÁî®ÂÖ∑‰ΩìÁõëÊéßÂÆû‰æãÁöÑURLÔºåÂèØ‰ª•ÈÄöËøáÈÖçÁΩÆËØ•‰ø°ÊÅØÊù•Â±ïÁ§∫Êõ¥ÂêàÈÄÇÁöÑÊ†áÈ¢ò„ÄÇ </p>
<p>Â°´ÂÜôÁõëÊéßÂú∞ÂùÄ   <a target="_blank" rel="noopener" href="http://localhost:8001/hystrix.stream">http://localhost:8001/hystrix.stream</a></p>
</li>
</ol>
<p>ÊµãËØïÂú∞ÂùÄ</p>
<p>‚Äã		<a target="_blank" rel="noopener" href="http://localhost:8001/payment/circuit/31">http://localhost:8001/payment/circuit/31</a></p>
<p>‚Äã		<a target="_blank" rel="noopener" href="http://localhost:8001/payment/circuit/-31">http://localhost:8001/payment/circuit/-31</a></p>
<p>‚Äã		‰∏äËø∞ÊµãËØïÈÄöËøá  ok</p>
<p>‚Äã		ÂÖàËÆøÈóÆÊ≠£Á°ÆÂú∞ÂùÄÔºåÂÜçËÆøÈóÆÈîôËØØÂú∞ÂùÄÔºåÂÜçÊ≠£Á°ÆÂú∞ÂùÄÔºå‰ºöÂèëÁé∞ÂõæÁ§∫Êñ≠Ë∑ØÂô®ÈÉΩÊòØÊÖ¢ÊÖ¢ÊîæÂºÄÁöÑ„ÄÇ </p>
<p>‚Äã				ÁõëÊéßÁªìÊûúÔºåÊàêÂäü</p>
<p>‚Äã					<img src="/image/Learn-SpringCloud/Learn-SpringCloud-75.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-75.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>‚Äã				ÁõëÊéßÁªìÊûúÔºåÂ§±Ë¥•</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-76.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-76.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h5 id="Â¶Ç‰ΩïÁúãÔºü"><a href="#Â¶Ç‰ΩïÁúãÔºü" class="headerlink" title="Â¶Ç‰ΩïÁúãÔºü"></a>Â¶Ç‰ΩïÁúãÔºü</h5><h6 id="7Ëâ≤"><a href="#7Ëâ≤" class="headerlink" title="7Ëâ≤"></a>7Ëâ≤</h6><h6 id="1Âúà"><a href="#1Âúà" class="headerlink" title="1Âúà"></a>1Âúà</h6><blockquote>
<p>ÂÆûÂøÉÂúÜÔºöÂÖ±Êúâ‰∏§ÁßçÂê´‰πâ„ÄÇÂÆÉÈÄöËøáÈ¢úËâ≤ÁöÑÂèòÂåñ‰ª£Ë°®‰∫ÜÂÆû‰æãÁöÑÂÅ•Â∫∑Á®ãÂ∫¶ÔºåÂÆÉÁöÑÂÅ•Â∫∑Â∫¶‰ªéÁªøËâ≤&lt;ÈªÑËâ≤&lt;Ê©ôËâ≤&lt;Á∫¢Ëâ≤ÈÄíÂáè„ÄÇ<br>ËØ•ÂÆûÂøÉÂúÜÈô§‰∫ÜÈ¢úËâ≤ÁöÑÂèòÂåñ‰πãÂ§ñÔºåÂÆÉÁöÑÂ§ßÂ∞è‰πü‰ºöÊ†πÊçÆÂÆû‰æãÁöÑËØ∑Ê±ÇÊµÅÈáèÂèëÁîüÂèòÂåñÔºåÊµÅÈáèË∂äÂ§ßËØ•ÂÆûÂøÉÂúÜÂ∞±Ë∂äÂ§ß„ÄÇÊâÄ‰ª•ÈÄöËøáËØ•ÂÆûÂøÉÂúÜÁöÑÂ±ïÁ§∫ÔºåÂ∞±ÂèØ‰ª•Âú®Â§ßÈáèÁöÑÂÆû‰æã‰∏≠Âø´ÈÄüÁöÑÂèëÁé∞<strong>ÊïÖÈöúÂÆû‰æã</strong>Âíå<strong>È´òÂéãÂäõÂÆû‰æã</strong>„ÄÇ</p>
</blockquote>
<h6 id="1Á∫ø"><a href="#1Á∫ø" class="headerlink" title="1Á∫ø"></a>1Á∫ø</h6><blockquote>
<p>Êõ≤Á∫øÔºöÁî®Êù•ËÆ∞ÂΩï2ÂàÜÈíüÂÜÖÊµÅÈáèÁöÑÁõ∏ÂØπÂèòÂåñÔºåÂèØ‰ª•ÈÄöËøáÂÆÉÊù•ËßÇÂØüÂà∞ÊµÅÈáèÁöÑ‰∏äÂçáÂíå‰∏ãÈôçË∂ãÂäø„ÄÇ</p>
</blockquote>
<h6 id="Êï¥ÂõæËØ¥Êòé"><a href="#Êï¥ÂõæËØ¥Êòé" class="headerlink" title="Êï¥ÂõæËØ¥Êòé"></a>Êï¥ÂõæËØ¥Êòé</h6><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-77.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-77.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h6 id="Êï¥ÂõæËØ¥Êòé2"><a href="#Êï¥ÂõæËØ¥Êòé2" class="headerlink" title="Êï¥ÂõæËØ¥Êòé2"></a>Êï¥ÂõæËØ¥Êòé2</h6><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-78.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-78.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h5 id="ÊêûÊáÇ‰∏Ä‰∏™ÊâçËÉΩÁúãÊáÇÂ§çÊùÇÁöÑ"><a href="#ÊêûÊáÇ‰∏Ä‰∏™ÊâçËÉΩÁúãÊáÇÂ§çÊùÇÁöÑ" class="headerlink" title="ÊêûÊáÇ‰∏Ä‰∏™ÊâçËÉΩÁúãÊáÇÂ§çÊùÇÁöÑ"></a>ÊêûÊáÇ‰∏Ä‰∏™ÊâçËÉΩÁúãÊáÇÂ§çÊùÇÁöÑ</h5><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-79.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-79.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h1 id="zuulË∑ØÁî±ÁΩëÂÖ≥"><a href="#zuulË∑ØÁî±ÁΩëÂÖ≥" class="headerlink" title="zuulË∑ØÁî±ÁΩëÂÖ≥"></a>zuulË∑ØÁî±ÁΩëÂÖ≥</h1><h2 id="Ê¶ÇËø∞ÁÆÄ‰ªã"><a href="#Ê¶ÇËø∞ÁÆÄ‰ªã" class="headerlink" title="Ê¶ÇËø∞ÁÆÄ‰ªã"></a>Ê¶ÇËø∞ÁÆÄ‰ªã</h2><h3 id="ÂÆòÁΩëËµÑÊñô-2"><a href="#ÂÆòÁΩëËµÑÊñô-2" class="headerlink" title="ÂÆòÁΩëËµÑÊñô"></a>ÂÆòÁΩëËµÑÊñô</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/Netflix/zuul/wiki/Getting-Started">https://github.com/Netflix/zuul/wiki/Getting-Started</a></p>
<p><a target="_blank" rel="noopener" href="https://cloud.spring.io/spring-cloud-static/spring-cloud-netflix/2.2.1.RELEASE/reference/html/#router-and-filter-zuul">https://cloud.spring.io/spring-cloud-static/spring-cloud-netflix/2.2.1.RELEASE/reference/html/#router-and-filter-zuul</a></p>
</blockquote>
<h3 id="ÊòØ‰ªÄ‰πà-3"><a href="#ÊòØ‰ªÄ‰πà-3" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><blockquote>
<p>ZuulÊòØ‰∏ÄÁßçÊèê‰æõÂä®ÊÄÅË∑ØÁî±„ÄÅÁõëËßÜ„ÄÅÂºπÊÄß„ÄÅÂÆâÂÖ®ÊÄßÁ≠âÂäüËÉΩÁöÑËæπÁºòÊúçÂä°„ÄÇ<br>ZuulÊòØNetflixÂá∫ÂìÅÁöÑ‰∏Ä‰∏™Âü∫‰∫éJVMË∑ØÁî±ÂíåÊúçÂä°Á´ØÁöÑË¥üËΩΩÂùáË°°Âô®„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-80.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-80.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>APIÁΩëÂÖ≥‰∏∫ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÁöÑÊúçÂä°Êèê‰æõ‰∫ÜÁªü‰∏ÄÁöÑËÆøÈóÆÂÖ•Âè£ÔºåÂÆ¢Êà∑Á´ØÈÄöËøáAPIÁΩëÂÖ≥ËÆøÈóÆÁõ∏ÂÖ≥ÊúçÂä°„ÄÇAPIÁΩëÂÖ≥ÁöÑÂÆö‰πâÁ±ª‰ºº‰∫éËÆæËÆ°Ê®°Âºè‰∏≠ÁöÑÈó®Èù¢Ê®°ÂºèÔºåÂÆÉÁõ∏ÂΩì‰∫éÊï¥‰∏™ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÁöÑÈó®Èù¢ÔºåÊâÄÊúâÂÆ¢Êà∑Á´ØÁöÑËÆøÈóÆÈÉΩÈÄöËøáÂÆÉÊù•ËøõË°åË∑ØÁî±ÂèäËøáÊª§„ÄÇÂÆÉÂÆûÁé∞‰∫ÜËØ∑Ê±ÇË∑ØÁî±„ÄÅË¥üËΩΩÂùáË°°„ÄÅÊ†°È™åËøáÊª§„ÄÅÊúçÂä°ÂÆπÈîô„ÄÅÊúçÂä°ËÅöÂêàÁ≠âÂäüËÉΩ„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-81.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-81.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-82.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-82.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ZuulÂåÖÂê´‰∫ÜÂ¶Ç‰∏ãÊúÄ‰∏ªË¶ÅÁöÑÂäüËÉΩÔºö<br><strong>‰ª£ÁêÜ+Ë∑ØÁî±+ËøáÊª§‰∏âÂ§ßÂäüËÉΩ</strong></p>
</blockquote>
<h3 id="ËÉΩÂπ≤Âòõ-4"><a href="#ËÉΩÂπ≤Âòõ-4" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><h4 id="Ë∑ØÁî±"><a href="#Ë∑ØÁî±" class="headerlink" title="Ë∑ØÁî±"></a>Ë∑ØÁî±</h4><h4 id="ËøáÊª§"><a href="#ËøáÊª§" class="headerlink" title="ËøáÊª§"></a>ËøáÊª§</h4><h4 id="Ë¥üËΩΩÂùáË°°-1"><a href="#Ë¥üËΩΩÂùáË°°-1" class="headerlink" title="Ë¥üËΩΩÂùáË°°"></a>Ë¥üËΩΩÂùáË°°</h4><blockquote>
<p>ÁΩëÂÖ≥‰∏∫ÂÖ•Âè£ÔºåÁî±ÁΩëÂÖ≥‰∏éÂæÆÊúçÂä°ËøõË°å‰∫§‰∫íÔºåÊâÄ‰ª•ÁΩëÂÖ≥ÂøÖÈ°ªË¶ÅÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÁöÑÂäüËÉΩÔºõ<br>ÁΩëÂÖ≥‰ºöËé∑ÂèñÂæÆÊúçÂä°Ê≥®ÂÜå‰∏≠ÂøÉÈáåÈù¢ÁöÑÊúçÂä°ËøûÊé•Âú∞ÂùÄÔºåÂÜçÈÖçÂêà‰∏Ä‰∫õÁÆóÊ≥ïÈÄâÊã©ÂÖ∂‰∏≠‰∏Ä‰∏™ÊúçÂä°Âú∞ÂùÄÔºåËøõË°åÂ§ÑÁêÜ‰∏öÂä°„ÄÇ<br>Ëøô‰∏™Â±û‰∫éÂÆ¢Êà∑Á´Ø‰æßÁöÑË¥üËΩΩÂùáË°°ÔºåÁî±Ë∞ÉÁî®ÊñπÂéªÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÈÄªËæë„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-83.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-83.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h4 id="ÁÅ∞Â∫¶ÂèëÂ∏É"><a href="#ÁÅ∞Â∫¶ÂèëÂ∏É" class="headerlink" title="ÁÅ∞Â∫¶ÂèëÂ∏É"></a>ÁÅ∞Â∫¶ÂèëÂ∏É</h4><blockquote>
<p>ÂèàÁß∞Èáë‰∏ùÈõÄÂèëÂ∏É</p>
<p>Ëµ∑Ê∫êÊòØÔºåÁüø‰∫ïÂ∑•‰∫∫ÂèëÁé∞ÔºåÈáë‰∏ùÈõÄÂØπÁì¶ÊñØÊ∞î‰ΩìÂæàÊïèÊÑüÔºåÁüøÂ∑•‰ºöÂú®‰∏ã‰∫ï‰πãÂâçÔºåÂÖàÊîæ‰∏ÄÂè™Èáë‰∏ùÈõÄÂà∞‰∫ï‰∏≠ÔºåÂ¶ÇÊûúÈáë‰∏ùÈõÄ‰∏çÂè´‰∫ÜÔºåÂ∞±‰ª£Ë°®Áì¶ÊñØÊµìÂ∫¶È´ò„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-84.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-84.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Âú®ÁÅ∞Â∫¶ÂèëÂ∏ÉÂºÄÂßãÂêéÔºåÂÖàÂêØÂä®‰∏Ä‰∏™Êñ∞ÁâàÊú¨Â∫îÁî®Ôºå‰ΩÜÊòØÂπ∂‰∏çÁõ¥Êé•Â∞ÜÊµÅÈáèÂàáËøáÊù•ÔºåËÄåÊòØÊµãËØï‰∫∫ÂëòÂØπÊñ∞ÁâàÊú¨ËøõË°åÁ∫ø‰∏äÊµãËØïÔºåÂêØÂä®ÁöÑËøô‰∏™Êñ∞ÁâàÊú¨Â∫îÁî®ÔºåÂ∞±ÊòØÊàë‰ª¨ÁöÑÈáë‰∏ùÈõÄ„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÈóÆÈ¢òÔºåÈÇ£‰πàÂèØ‰ª•Â∞ÜÂ∞ëÈáèÁöÑÁî®Êà∑ÊµÅÈáèÂØºÂÖ•Âà∞Êñ∞ÁâàÊú¨‰∏äÔºåÁÑ∂ÂêéÂÜçÂØπÊñ∞ÁâàÊú¨ÂÅöËøêË°åÁä∂ÊÄÅËßÇÂØüÔºåÊî∂ÈõÜÂêÑÁßçËøêË°åÊó∂Êï∞ÊçÆÔºåÂ¶ÇÊûúÊ≠§Êó∂ÂØπÊñ∞ÊóßÁâàÊú¨ÂÅöÂêÑÁßçÊï∞ÊçÆÂØπÊØîÔºåÂ∞±ÊòØÊâÄË∞ìÁöÑA&#x2F;BÊµãËØï„ÄÇÊñ∞ÁâàÊú¨Ê≤°‰ªÄ‰πàÈóÆÈ¢òÔºåÈÇ£‰πàÈÄêÊ≠•Êâ©Â§ßËåÉÂõ¥„ÄÅÊµÅÈáèÔºåÊääÊâÄÊúâÁî®Êà∑ÈÉΩËøÅÁßªÂà∞Êñ∞ÁâàÊú¨‰∏äÈù¢Êù•„ÄÇ</p>
</blockquote>
<h2 id="Ë∑ØÁî±Âü∫Êú¨ÈÖçÁΩÆ"><a href="#Ë∑ØÁî±Âü∫Êú¨ÈÖçÁΩÆ" class="headerlink" title="Ë∑ØÁî±Âü∫Êú¨ÈÖçÁΩÆ"></a>Ë∑ØÁî±Âü∫Êú¨ÈÖçÁΩÆ</h2><h3 id="ÂäüËÉΩ"><a href="#ÂäüËÉΩ" class="headerlink" title="ÂäüËÉΩ"></a>ÂäüËÉΩ</h3><blockquote>
<p>Ë∑ØÁî±ÂäüËÉΩË¥üË¥£Â∞ÜÂ§ñÈÉ®ËØ∑Ê±ÇËΩ¨ÂèëÂà∞ÂÖ∑‰ΩìÁöÑÊúçÂä°ÂÆû‰æã‰∏äÂéªÔºåÊòØÂÆûÁé∞Áªü‰∏ÄËÆøÈóÆÂÖ•Âè£ÁöÑÂü∫Á°Ä</p>
</blockquote>
<h3 id="Êñ∞Âª∫ModuleÊ®°Âùócloud-zuul-gateway9527"><a href="#Êñ∞Âª∫ModuleÊ®°Âùócloud-zuul-gateway9527" class="headerlink" title="Êñ∞Âª∫ModuleÊ®°Âùócloud-zuul-gateway9527"></a>Êñ∞Âª∫ModuleÊ®°Âùócloud-zuul-gateway9527</h3><h3 id="ÊîπPOM-10"><a href="#ÊîπPOM-10" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-zuul-gateway9527<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-zuul<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-14"><a href="#ÊîπYML-14" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9527</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>zuul<span class="token punctuation">-</span>gateway

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment">#defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> gateway<span class="token punctuation">-</span>9527.com
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="hosts‰øÆÊîπ"><a href="#hosts‰øÆÊîπ" class="headerlink" title="hosts‰øÆÊîπ"></a>hosts‰øÆÊîπ</h3><blockquote>
<p>127.0.0.1  myzuul.com</p>
</blockquote>
<h3 id="‰∏ªÂêØÂä®Á±ª-3"><a href="#‰∏ªÂêØÂä®Á±ª-3" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h3><blockquote>
<p>@EnableZuulProxy</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span></span><span class="token class-name">EnableZuulProxy</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableZuulProxy</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZuulMain9527</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ZuulMain9527</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="ÂêØÂä®"><a href="#ÂêØÂä®" class="headerlink" title="ÂêØÂä®"></a>ÂêØÂä®</h3><ul>
<li>eurekaÈõÜÁæ§ÊàñÂçïÊú∫</li>
<li>‰∏Ä‰∏™ÊúçÂä°Êèê‰æõÁ±ªcloud-provider-payment8001  <strong>Ê≥®ÊÑèÊ≥®ÂÜåÂçïÊú∫ËøòÊòØÈõÜÁæ§  Âê¶Âàô‰ºö404</strong></li>
<li>‰∏Ä‰∏™Ë∑ØÁî± cloud-zuul-gateway9527</li>
</ul>
<h3 id="ÊµãËØï-6"><a href="#ÊµãËØï-6" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><blockquote>
<p>‰∏çÁî®Ë∑ØÁî±</p>
<p>‚Äã		‚Äì&gt; <a target="_blank" rel="noopener" href="http://localhost:8001/payment/get/1">http://localhost:8001/payment/get/1</a></p>
<p>ÂêØÁî®Ë∑ØÁî±</p>
<p>‚Äã		‚Äì&gt; <strong>zuulÊò†Â∞ÑÈÖçÁΩÆ+Ê≥®ÂÜå‰∏≠ÂøÉÊ≥®ÂÜåÂêéÂØπÂ§ñÊö¥Èú≤ÁöÑÊúçÂä°ÂêçÁß∞+restË∞ÉÁî®Âú∞ÂùÄ</strong></p>
<p>‚Äã		‚Äì&gt; <a target="_blank" rel="noopener" href="http://myzuul.com:9527/cloud-payment-service/payment/get/1">http://myzuul.com:9527/cloud-payment-service/payment/get/1</a></p>
</blockquote>
<h2 id="Ë∑ØÁî±ËÆøÈóÆÊò†Â∞ÑËßÑÂàô"><a href="#Ë∑ØÁî±ËÆøÈóÆÊò†Â∞ÑËßÑÂàô" class="headerlink" title="Ë∑ØÁî±ËÆøÈóÆÊò†Â∞ÑËßÑÂàô"></a>Ë∑ØÁî±ËÆøÈóÆÊò†Â∞ÑËßÑÂàô</h2><h3 id="‰ª£ÁêÜÂêçÁß∞"><a href="#‰ª£ÁêÜÂêçÁß∞" class="headerlink" title="‰ª£ÁêÜÂêçÁß∞"></a>‰ª£ÁêÜÂêçÁß∞</h3><h4 id="ÊîπYML-15"><a href="#ÊîπYML-15" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><blockquote>
<p>before<br><a target="_blank" rel="noopener" href="http://myzuul.com:9527/cloud-payment-service/payment/get/1">http://myzuul.com:9527/cloud-payment-service/payment/get/1</a></p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">zuul</span><span class="token punctuation">:</span>
  <span class="token key atrule">routes</span><span class="token punctuation">:</span> <span class="token comment"># Ë∑ØÁî±Êò†Â∞ÑÈÖçÁΩÆ</span>
    <span class="token key atrule">mypayment.path</span><span class="token punctuation">:</span> /mypayment/<span class="token important">**</span>                 <span class="token comment">#IEÂú∞ÂùÄÊ†èËæìÂÖ•ÁöÑË∑ØÂæÑ</span>
    <span class="token key atrule">mypayment.serviceId</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service   <span class="token comment">#Ê≥®ÂÜåËøõeurekaÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>after<br><a target="_blank" rel="noopener" href="http://myzuul.com:9527/mypayment/payment/get/1">http://myzuul.com:9527/mypayment/payment/get/1</a></p>
</blockquote>
<h4 id="Ê≠§Êó∂ÈóÆÈ¢ò"><a href="#Ê≠§Êó∂ÈóÆÈ¢ò" class="headerlink" title="Ê≠§Êó∂ÈóÆÈ¢ò"></a>Ê≠§Êó∂ÈóÆÈ¢ò</h4><ul>
<li>ÂéüË∑ØÂæÑËÆøÈóÆOK <a target="_blank" rel="noopener" href="http://myzuul.com:9527/mypayment/payment/get/1">http://myzuul.com:9527/mypayment/payment/get/1</a></li>
<li>Ë∑ØÁî±ËÆøÈóÆOK   <a target="_blank" rel="noopener" href="http://myzuul.com:9527/cloud-payment-service/payment/get/1">http://myzuul.com:9527/cloud-payment-service/payment/get/1</a></li>
</ul>
<h3 id="Â¶ÇÊûú‰∏çÊÉ≥‰ΩøÁî®ÈªòËÆ§ÁöÑË∑ØÁî±ËßÑÂàôÔºåÂèØ‰ª•Ê∑ªÂä†‰ª•‰∏ãÈÖçÁΩÆÊù•ÂøΩÁï•ÈªòËÆ§Ë∑ØÁî±ÈÖçÁΩÆ"><a href="#Â¶ÇÊûú‰∏çÊÉ≥‰ΩøÁî®ÈªòËÆ§ÁöÑË∑ØÁî±ËßÑÂàôÔºåÂèØ‰ª•Ê∑ªÂä†‰ª•‰∏ãÈÖçÁΩÆÊù•ÂøΩÁï•ÈªòËÆ§Ë∑ØÁî±ÈÖçÁΩÆ" class="headerlink" title="Â¶ÇÊûú‰∏çÊÉ≥‰ΩøÁî®ÈªòËÆ§ÁöÑË∑ØÁî±ËßÑÂàôÔºåÂèØ‰ª•Ê∑ªÂä†‰ª•‰∏ãÈÖçÁΩÆÊù•ÂøΩÁï•ÈªòËÆ§Ë∑ØÁî±ÈÖçÁΩÆ"></a>Â¶ÇÊûú‰∏çÊÉ≥‰ΩøÁî®ÈªòËÆ§ÁöÑË∑ØÁî±ËßÑÂàôÔºåÂèØ‰ª•Ê∑ªÂä†‰ª•‰∏ãÈÖçÁΩÆÊù•ÂøΩÁï•ÈªòËÆ§Ë∑ØÁî±ÈÖçÁΩÆ</h3><h3 id="ÂéüÊúâÁúüÂÆûÊúçÂä°ÂêçÂøΩÁï•"><a href="#ÂéüÊúâÁúüÂÆûÊúçÂä°ÂêçÂøΩÁï•" class="headerlink" title="ÂéüÊúâÁúüÂÆûÊúçÂä°ÂêçÂøΩÁï•"></a>ÂéüÊúâÁúüÂÆûÊúçÂä°ÂêçÂøΩÁï•</h3><h4 id="ÊîπYML-16"><a href="#ÊîπYML-16" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">zuul</span><span class="token punctuation">:</span>
  <span class="token key atrule">ignored-services</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="‰∏ä‰∏ÄÊ≠•ÈÖçÁΩÆÂêéÔºåcloud-payment-serviceÂ∞±‰∏çË°å‰∫Ü"><a href="#‰∏ä‰∏ÄÊ≠•ÈÖçÁΩÆÂêéÔºåcloud-payment-serviceÂ∞±‰∏çË°å‰∫Ü" class="headerlink" title="‰∏ä‰∏ÄÊ≠•ÈÖçÁΩÆÂêéÔºåcloud-payment-serviceÂ∞±‰∏çË°å‰∫Ü"></a>‰∏ä‰∏ÄÊ≠•ÈÖçÁΩÆÂêéÔºåcloud-payment-serviceÂ∞±‰∏çË°å‰∫Ü</h4><p><a target="_blank" rel="noopener" href="http://myzuul.com:9527/cloud-payment-service/payment/get/1">http://myzuul.com:9527/cloud-payment-service/payment/get/1</a></p>
<h4 id="Âçï‰∏™ÂÖ∑‰ΩìÔºåÂ§ö‰∏™ÂèØ‰ª•Áî®‚Äù-‚Äù"><a href="#Âçï‰∏™ÂÖ∑‰ΩìÔºåÂ§ö‰∏™ÂèØ‰ª•Áî®‚Äù-‚Äù" class="headerlink" title="Âçï‰∏™ÂÖ∑‰ΩìÔºåÂ§ö‰∏™ÂèØ‰ª•Áî®‚Äù*‚Äù"></a>Âçï‰∏™ÂÖ∑‰ΩìÔºåÂ§ö‰∏™ÂèØ‰ª•Áî®‚Äù*‚Äù</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">zuul</span><span class="token punctuation">:</span> 
  <span class="token key atrule">ignored-services</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°ÂäüËÉΩ"><a href="#Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°ÂäüËÉΩ" class="headerlink" title="Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°ÂäüËÉΩ"></a>Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°ÂäüËÉΩ</h3><h4 id="ÊúçÂä°Êèê‰æõËÄÖSMSÁü≠‰ø°Ê®°Âùó"><a href="#ÊúçÂä°Êèê‰æõËÄÖSMSÁü≠‰ø°Ê®°Âùó" class="headerlink" title="ÊúçÂä°Êèê‰æõËÄÖSMSÁü≠‰ø°Ê®°Âùó"></a>ÊúçÂä°Êèê‰æõËÄÖSMSÁü≠‰ø°Ê®°Âùó</h4><h5 id="Âª∫Ê®°Âùócloud-provider-sms8008"><a href="#Âª∫Ê®°Âùócloud-provider-sms8008" class="headerlink" title="Âª∫Ê®°Âùócloud-provider-sms8008"></a>Âª∫Ê®°Âùócloud-provider-sms8008</h5><h5 id="ÊîπPOM-11"><a href="#ÊîπPOM-11" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h5><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-provider-sms8008<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ÊîπYML-17"><a href="#ÊîπYML-17" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8008</span>

<span class="token comment">###ÊúçÂä°ÂêçÁß∞(ÊúçÂä°Ê≥®ÂÜåÂà∞eurekaÂêçÁß∞)</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>sms

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span> <span class="token comment">#ÊúçÂä°Êèê‰æõËÄÖproviderÊ≥®ÂÜåËøõeurekaÊúçÂä°ÂàóË°®ÂÜÖ</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token comment">#      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka</span>
<span class="token comment">#      defaultZone: http://127.0.0.1:7001/eureka,http://127.0.0.1:7002/eureka</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka   <span class="token comment"># eurekaÂçïÊú∫</span>


<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="‰∏öÂä°Á±ª-6"><a href="#‰∏öÂä°Á±ª-6" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h5><h6 id="SMSController"><a href="#SMSController" class="headerlink" title="SMSController"></a>SMSController</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSController</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/sms"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sms</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"sms provider service: "</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span>serverPort<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="‰∏ªÂêØÂä®-4"><a href="#‰∏ªÂêØÂä®-4" class="headerlink" title="‰∏ªÂêØÂä®"></a>‰∏ªÂêØÂä®</h5><h6 id="SMSMain8008"><a href="#SMSMain8008" class="headerlink" title="SMSMain8008"></a>SMSMain8008</h6><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaClient</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SMSMain8008</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SMSMain8008</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ÂêØÂä®8008Âπ∂ÊàêÂäüÊ≥®ÂÜåËøõeurekaÊúçÂä°Âô®‰∏ä</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-85.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-85.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h4 id="‰øÆÊîπÊàë‰ª¨ÁöÑzuulÊúçÂä°9527"><a href="#‰øÆÊîπÊàë‰ª¨ÁöÑzuulÊúçÂä°9527" class="headerlink" title="‰øÆÊîπÊàë‰ª¨ÁöÑzuulÊúçÂä°9527"></a>‰øÆÊîπÊàë‰ª¨ÁöÑzuulÊúçÂä°9527</h4><h5 id="‰øÆÊîπYMLÔºå‰ΩìÁé∞Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°"><a href="#‰øÆÊîπYMLÔºå‰ΩìÁé∞Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°" class="headerlink" title="‰øÆÊîπYMLÔºå‰ΩìÁé∞Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°"></a>‰øÆÊîπYMLÔºå‰ΩìÁé∞Ë∑ØÁî±ËΩ¨ÂèëÂíåË¥üËΩΩÂùáË°°</h5><h5 id="YML"><a href="#YML" class="headerlink" title="YML"></a>YML</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">mysms.serviceId</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>sms
<span class="token key atrule">mysms.path</span><span class="token punctuation">:</span> /mysms/<span class="token important">**</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="Áî±‰∫éZuulËá™Âä®ÈõÜÊàê‰∫ÜRibbonÂíåHystrixÔºåÊâÄ‰ª•ZuulÂ§©ÁîüÂ∞±ÊúâË¥üËΩΩÂùáË°°ÂíåÊúçÂä°ÂÆπÈîôËÉΩÂäõ"><a href="#Áî±‰∫éZuulËá™Âä®ÈõÜÊàê‰∫ÜRibbonÂíåHystrixÔºåÊâÄ‰ª•ZuulÂ§©ÁîüÂ∞±ÊúâË¥üËΩΩÂùáË°°ÂíåÊúçÂä°ÂÆπÈîôËÉΩÂäõ" class="headerlink" title="Áî±‰∫éZuulËá™Âä®ÈõÜÊàê‰∫ÜRibbonÂíåHystrixÔºåÊâÄ‰ª•ZuulÂ§©ÁîüÂ∞±ÊúâË¥üËΩΩÂùáË°°ÂíåÊúçÂä°ÂÆπÈîôËÉΩÂäõ"></a>Áî±‰∫éZuulËá™Âä®ÈõÜÊàê‰∫ÜRibbonÂíåHystrixÔºåÊâÄ‰ª•ZuulÂ§©ÁîüÂ∞±ÊúâË¥üËΩΩÂùáË°°ÂíåÊúçÂä°ÂÆπÈîôËÉΩÂäõ</h5><h4 id="ÊµãËØï-7"><a href="#ÊµãËØï-7" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h4><ul>
<li>eurekaÂçïÊú∫</li>
<li>‰∏Ä‰∏™ÊúçÂä°Êèê‰æõÁ±ªcloud-provider-payment8001  <strong>Ê≥®ÊÑèÊ≥®ÂÜåÂçïÊú∫ËøòÊòØÈõÜÁæ§  Âê¶Âàô‰ºö404</strong></li>
<li>‰∏Ä‰∏™ÊúçÂä°Êèê‰æõÁ±ªcloud-provider-payment8002  <strong>Ê≥®ÊÑèÊ≥®ÂÜåÂçïÊú∫ËøòÊòØÈõÜÁæ§  Âê¶Âàô‰ºö404</strong></li>
<li>‰∏Ä‰∏™Ë∑ØÁî± cloud-zuul-gateway9527</li>
<li>cloud-provider-sms8008</li>
</ul>
<blockquote>
<p> <a target="_blank" rel="noopener" href="http://myzuul.com:9527/mypayment/payment/get/1">http://myzuul.com:9527/mypayment/payment/get/1</a>   Ë¥üËΩΩÂùáË°°  8001&#x2F;8002</p>
<p><a target="_blank" rel="noopener" href="http://myzuul.com:9527/mysms/sms">http://myzuul.com:9527/mysms/sms</a>  Ë∑ØÁî±ËΩ¨Âèë</p>
<p>ÊîØ‰ªòÊúçÂä°Êâæ8001&#x2F;8002</p>
<p>Áü≠‰ø°ÊúçÂä°Êâæ8008</p>
</blockquote>
<h3 id="ËÆæÁΩÆÁªü‰∏ÄÂÖ¨ÂÖ±ÂâçÁºÄ"><a href="#ËÆæÁΩÆÁªü‰∏ÄÂÖ¨ÂÖ±ÂâçÁºÄ" class="headerlink" title="ËÆæÁΩÆÁªü‰∏ÄÂÖ¨ÂÖ±ÂâçÁºÄ"></a>ËÆæÁΩÆÁªü‰∏ÄÂÖ¨ÂÖ±ÂâçÁºÄ</h3><p>YML</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">zuul</span><span class="token punctuation">:</span>
  <span class="token key atrule">prefix</span><span class="token punctuation">:</span> /ctrl  <span class="token comment">#ËÆæÁΩÆÂÖ¨ÂÖ±ÂâçÁºÄ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><a target="_blank" rel="noopener" href="http://myzuul.com:9527/ctrl/mypayment/payment/get/1">http://myzuul.com:9527/ctrl/mypayment/payment/get/1</a></p>
<p><a target="_blank" rel="noopener" href="http://myzuul.com:9527/ctrl/cloud-provider-sms/sms">http://myzuul.com:9527/ctrl/cloud-provider-sms/sms</a></p>
<p>ÊúÄÁªàÁöÑYML</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9527</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>zuul<span class="token punctuation">-</span>gateway

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment">#defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> gateway<span class="token punctuation">-</span>9527.com
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">zuul</span><span class="token punctuation">:</span>
  <span class="token key atrule">prefix</span><span class="token punctuation">:</span> /ctrl  <span class="token comment">#ËÆæÁΩÆÂÖ¨ÂÖ±ÂâçÁºÄ</span>
  <span class="token key atrule">ignored-services</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service
  <span class="token key atrule">routes</span><span class="token punctuation">:</span> <span class="token comment"># Ë∑ØÁî±Êò†Â∞ÑÈÖçÁΩÆ</span>
    <span class="token key atrule">mypayment.path</span><span class="token punctuation">:</span> /mypayment/<span class="token important">**</span>                 <span class="token comment">#IEÂú∞ÂùÄÊ†èËæìÂÖ•ÁöÑË∑ØÂæÑ</span>
    <span class="token key atrule">mypayment.serviceId</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service   <span class="token comment">#Ê≥®ÂÜåËøõeurekaÊúçÂä°Âô®ÁöÑÂú∞ÂùÄ</span>
    <span class="token key atrule">mysms.serviceId</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>sms
    <span class="token key atrule">mysms.path</span><span class="token punctuation">:</span> /mysms/<span class="token important">**</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Êü•ÁúãË∑ØÁî±‰ø°ÊÅØ"><a href="#Êü•ÁúãË∑ØÁî±‰ø°ÊÅØ" class="headerlink" title="Êü•ÁúãË∑ØÁî±‰ø°ÊÅØ"></a>Êü•ÁúãË∑ØÁî±‰ø°ÊÅØ</h2><h3 id="ÊîπPOM-12"><a href="#ÊîπPOM-12" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><blockquote>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="ÊîπYML-18"><a href="#ÊîπYML-18" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># ÂºÄÂêØÊü•ÁúãË∑ØÁî±ÁöÑÁ´ØÁÇπ</span>
<span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'routes'</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Êü•ÁúãË∑ØÁî±ËØ¶ÁªÜ‰ø°ÊÅØ"><a href="#Êü•ÁúãË∑ØÁî±ËØ¶ÁªÜ‰ø°ÊÅØ" class="headerlink" title="Êü•ÁúãË∑ØÁî±ËØ¶ÁªÜ‰ø°ÊÅØ"></a>Êü•ÁúãË∑ØÁî±ËØ¶ÁªÜ‰ø°ÊÅØ</h3><p><a target="_blank" rel="noopener" href="http://localhost:9527/actuator/routes">http://localhost:9527/actuator/routes</a>  json</p>
<h2 id="ËøáÊª§Âô®"><a href="#ËøáÊª§Âô®" class="headerlink" title="ËøáÊª§Âô®"></a>ËøáÊª§Âô®</h2><h3 id="ÂäüËÉΩ-1"><a href="#ÂäüËÉΩ-1" class="headerlink" title="ÂäüËÉΩ"></a>ÂäüËÉΩ</h3><blockquote>
<p>ËøáÊª§ÂäüËÉΩË¥üË¥£ÂØπËØ∑Ê±ÇËøáÁ®ãËøõË°åÈ¢ùÂ§ñÁöÑÂ§ÑÁêÜÔºåÊòØËØ∑Ê±ÇÊ†°È™åËøáÊª§ÂèäÊúçÂä°ËÅöÂêàÁöÑÂü∫Á°Ä„ÄÇ</p>
</blockquote>
<h3 id="ËøáÊª§Âô®ÁöÑÁîüÂëΩÂë®Êúü"><a href="#ËøáÊª§Âô®ÁöÑÁîüÂëΩÂë®Êúü" class="headerlink" title="ËøáÊª§Âô®ÁöÑÁîüÂëΩÂë®Êúü"></a>ËøáÊª§Âô®ÁöÑÁîüÂëΩÂë®Êúü</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-86.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-86.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="ZuulFilter"><a href="#ZuulFilter" class="headerlink" title="ZuulFilter"></a>ZuulFilter</h3><h4 id="ËøáÊª§Á±ªÂûã"><a href="#ËøáÊª§Á±ªÂûã" class="headerlink" title="ËøáÊª§Á±ªÂûã"></a>ËøáÊª§Á±ªÂûã</h4><blockquote>
<p>preÔºöÂú®ËØ∑Ê±ÇË¢´Ë∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°ÂâçÊâßË°åÔºåÊØîÂ¶ÇÊùÉÈôêÊ†°È™å„ÄÅÊâìÂç∞Êó•ÂøóÁ≠âÂäüËÉΩÔºõ</p>
<p>routingÔºöÂú®ËØ∑Ê±ÇË¢´Ë∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°Êó∂ÊâßË°å</p>
<p>postÔºöÂú®ËØ∑Ê±ÇË¢´Ë∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°ÂêéÊâßË°åÔºåÊØîÂ¶ÇÁªôÁõÆÊ†áÊúçÂä°ÁöÑÂìçÂ∫îÊ∑ªÂä†Â§¥‰ø°ÊÅØÔºåÊî∂ÈõÜÁªüËÆ°Êï∞ÊçÆÁ≠âÂäüËÉΩÔºõ</p>
<p>errorÔºöËØ∑Ê±ÇÂú®ÂÖ∂‰ªñÈò∂ÊÆµÂèëÁîüÈîôËØØÊó∂ÊâßË°å„ÄÇ</p>
</blockquote>
<h4 id="ËøáÊª§È°∫Â∫è"><a href="#ËøáÊª§È°∫Â∫è" class="headerlink" title="ËøáÊª§È°∫Â∫è"></a>ËøáÊª§È°∫Â∫è</h4><p>‚Äã		Êï∞Â≠óÂ∞èÁöÑÂÖàÊâßË°å</p>
<h4 id="ËøáÊª§ÊòØÂê¶ÂºÄÂêØ"><a href="#ËøáÊª§ÊòØÂê¶ÂºÄÂêØ" class="headerlink" title="ËøáÊª§ÊòØÂê¶ÂºÄÂêØ"></a>ËøáÊª§ÊòØÂê¶ÂºÄÂêØ</h4><p>‚Äã		shouldFilterÊñπÊ≥ï‰∏∫trueËµ∞</p>
<h4 id="ÊâßË°åÈÄªËæë"><a href="#ÊâßË°åÈÄªËæë" class="headerlink" title="ÊâßË°åÈÄªËæë"></a>ÊâßË°åÈÄªËæë</h4><p>‚Äã		Ëá™Â∑±ÁöÑ‰∏öÂä°ÈÄªËæë</p>
<h3 id="Ê°à‰æãCase"><a href="#Ê°à‰æãCase" class="headerlink" title="Ê°à‰æãCase"></a>Ê°à‰æãCase</h3><h4 id="ÂâçÁΩÆËøáÊª§Âô®ÔºåÁî®‰∫éÂú®ËØ∑Ê±ÇË∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°ÂâçÊâìÂç∞ËØ∑Ê±ÇÊó•Âøó"><a href="#ÂâçÁΩÆËøáÊª§Âô®ÔºåÁî®‰∫éÂú®ËØ∑Ê±ÇË∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°ÂâçÊâìÂç∞ËØ∑Ê±ÇÊó•Âøó" class="headerlink" title="ÂâçÁΩÆËøáÊª§Âô®ÔºåÁî®‰∫éÂú®ËØ∑Ê±ÇË∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°ÂâçÊâìÂç∞ËØ∑Ê±ÇÊó•Âøó"></a>ÂâçÁΩÆËøáÊª§Âô®ÔºåÁî®‰∫éÂú®ËØ∑Ê±ÇË∑ØÁî±Âà∞ÁõÆÊ†áÊúçÂä°ÂâçÊâìÂç∞ËØ∑Ê±ÇÊó•Âøó</h4><h4 id="‰∏öÂä°‰ª£Á†Å"><a href="#‰∏öÂä°‰ª£Á†Å" class="headerlink" title="‰∏öÂä°‰ª£Á†Å"></a>‰∏öÂä°‰ª£Á†Å</h4><h5 id="PreLogFilter"><a href="#PreLogFilter" class="headerlink" title="PreLogFilter"></a>PreLogFilter</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>filter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span></span><span class="token class-name">ZuulFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>zuul<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">RequestContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PreLogFilter</span> <span class="token keyword">extends</span> <span class="token class-name">ZuulFilter</span> <span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">filterType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"pre"</span><span class="token punctuation">;</span><span class="token comment">//ÂÆö‰πâfilterÁöÑÁ±ªÂûãÔºåÊúâpre„ÄÅroute„ÄÅpost„ÄÅerrorÂõõÁßç</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">filterOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//ÂÆö‰πâfilterÁöÑÈ°∫Â∫èÔºåÊï∞Â≠óË∂äÂ∞èË°®Á§∫È°∫Â∫èË∂äÈ´òÔºåË∂äÂÖàÊâßË°å</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">shouldFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment">//Ë°®Á§∫ÊòØÂê¶ÈúÄË¶ÅÊâßË°åËØ•filterÔºåtrueË°®Á§∫ÊâßË°åÔºåfalseË°®Á§∫‰∏çÊâßË°å</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token class-name">RequestContext</span> requestContext <span class="token operator">=</span> <span class="token class-name">RequestContext</span><span class="token punctuation">.</span><span class="token function">getCurrentContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">HttpServletRequest</span> request <span class="token operator">=</span> requestContext<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> host <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRemoteHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> method <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> uri <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"=====> Remote host:&#123;&#125;,method:&#123;&#125;,uri:&#123;&#125;"</span><span class="token punctuation">,</span> host<span class="token punctuation">,</span> method<span class="token punctuation">,</span> uri<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"********"</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//        requestContext.setSendZuulResponse(true); //ÂØπËØ∑Ê±ÇËøõË°åË∑ØÁî±</span>
<span class="token comment">//        requestContext.setSendZuulResponse(false); //‰∏çÂØπÂÖ∂ËøõË°åË∑ØÁî±</span>

        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//filterÈúÄË¶ÅÊâßË°åÁöÑÂÖ∑‰ΩìÊìç‰Ωú</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊµãËØï-8"><a href="#ÊµãËØï-8" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h4><p><a target="_blank" rel="noopener" href="http://myzuul.com:9527/ctrl/mysms/sms">http://myzuul.com:9527/ctrl/mysms/sms</a>  Âú®Ë∞ÉÁî®8008‰πãÂâç‰ºöÊâìÂç∞Êó•Âøó</p>
<h4 id="ÂºÄÂÖ≥ÔºåYMLÈÖçÁΩÆ"><a href="#ÂºÄÂÖ≥ÔºåYMLÈÖçÁΩÆ" class="headerlink" title="ÂºÄÂÖ≥ÔºåYMLÈÖçÁΩÆ"></a>ÂºÄÂÖ≥ÔºåYMLÈÖçÁΩÆ</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"> 
<span class="token key atrule">zuul</span><span class="token punctuation">:</span>
  <span class="token key atrule">PreLogFilter</span><span class="token punctuation">:</span>
    <span class="token key atrule">pre</span><span class="token punctuation">:</span>
      <span class="token key atrule">disable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h1 id="GatewayÊñ∞‰∏Ä‰ª£ÁΩëÂÖ≥"><a href="#GatewayÊñ∞‰∏Ä‰ª£ÁΩëÂÖ≥" class="headerlink" title="GatewayÊñ∞‰∏Ä‰ª£ÁΩëÂÖ≥"></a>GatewayÊñ∞‰∏Ä‰ª£ÁΩëÂÖ≥</h1><h2 id="Ê¶ÇËø∞ÁÆÄ‰ªã-1"><a href="#Ê¶ÇËø∞ÁÆÄ‰ªã-1" class="headerlink" title="Ê¶ÇËø∞ÁÆÄ‰ªã"></a>Ê¶ÇËø∞ÁÆÄ‰ªã</h2><h3 id="ÂÆòÁΩë-1"><a href="#ÂÆòÁΩë-1" class="headerlink" title="ÂÆòÁΩë"></a>ÂÆòÁΩë</h3><blockquote>
<p>‰∏ä‰∏Ä‰ª£zuul 1.X  <a target="_blank" rel="noopener" href="https://github.com/Netflix/zuul/wiki">https://github.com/Netflix/zuul/wiki</a></p>
<p>ÂΩìÂâçgateway <a target="_blank" rel="noopener" href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/">https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/</a></p>
</blockquote>
<h3 id="ÊòØ‰ªÄ‰πà-4"><a href="#ÊòØ‰ªÄ‰πà-4" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><blockquote>
<p>CloudÂÖ®ÂÆ∂Ê°∂‰∏≠Êúâ‰∏™ÂæàÈáçË¶ÅÁöÑÁªÑ‰ª∂Â∞±ÊòØÁΩëÂÖ≥ÔºåÂú®1.xÁâàÊú¨‰∏≠ÈÉΩÊòØÈááÁî®ÁöÑZuulÁΩëÂÖ≥Ôºõ<br>‰ΩÜÂú®2.xÁâàÊú¨‰∏≠ÔºåzuulÁöÑÂçáÁ∫ß‰∏ÄÁõ¥Ë∑≥Á•®ÔºåSpringCloudÊúÄÂêéËá™Â∑±Á†îÂèë‰∫Ü‰∏Ä‰∏™ÁΩëÂÖ≥Êõø‰ª£ZuulÔºå<br>ÈÇ£Â∞±ÊòØ<strong>SpringCloud Gateway‰∏ÄÂè•ËØùÔºögatewayÊòØÂéüzuul1.xÁâàÁöÑÊõø‰ª£</strong></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-87.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-87.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>Ê¶ÇËø∞</strong></p>
<p>GatewayÊòØÂú®SpringÁîüÊÄÅÁ≥ªÁªü‰πã‰∏äÊûÑÂª∫ÁöÑAPIÁΩëÂÖ≥ÊúçÂä°ÔºåÂü∫‰∫éSpring 5ÔºåSpring Boot 2Âíå Project ReactorÁ≠âÊäÄÊúØ„ÄÇ<br>GatewayÊó®Âú®Êèê‰æõ‰∏ÄÁßçÁÆÄÂçïËÄåÊúâÊïàÁöÑÊñπÂºèÊù•ÂØπAPIËøõË°åË∑ØÁî±Ôºå‰ª•ÂèäÊèê‰æõ‰∏Ä‰∫õÂº∫Â§ßÁöÑËøáÊª§Âô®ÂäüËÉΩÔºå ‰æãÂ¶ÇÔºöÁÜîÊñ≠„ÄÅÈôêÊµÅ„ÄÅÈáçËØïÁ≠â</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-88.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-88.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>SpringCloud Gateway ÊòØ Spring Cloud ÁöÑ‰∏Ä‰∏™ÂÖ®Êñ∞È°πÁõÆÔºåÂü∫‰∫é Spring 5.0+Spring Boot 2.0 Âíå Project Reactor Á≠âÊäÄÊúØÂºÄÂèëÁöÑÁΩëÂÖ≥ÔºåÂÆÉÊó®Âú®‰∏∫ÂæÆÊúçÂä°Êû∂ÊûÑÊèê‰æõ‰∏ÄÁßçÁÆÄÂçïÊúâÊïàÁöÑÁªü‰∏ÄÁöÑ API Ë∑ØÁî±ÁÆ°ÁêÜÊñπÂºè„ÄÇ</p>
<p>SpringCloud Gateway ‰Ωú‰∏∫ Spring Cloud ÁîüÊÄÅÁ≥ªÁªü‰∏≠ÁöÑÁΩëÂÖ≥ÔºåÁõÆÊ†áÊòØÊõø‰ª£ ZuulÔºåÂú®Spring Cloud 2.0‰ª•‰∏äÁâàÊú¨‰∏≠ÔºåÊ≤°ÊúâÂØπÊñ∞ÁâàÊú¨ÁöÑZuul 2.0‰ª•‰∏äÊúÄÊñ∞È´òÊÄßËÉΩÁâàÊú¨ËøõË°åÈõÜÊàêÔºå‰ªçÁÑ∂ËøòÊòØ‰ΩøÁî®ÁöÑZuul 1.xÈùûReactorÊ®°ÂºèÁöÑËÄÅÁâàÊú¨„ÄÇËÄå‰∏∫‰∫ÜÊèêÂçáÁΩëÂÖ≥ÁöÑÊÄßËÉΩÔºåSpringCloud GatewayÊòØÂü∫‰∫éWebFluxÊ°ÜÊû∂ÂÆûÁé∞ÁöÑÔºåËÄåWebFluxÊ°ÜÊû∂Â∫ïÂ±ÇÂàô‰ΩøÁî®‰∫ÜÈ´òÊÄßËÉΩÁöÑReactorÊ®°ÂºèÈÄö‰ø°Ê°ÜÊû∂Netty„ÄÇ</p>
<p>Spring Cloud GatewayÁöÑÁõÆÊ†áÊèê‰æõÁªü‰∏ÄÁöÑË∑ØÁî±ÊñπÂºè‰∏îÂü∫‰∫é Filter ÈìæÁöÑÊñπÂºèÊèê‰æõ‰∫ÜÁΩëÂÖ≥Âü∫Êú¨ÁöÑÂäüËÉΩÔºå‰æãÂ¶ÇÔºöÂÆâÂÖ®ÔºåÁõëÊéß&#x2F;ÊåáÊ†áÔºåÂíåÈôêÊµÅ„ÄÇ</p>
<p>‰∏ÄÂè•ËØùÔºö</p>
<p> <strong>SpringCloud Gateway ‰ΩøÁî®ÁöÑWebflux‰∏≠ÁöÑreactor-nettyÂìçÂ∫îÂºèÁºñÁ®ãÁªÑ‰ª∂ÔºåÂ∫ïÂ±Ç‰ΩøÁî®‰∫ÜNettyÈÄöËÆØÊ°ÜÊû∂„ÄÇ</strong></p>
<p> Ê∫êÁ†ÅÊû∂ÊûÑ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-89.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-89.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h3 id="ËÉΩÂπ≤Âòõ-5"><a href="#ËÉΩÂπ≤Âòõ-5" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><blockquote>
<ul>
<li>ÂèçÂêë‰ª£ÁêÜ</li>
<li>Èâ¥ÊùÉ</li>
<li>ÊµÅÈáèÊéßÂà∂</li>
<li>ÁÜîÊñ≠</li>
<li>Êó•ÂøóÁõëÊéß</li>
</ul>
</blockquote>
<p>ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÁΩëÂÖ≥Âú®Âì™Èáå</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-90.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-90.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="ÊúâZuul‰∫ÜÊÄé‰πàÂèàÂá∫Êù•‰∫Ügateway"><a href="#ÊúâZuul‰∫ÜÊÄé‰πàÂèàÂá∫Êù•‰∫Ügateway" class="headerlink" title="ÊúâZuul‰∫ÜÊÄé‰πàÂèàÂá∫Êù•‰∫Ügateway"></a>ÊúâZuul‰∫ÜÊÄé‰πàÂèàÂá∫Êù•‰∫Ügateway</h3><h4 id="Êàë‰ª¨‰∏∫‰ªÄ‰πàÈÄâÊã©GatewayÔºü"><a href="#Êàë‰ª¨‰∏∫‰ªÄ‰πàÈÄâÊã©GatewayÔºü" class="headerlink" title="Êàë‰ª¨‰∏∫‰ªÄ‰πàÈÄâÊã©GatewayÔºü"></a>Êàë‰ª¨‰∏∫‰ªÄ‰πàÈÄâÊã©GatewayÔºü</h4><blockquote>
<p>neflix‰∏çÂ§™Èù†Ë∞±Ôºåzuul2.0‰∏ÄÁõ¥Ë∑≥Á•®ÔºåËøüËøü‰∏çÂèëÂ∏É</p>
<blockquote>
<p> ‰∏ÄÊñπÈù¢Âõ†‰∏∫Zuul1.0Â∑≤ÁªèËøõÂÖ•‰∫ÜÁª¥Êä§Èò∂ÊÆµÔºåËÄå‰∏îGatewayÊòØSpringCloudÂõ¢ÈòüÁ†îÂèëÁöÑÔºåÊòØ‰∫≤ÂÑøÂ≠ê‰∫ßÂìÅÔºåÂÄºÂæó‰ø°Ëµñ„ÄÇ<br>ËÄå‰∏îÂæàÂ§öÂäüËÉΩZuulÈÉΩÊ≤°ÊúâÁî®Ëµ∑Êù•‰πüÈùûÂ∏∏ÁöÑÁÆÄÂçï‰æøÊç∑„ÄÇ</p>
<p>GatewayÊòØÂü∫‰∫é<strong>ÂºÇÊ≠•ÈùûÈòªÂ°ûÊ®°Âûã</strong>‰∏äËøõË°åÂºÄÂèëÁöÑÔºåÊÄßËÉΩÊñπÈù¢‰∏çÈúÄË¶ÅÊãÖÂøÉ„ÄÇËôΩÁÑ∂NetflixÊó©Â∞±ÂèëÂ∏É‰∫ÜÊúÄÊñ∞ÁöÑ Zuul 2.xÔºå<br>‰ΩÜ Spring Cloud Ë≤å‰ººÊ≤°ÊúâÊï¥ÂêàËÆ°Âàí„ÄÇËÄå‰∏îNetflixÁõ∏ÂÖ≥ÁªÑ‰ª∂ÈÉΩÂÆ£Â∏ÉËøõÂÖ•Áª¥Êä§ÊúüÔºõ‰∏çÁü•ÂâçÊôØÂ¶Ç‰ΩïÔºü</p>
<p>Â§öÊñπÈù¢ÁªºÂêàËÄÉËôëGatewayÊòØÂæàÁêÜÊÉ≥ÁöÑÁΩëÂÖ≥ÈÄâÊã©„ÄÇ</p>
</blockquote>
<p>SpringCloud GatewayÂÖ∑ÊúâÂ¶Ç‰∏ãÁâπÊÄß</p>
<blockquote>
<p>Spring Cloud Gateway ÂÖ∑ÊúâÂ¶Ç‰∏ãÁâπÊÄßÔºö</p>
<p><strong>Âü∫‰∫éSpring Framework 5, Project Reactor Âíå Spring Boot 2.0 ËøõË°åÊûÑÂª∫Ôºõ</strong><br>Âä®ÊÄÅË∑ØÁî±ÔºöËÉΩÂ§üÂåπÈÖç‰ªª‰ΩïËØ∑Ê±ÇÂ±ûÊÄßÔºõ<br>ÂèØ‰ª•ÂØπË∑ØÁî±ÊåáÂÆö PredicateÔºàÊñ≠Ë®ÄÔºâÂíå FilterÔºàËøáÊª§Âô®ÔºâÔºõ<br>ÈõÜÊàêHystrixÁöÑÊñ≠Ë∑ØÂô®ÂäüËÉΩÔºõ<br>ÈõÜÊàê Spring Cloud ÊúçÂä°ÂèëÁé∞ÂäüËÉΩÔºõ<br>Êòì‰∫éÁºñÂÜôÁöÑ PredicateÔºàÊñ≠Ë®ÄÔºâÂíå FilterÔºàËøáÊª§Âô®ÔºâÔºõ<br>ËØ∑Ê±ÇÈôêÊµÅÂäüËÉΩÔºõ<br>ÊîØÊåÅË∑ØÂæÑÈáçÂÜô„ÄÇ</p>
</blockquote>
<p>SpringCloud Gateway ‰∏é ZuulÁöÑÂå∫Âà´</p>
<blockquote>
<p>Spring Cloud Gateway ‰∏é ZuulÁöÑÂå∫Âà´<br>Âú®SpringCloud Finchley Ê≠£ÂºèÁâà‰πãÂâçÔºåSpring Cloud Êé®ËçêÁöÑÁΩëÂÖ≥ÊòØ Netflix Êèê‰æõÁöÑZuulÔºö</p>
<p>1„ÄÅZuul 1.xÔºåÊòØ‰∏Ä‰∏™Âü∫‰∫éÈòªÂ°û I&#x2F; O ÁöÑ API Gateway</p>
<p>2„ÄÅZuul 1.x Âü∫‰∫é<strong>Servlet 2. 5</strong>‰ΩøÁî®ÈòªÂ°ûÊû∂ÊûÑÂÆÉ‰∏çÊîØÊåÅ‰ªª‰ΩïÈïøËøûÊé•(Â¶Ç WebSocket) Zuul ÁöÑËÆæËÆ°Ê®°ÂºèÂíåNginxËæÉÂÉèÔºåÊØèÊ¨° I&#x2F; O Êìç‰ΩúÈÉΩÊòØ‰ªéÂ∑•‰ΩúÁ∫øÁ®ã‰∏≠ÈÄâÊã©‰∏Ä‰∏™ÊâßË°åÔºåËØ∑Ê±ÇÁ∫øÁ®ãË¢´ÈòªÂ°ûÂà∞Â∑•‰ΩúÁ∫øÁ®ãÂÆåÊàêÔºå‰ΩÜÊòØÂ∑ÆÂà´ÊòØNginx Áî®C++ ÂÆûÁé∞ÔºåZuul Áî® Java ÂÆûÁé∞ÔºåËÄå JVM Êú¨Ë∫´‰ºöÊúâÁ¨¨‰∏ÄÊ¨°Âä†ËΩΩËæÉÊÖ¢ÁöÑÊÉÖÂÜµÔºå‰ΩøÂæóZuul ÁöÑÊÄßËÉΩÁõ∏ÂØπËæÉÂ∑Æ„ÄÇ</p>
<p>3„ÄÅZuul 2.xÁêÜÂøµÊõ¥ÂÖàËøõÔºåÊÉ≥Âü∫‰∫éNettyÈùûÈòªÂ°ûÂíåÊîØÊåÅÈïøËøûÊé•Ôºå‰ΩÜSpringCloudÁõÆÂâçËøòÊ≤°ÊúâÊï¥Âêà„ÄÇ Zuul 2.xÁöÑÊÄßËÉΩËæÉ Zuul 1.x ÊúâËæÉÂ§ßÊèêÂçá„ÄÇÂú®ÊÄßËÉΩÊñπÈù¢ÔºåÊ†πÊçÆÂÆòÊñπÊèê‰æõÁöÑÂü∫ÂáÜÊµãËØïÔºå Spring Cloud Gateway ÁöÑ RPSÔºàÊØèÁßíËØ∑Ê±ÇÊï∞ÔºâÊòØZuul ÁöÑ 1. 6 ÂÄç„ÄÇ</p>
<p>4„ÄÅSpring Cloud Gateway Âª∫Á´ã Âú® Spring Framework 5„ÄÅ Project Reactor Âíå Spring Boot 2 ‰πã‰∏äÔºå ‰ΩøÁî®ÈùûÈòªÂ°û API„ÄÇ</p>
<p>5„ÄÅSpring Cloud Gateway Ëøò ÊîØÊåÅ WebSocketÔºå Âπ∂‰∏î‰∏éSpringÁ¥ßÂØÜÈõÜÊàêÊã•ÊúâÊõ¥Â•ΩÁöÑÂºÄÂèë‰ΩìÈ™å</p>
</blockquote>
</blockquote>
<h4 id="Zuul1-xÊ®°Âûã"><a href="#Zuul1-xÊ®°Âûã" class="headerlink" title="Zuul1.xÊ®°Âûã"></a>Zuul1.xÊ®°Âûã</h4><blockquote>
<p>Springcloud‰∏≠ÊâÄÈõÜÊàêÁöÑZuulÁâàÊú¨ÔºåÈááÁî®ÁöÑÊòØTomcatÂÆπÂô®Ôºå‰ΩøÁî®ÁöÑÊòØ‰º†ÁªüÁöÑServlet IOÂ§ÑÁêÜÊ®°Âûã„ÄÇ</p>
<p>Â≠¶ËøáwebÈÉΩÁü•ÈÅì ‚Äì <strong>ServletÁöÑÁîüÂëΩÂë®Êúü?</strong>  servletÁî±servlet containerËøõË°åÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ„ÄÇ<br>containerÂêØÂä®Êó∂ÊûÑÈÄ†servletÂØπË±°Âπ∂Ë∞ÉÁî®servlet init()ËøõË°åÂàùÂßãÂåñÔºõ<br>containerËøêË°åÊó∂Êé•ÂèóËØ∑Ê±ÇÔºåÂπ∂‰∏∫ÊØè‰∏™ËØ∑Ê±ÇÂàÜÈÖç‰∏Ä‰∏™Á∫øÁ®ãÔºà‰∏ÄËà¨‰ªéÁ∫øÁ®ãÊ±†‰∏≠Ëé∑ÂèñÁ©∫Èó≤Á∫øÁ®ãÔºâÁÑ∂ÂêéË∞ÉÁî®service()„ÄÇ<br>containerÂÖ≥Èó≠Êó∂Ë∞ÉÁî®servlet destory()ÈîÄÊØÅservletÔºõ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-91.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-91.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>‰∏äËø∞Ê®°ÂºèÁöÑÁº∫ÁÇπÔºö</strong><br>servletÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁΩëÁªúIOÊ®°ÂûãÔºåÂΩìËØ∑Ê±ÇËøõÂÖ•servlet containerÊó∂Ôºåservlet containerÂ∞±‰ºö‰∏∫ÂÖ∂ÁªëÂÆö‰∏Ä‰∏™Á∫øÁ®ãÔºåÂú®<strong>Âπ∂Âèë‰∏çÈ´òÁöÑÂú∫ÊôØ</strong>‰∏ãËøôÁßçÊ®°ÂûãÊòØÈÄÇÁî®ÁöÑ„ÄÇ‰ΩÜÊòØ‰∏ÄÊó¶È´òÂπ∂Âèë(ÊØîÂ¶ÇÊäΩÈ£éÁî®jemeterÂéã)ÔºåÁ∫øÁ®ãÊï∞ÈáèÂ∞±‰ºö‰∏äÊ∂®ÔºåËÄåÁ∫øÁ®ãËµÑÊ∫ê‰ª£‰ª∑ÊòØÊòÇË¥µÁöÑÔºà‰∏äÁ∫øÊñáÂàáÊç¢ÔºåÂÜÖÂ≠òÊ∂àËÄóÂ§ßÔºâ‰∏•ÈáçÂΩ±ÂìçËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÊó∂Èó¥„ÄÇÂú®‰∏Ä‰∫õÁÆÄÂçï‰∏öÂä°Âú∫ÊôØ‰∏ãÔºå‰∏çÂ∏åÊúõ‰∏∫ÊØè‰∏™requestÂàÜÈÖç‰∏Ä‰∏™Á∫øÁ®ãÔºåÂè™ÈúÄË¶Å1‰∏™ÊàñÂá†‰∏™Á∫øÁ®ãÂ∞±ËÉΩÂ∫îÂØπÊûÅÂ§ßÂπ∂ÂèëÁöÑËØ∑Ê±ÇÔºåËøôÁßç‰∏öÂä°Âú∫ÊôØ‰∏ãservletÊ®°ÂûãÊ≤°Êúâ‰ºòÂäø</p>
<p>ÊâÄ‰ª•Zuul 1.XÊòØ<strong>Âü∫‰∫éservlet‰πã‰∏äÁöÑ‰∏Ä‰∏™ÈòªÂ°ûÂºèÂ§ÑÁêÜÊ®°Âûã</strong>ÔºåÂç≥springÂÆûÁé∞‰∫ÜÂ§ÑÁêÜÊâÄÊúârequestËØ∑Ê±ÇÁöÑ‰∏Ä‰∏™servletÔºàDispatcherServletÔºâÂπ∂Áî±ËØ•servletÈòªÂ°ûÂºèÂ§ÑÁêÜÂ§ÑÁêÜ„ÄÇÊâÄ‰ª•Springcloud ZuulÊó†Ê≥ïÊëÜËÑ±servletÊ®°ÂûãÁöÑÂºäÁ´Ø</p>
</blockquote>
<h4 id="GateWayÊ®°Âûã"><a href="#GateWayÊ®°Âûã" class="headerlink" title="GateWayÊ®°Âûã"></a>GateWayÊ®°Âûã</h4><blockquote>
<p>WebFluxÊòØ‰ªÄ‰πà</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-92.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-92.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-93.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-93.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><a target="_blank" rel="noopener" href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-new-framework">https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-new-framework</a></p>
<p>ËØ¥Êòé</p>
<blockquote>
<p>‰º†ÁªüÁöÑWebÊ°ÜÊû∂ÔºåÊØîÂ¶ÇËØ¥Ôºöstruts2ÔºåspringmvcÁ≠âÈÉΩÊòØÂü∫‰∫éServlet API‰∏éServletÂÆπÂô®Âü∫Á°Ä‰πã‰∏äËøêË°åÁöÑ„ÄÇ<br>‰ΩÜÊòØ<br><strong>Âú®Servlet3.1‰πãÂêéÊúâ‰∫ÜÂºÇÊ≠•ÈùûÈòªÂ°ûÁöÑÊîØÊåÅ</strong>„ÄÇËÄåWebFluxÊòØ‰∏Ä‰∏™ÂÖ∏ÂûãÈùûÈòªÂ°ûÂºÇÊ≠•ÁöÑÊ°ÜÊû∂ÔºåÂÆÉÁöÑÊ†∏ÂøÉÊòØÂü∫‰∫éReactorÁöÑÁõ∏ÂÖ≥APIÂÆûÁé∞ÁöÑ„ÄÇÁõ∏ÂØπ‰∫é‰º†ÁªüÁöÑwebÊ°ÜÊû∂Êù•ËØ¥ÔºåÂÆÉÂèØ‰ª•ËøêË°åÂú®ËØ∏Â¶ÇNettyÔºåUndertowÂèäÊîØÊåÅServlet3.1ÁöÑÂÆπÂô®‰∏ä„ÄÇÈùûÈòªÂ°ûÂºè+ÂáΩÊï∞ÂºèÁºñÁ®ãÔºàSpring5ÂøÖÈ°ªËÆ©‰Ω†‰ΩøÁî®java8Ôºâ</p>
<p>Spring WebFlux ÊòØ Spring 5.0 ÂºïÂÖ•ÁöÑÊñ∞ÁöÑÂìçÂ∫îÂºèÊ°ÜÊû∂ÔºåÂå∫Âà´‰∫é Spring MVCÔºåÂÆÉ‰∏çÈúÄË¶Å‰æùËµñServlet APIÔºåÂÆÉÊòØÂÆåÂÖ®ÂºÇÊ≠•ÈùûÈòªÂ°ûÁöÑÔºåÂπ∂‰∏îÂü∫‰∫é Reactor Êù•ÂÆûÁé∞ÂìçÂ∫îÂºèÊµÅËßÑËåÉ„ÄÇ</p>
</blockquote>
</blockquote>
<h2 id="‰∏âÂ§ßÊ†∏ÂøÉÊ¶ÇÂøµ"><a href="#‰∏âÂ§ßÊ†∏ÂøÉÊ¶ÇÂøµ" class="headerlink" title="‰∏âÂ§ßÊ†∏ÂøÉÊ¶ÇÂøµ"></a>‰∏âÂ§ßÊ†∏ÂøÉÊ¶ÇÂøµ</h2><h3 id="Route-Ë∑ØÁî±"><a href="#Route-Ë∑ØÁî±" class="headerlink" title="Route(Ë∑ØÁî±)"></a>Route(Ë∑ØÁî±)</h3><blockquote>
<p>Ë∑ØÁî±ÊòØÊûÑÂª∫ÁΩëÂÖ≥ÁöÑÂü∫Êú¨Ê®°ÂùóÔºåÂÆÉÁî±IDÔºåÁõÆÊ†áURIÔºå‰∏ÄÁ≥ªÂàóÁöÑÊñ≠Ë®ÄÂíåËøáÊª§Âô®ÁªÑÊàêÔºåÂ¶ÇÊûúÊñ≠Ë®Ä‰∏∫trueÂàôÂåπÈÖçËØ•Ë∑ØÁî±</p>
</blockquote>
<h3 id="Predicate-Êñ≠Ë®Ä"><a href="#Predicate-Êñ≠Ë®Ä" class="headerlink" title="Predicate(Êñ≠Ë®Ä)"></a>Predicate(Êñ≠Ë®Ä)</h3><blockquote>
<p>ÂèÇËÄÉÁöÑÊòØJava8ÁöÑjava.util.function.Predicate<br>ÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•ÂåπÈÖçHTTPËØ∑Ê±Ç‰∏≠ÁöÑÊâÄÊúâÂÜÖÂÆπ(‰æãÂ¶ÇËØ∑Ê±ÇÂ§¥ÊàñËØ∑Ê±ÇÂèÇÊï∞)Ôºå<strong>Â¶ÇÊûúËØ∑Ê±Ç‰∏éÊñ≠Ë®ÄÁõ∏ÂåπÈÖçÂàôËøõË°åË∑ØÁî±</strong></p>
</blockquote>
<h3 id="Filter-ËøáÊª§"><a href="#Filter-ËøáÊª§" class="headerlink" title="Filter(ËøáÊª§)"></a>Filter(ËøáÊª§)</h3><blockquote>
<p>ÊåáÁöÑÊòØSpringÊ°ÜÊû∂‰∏≠GatewayFilterÁöÑÂÆû‰æãÔºå‰ΩøÁî®ËøáÊª§Âô®ÔºåÂèØ‰ª•Âú®ËØ∑Ê±ÇË¢´Ë∑ØÁî±ÂâçÊàñËÄÖ‰πãÂêéÂØπËØ∑Ê±ÇËøõË°å‰øÆÊîπ„ÄÇ</p>
</blockquote>
<h3 id="ÊÄª‰Ωì"><a href="#ÊÄª‰Ωì" class="headerlink" title="ÊÄª‰Ωì"></a>ÊÄª‰Ωì</h3><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-94.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-94.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>webËØ∑Ê±ÇÔºåÈÄöËøá‰∏Ä‰∫õÂåπÈÖçÊù°‰ª∂ÔºåÂÆö‰ΩçÂà∞ÁúüÊ≠£ÁöÑÊúçÂä°ËäÇÁÇπ„ÄÇÂπ∂Âú®Ëøô‰∏™ËΩ¨ÂèëËøáÁ®ãÁöÑÂâçÂêéÔºåËøõË°å‰∏Ä‰∫õÁ≤æÁªÜÂåñÊéßÂà∂„ÄÇ</strong><br><strong>predicateÂ∞±ÊòØÊàë‰ª¨ÁöÑÂåπÈÖçÊù°‰ª∂Ôºõ</strong><br><strong>ËÄåfilterÔºåÂ∞±ÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™Êó†ÊâÄ‰∏çËÉΩÁöÑÊã¶Êà™Âô®„ÄÇÊúâ‰∫ÜËøô‰∏§‰∏™ÂÖÉÁ¥†ÔºåÂÜçÂä†‰∏äÁõÆÊ†áuriÔºåÂ∞±ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑË∑ØÁî±‰∫Ü</strong></p>
</blockquote>
<h2 id="GatewayÂ∑•‰ΩúÊµÅÁ®ã"><a href="#GatewayÂ∑•‰ΩúÊµÅÁ®ã" class="headerlink" title="GatewayÂ∑•‰ΩúÊµÅÁ®ã"></a>GatewayÂ∑•‰ΩúÊµÅÁ®ã</h2><h3 id="ÂÆòÁΩëÊÄªÁªì"><a href="#ÂÆòÁΩëÊÄªÁªì" class="headerlink" title="ÂÆòÁΩëÊÄªÁªì"></a>ÂÆòÁΩëÊÄªÁªì</h3><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-95.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-95.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-96.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-96.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>ÂÆ¢Êà∑Á´ØÂêë Spring Cloud Gateway ÂèëÂá∫ËØ∑Ê±Ç„ÄÇÁÑ∂ÂêéÂú® Gateway Handler Mapping ‰∏≠ÊâæÂà∞‰∏éËØ∑Ê±ÇÁõ∏ÂåπÈÖçÁöÑË∑ØÁî±ÔºåÂ∞ÜÂÖ∂ÂèëÈÄÅÂà∞ Gateway Web Handler„ÄÇ</strong></p>
<p><strong>Handler ÂÜçÈÄöËøáÊåáÂÆöÁöÑËøáÊª§Âô®ÈìæÊù•Â∞ÜËØ∑Ê±ÇÂèëÈÄÅÂà∞Êàë‰ª¨ÂÆûÈôÖÁöÑÊúçÂä°ÊâßË°å‰∏öÂä°ÈÄªËæëÔºåÁÑ∂ÂêéËøîÂõû„ÄÇ</strong><br><strong>ËøáÊª§Âô®‰πãÈó¥Áî®ËôöÁ∫øÂàÜÂºÄÊòØÂõ†‰∏∫ËøáÊª§Âô®ÂèØËÉΩ‰ºöÂú®ÂèëÈÄÅ‰ª£ÁêÜËØ∑Ê±Ç‰πãÂâçÔºà‚Äúpre‚ÄùÔºâÊàñ‰πãÂêéÔºà‚Äúpost‚ÄùÔºâÊâßË°å‰∏öÂä°ÈÄªËæë„ÄÇ</strong></p>
<p><strong>FilterÂú®‚Äúpre‚ÄùÁ±ªÂûãÁöÑËøáÊª§Âô®ÂèØ‰ª•ÂÅöÂèÇÊï∞Ê†°È™å„ÄÅÊùÉÈôêÊ†°È™å„ÄÅÊµÅÈáèÁõëÊéß„ÄÅÊó•ÂøóËæìÂá∫„ÄÅÂçèËÆÆËΩ¨Êç¢Á≠âÔºå</strong><br><strong>Âú®‚Äúpost‚ÄùÁ±ªÂûãÁöÑËøáÊª§Âô®‰∏≠ÂèØ‰ª•ÂÅöÂìçÂ∫îÂÜÖÂÆπ„ÄÅÂìçÂ∫îÂ§¥ÁöÑ‰øÆÊîπÔºåÊó•ÂøóÁöÑËæìÂá∫ÔºåÊµÅÈáèÁõëÊéßÁ≠âÊúâÁùÄÈùûÂ∏∏ÈáçË¶ÅÁöÑ‰ΩúÁî®„ÄÇ</strong></p>
</blockquote>
<h3 id="Ê†∏ÂøÉÈÄªËæë"><a href="#Ê†∏ÂøÉÈÄªËæë" class="headerlink" title="Ê†∏ÂøÉÈÄªËæë"></a>Ê†∏ÂøÉÈÄªËæë</h3><blockquote>
<p><strong>Ë∑ØÁî±ËΩ¨Âèë+ÊâßË°åËøáÊª§Âô®Èìæ</strong></p>
</blockquote>
<h2 id="ÂÖ•Èó®ÈÖçÁΩÆ"><a href="#ÂÖ•Èó®ÈÖçÁΩÆ" class="headerlink" title="ÂÖ•Èó®ÈÖçÁΩÆ"></a>ÂÖ•Èó®ÈÖçÁΩÆ</h2><h3 id="Êñ∞Âª∫Module-cloud-gateway-gateway9527"><a href="#Êñ∞Âª∫Module-cloud-gateway-gateway9527" class="headerlink" title="Êñ∞Âª∫Module - cloud-gateway-gateway9527"></a>Êñ∞Âª∫Module - cloud-gateway-gateway9527</h3><h3 id="ÊîπPOM-13"><a href="#ÊîπPOM-13" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-gateway-gateway9527<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--gateway--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-gateway<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--eureka-client--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!-- ÂºïÂÖ•Ëá™Â∑±ÂÆö‰πâÁöÑapiÈÄöÁî®ÂåÖÔºåÂèØ‰ª•‰ΩøÁî®PaymentÊîØ‰ªòEntity --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--‰∏ÄËà¨Âü∫Á°ÄÈÖçÁΩÆÁ±ª--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-19"><a href="#ÊîπYML-19" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9527</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway<span class="token punctuation">-</span>service
  <span class="token key atrule">client</span><span class="token punctuation">:</span> <span class="token comment">#ÊúçÂä°Êèê‰æõËÄÖproviderÊ≥®ÂÜåËøõeurekaÊúçÂä°ÂàóË°®ÂÜÖ</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏öÂä°Á±ª-7"><a href="#‰∏öÂä°Á±ª-7" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h3><h4 id="Êó†"><a href="#Êó†" class="headerlink" title="Êó†"></a>Êó†</h4><h3 id="‰∏ªÂêØÂä®Á±ª-4"><a href="#‰∏ªÂêØÂä®Á±ª-4" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h3><h4 id="GateWayMain9527"><a href="#GateWayMain9527" class="headerlink" title="GateWayMain9527"></a>GateWayMain9527</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaClient</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GateWayMain9527</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">GateWayMain9527</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="9527ÁΩëÂÖ≥Â¶Ç‰ΩïÂÅöË∑ØÁî±Êò†Â∞ÑÈÇ£ÔºüÔºüÔºü"><a href="#9527ÁΩëÂÖ≥Â¶Ç‰ΩïÂÅöË∑ØÁî±Êò†Â∞ÑÈÇ£ÔºüÔºüÔºü" class="headerlink" title="9527ÁΩëÂÖ≥Â¶Ç‰ΩïÂÅöË∑ØÁî±Êò†Â∞ÑÈÇ£ÔºüÔºüÔºü"></a>9527ÁΩëÂÖ≥Â¶Ç‰ΩïÂÅöË∑ØÁî±Êò†Â∞ÑÈÇ£ÔºüÔºüÔºü</h3><blockquote>
<p>cloud-provider-payment8001ÁúãÁúãcontrollerÁöÑËÆøÈóÆÂú∞ÂùÄ    get  lb</p>
<p>Êàë‰ª¨ÁõÆÂâç‰∏çÊÉ≥Êö¥Èú≤8001Á´ØÂè£ÔºåÂ∏åÊúõÂú®8001Â§ñÈù¢Â•ó‰∏ÄÂ±Ç9527</p>
</blockquote>
<h3 id="YMLÊñ∞Â¢ûÁΩëÂÖ≥ÈÖçÁΩÆ"><a href="#YMLÊñ∞Â¢ûÁΩëÂÖ≥ÈÖçÁΩÆ" class="headerlink" title="YMLÊñ∞Â¢ûÁΩëÂÖ≥ÈÖçÁΩÆ"></a>YMLÊñ∞Â¢ûÁΩëÂÖ≥ÈÖçÁΩÆ</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh <span class="token comment">#payment_route    #Ë∑ØÁî±ÁöÑIDÔºåÊ≤°ÊúâÂõ∫ÂÆöËßÑÂàô‰ΩÜË¶ÅÊ±ÇÂîØ‰∏ÄÔºåÂª∫ËÆÆÈÖçÂêàÊúçÂä°Âêç</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8001</span>          <span class="token comment">#ÂåπÈÖçÂêéÊèê‰æõÊúçÂä°ÁöÑË∑ØÁî±Âú∞ÂùÄ</span>
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/payment/get/<span class="token important">**</span>         <span class="token comment"># Êñ≠Ë®ÄÔºåË∑ØÂæÑÁõ∏ÂåπÈÖçÁöÑËøõË°åË∑ØÁî±</span>

        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh2 <span class="token comment">#payment_route    #Ë∑ØÁî±ÁöÑIDÔºåÊ≤°ÊúâÂõ∫ÂÆöËßÑÂàô‰ΩÜË¶ÅÊ±ÇÂîØ‰∏ÄÔºåÂª∫ËÆÆÈÖçÂêàÊúçÂä°Âêç</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8001</span>          <span class="token comment">#ÂåπÈÖçÂêéÊèê‰æõÊúçÂä°ÁöÑË∑ØÁî±Âú∞ÂùÄ</span>
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/payment/lb/<span class="token important">**</span>         <span class="token comment"># Êñ≠Ë®ÄÔºåË∑ØÂæÑÁõ∏ÂåπÈÖçÁöÑËøõË°åË∑ØÁî±</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊµãËØï-9"><a href="#ÊµãËØï-9" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-97.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-97.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>gateway ‰∏çËÉΩÂºïÂÖ• mvc</strong></p>
<ul>
<li><p>ÂêØÂä®7001</p>
</li>
<li><p>ÂêØÂä®8001 cloud-provider-payment8001</p>
</li>
<li><p>ÂêØÂä®9527ÁΩëÂÖ≥</p>
</li>
<li><p>ËÆøÈóÆËØ¥Êòé  <a target="_blank" rel="noopener" href="http://localhost:8001/payment/get/31">http://localhost:8001/payment/get/31</a>  ‚Äì&gt; <a target="_blank" rel="noopener" href="http://localhost:9527/payment/get/31">http://localhost:9527/payment/get/31</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-98.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-98.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</li>
</ul>
<h3 id="YMLÈÖçÁΩÆËØ¥Êòé"><a href="#YMLÈÖçÁΩÆËØ¥Êòé" class="headerlink" title="YMLÈÖçÁΩÆËØ¥Êòé"></a>YMLÈÖçÁΩÆËØ¥Êòé</h3><p>GatewayÁΩëÂÖ≥Ë∑ØÁî±Êúâ‰∏§ÁßçÈÖçÁΩÆÊñπÂºèÔºö</p>
<blockquote>
<p><strong>Âú®ÈÖçÁΩÆÊñá‰ª∂yml‰∏≠ÈÖçÁΩÆ</strong>  </p>
<p>‚Äã		ËßÅÂâçÈù¢ÁöÑÊ≠•È™§</p>
<hr>
<p><strong>‰ª£Á†Å‰∏≠Ê≥®ÂÖ•RouteLocatorÁöÑBean</strong></p>
<p>‚Äã	ÂÆòÁΩëÊ°à‰æã</p>
<p>‚Äã			<img src="/image/Learn-SpringCloud/Learn-SpringCloud-99.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-99.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>‚Äã	ÁôæÂ∫¶ÂõΩÂÜÖÊñ∞ÈóªÁΩëÂùÄÔºåÈúÄË¶ÅÂ§ñÁΩë</p>
<p>‚Äã			<a target="_blank" rel="noopener" href="http://news.baidu.com/guonei">http://news.baidu.com/guonei</a></p>
<p>‚Äã	<strong>Ëá™Â∑±ÂÜô‰∏Ä‰∏™</strong></p>
<p>‚Äã	<strong>ÁôæÂ∫¶Êñ∞Èóª</strong></p>
<p>‚Äã	<strong>‰∏öÂä°ÈúÄÊ±Ç</strong>  </p>
<p>‚Äã			<strong>‚Äì&gt; ÈÄöËøá9527ÁΩëÂÖ≥ËÆøÈóÆÂà∞Â§ñÁΩëÁöÑÁôæÂ∫¶Êñ∞ÈóªÁΩëÂùÄ</strong></p>
<p>‚Äã	<strong>ÁºñÁ†Å</strong></p>
<p>‚Äã			<strong>‚Äì&gt;cloud-gateway-gateway9527</strong></p>
<p>‚Äã			<strong>‰∏öÂä°ÂÆûÁé∞</strong> </p>
<p>‚Äã					<strong>‚Äì&gt;config</strong></p>
<p>‚Äã								<strong>‚Äì&gt; GateWayConfig</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Bean</span> 	
<span class="token keyword">public</span> <span class="token class-name">RouteLocator</span> <span class="token function">routes</span><span class="token punctuation">(</span><span class="token class-name">RouteLocatorBuilder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    
<span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"circuitbreaker_route"</span><span class="token punctuation">,</span> r <span class="token operator">-></span> r<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">"/consumingServiceEndpoint"</span><span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">filters</span><span class="token punctuation">(</span>f <span class="token operator">-></span> f<span class="token punctuation">.</span><span class="token function">circuitBreaker</span><span class="token punctuation">(</span>c <span class="token operator">-></span> c<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">"myCircuitBreaker"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fallbackUri</span><span class="token punctuation">(</span><span class="token string">"forward:/inCaseOfFailureUseThis"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                
			<span class="token punctuation">.</span><span class="token function">rewritePath</span><span class="token punctuation">(</span><span class="token string">"/consumingServiceEndpoint"</span><span class="token punctuation">,</span> <span class="token string">"/backingServiceEndpoint"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">"lb://backing-service:8088"</span><span class="token punctuation">)</span>        
<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>‰∏äËø∞‰ª£Á†Å‰∏∫ÂÆòÊñπÁ§∫‰æã</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>route<span class="token punctuation">.</span></span><span class="token class-name">RouteLocator</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>route<span class="token punctuation">.</span>builder<span class="token punctuation">.</span></span><span class="token class-name">RouteLocatorBuilder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GateWayConfig</span>
<span class="token punctuation">&#123;</span>
    <span class="token comment">/**
     * ÈÖçÁΩÆ‰∫Ü‰∏Ä‰∏™id‰∏∫route-nameÁöÑË∑ØÁî±ËßÑÂàôÔºå
     * ÂΩìËÆøÈóÆÂú∞ÂùÄ http://localhost:9527/guoneiÊó∂‰ºöËá™Âä®ËΩ¨ÂèëÂà∞Âú∞ÂùÄÔºöhttp://news.baidu.com/guonei
     * @param builder
     * @return
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RouteLocator</span> <span class="token function">customRouteLocator</span><span class="token punctuation">(</span><span class="token class-name">RouteLocatorBuilder</span> builder<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">RouteLocatorBuilder<span class="token punctuation">.</span>Builder</span> routes <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        routes<span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"path_route_ctrl"</span><span class="token punctuation">,</span> r <span class="token operator">-></span> r<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">"/guonei"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">"http://news.baidu.com/guonei"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> routes<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RouteLocator</span> <span class="token function">customRouteLocator2</span><span class="token punctuation">(</span><span class="token class-name">RouteLocatorBuilder</span> builder<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">RouteLocatorBuilder<span class="token punctuation">.</span>Builder</span> routes <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">routes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        routes<span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token string">"path_route_ctrl2"</span><span class="token punctuation">,</span> r <span class="token operator">-></span> r<span class="token punctuation">.</span><span class="token function">path</span><span class="token punctuation">(</span><span class="token string">"/guoji"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">"http://news.baidu.com/guoji"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> routes<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<h2 id="ÈÄöËøáÂæÆÊúçÂä°ÂêçÂÆûÁé∞Âä®ÊÄÅË∑ØÁî±"><a href="#ÈÄöËøáÂæÆÊúçÂä°ÂêçÂÆûÁé∞Âä®ÊÄÅË∑ØÁî±" class="headerlink" title="ÈÄöËøáÂæÆÊúçÂä°ÂêçÂÆûÁé∞Âä®ÊÄÅË∑ØÁî±"></a>ÈÄöËøáÂæÆÊúçÂä°ÂêçÂÆûÁé∞Âä®ÊÄÅË∑ØÁî±</h2><blockquote>
<p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãGateway‰ºöÊ†πÊçÆÊ≥®ÂÜå‰∏≠ÂøÉÊ≥®ÂÜåÁöÑÊúçÂä°ÂàóË°®Ôºå<br>‰ª•Ê≥®ÂÜå‰∏≠ÂøÉ‰∏äÂæÆÊúçÂä°Âêç‰∏∫Ë∑ØÂæÑÂàõÂª∫Âä®ÊÄÅË∑ØÁî±ËøõË°åËΩ¨ÂèëÔºå‰ªéËÄåÂÆûÁé∞Âä®ÊÄÅË∑ØÁî±ÁöÑÂäüËÉΩ</p>
</blockquote>
<h3 id="ÂêØÂä®-1"><a href="#ÂêØÂä®-1" class="headerlink" title="ÂêØÂä®"></a>ÂêØÂä®</h3><p>‰∏Ä‰∏™eureka7001 + ‰∏§‰∏™ÊúçÂä°Êèê‰æõËÄÖ8001&#x2F;8002</p>
<h3 id="ÊîπPOM-14"><a href="#ÊîπPOM-14" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-20"><a href="#ÊîπYML-20" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">locator</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#ÂºÄÂêØ‰ªéÊ≥®ÂÜå‰∏≠ÂøÉÂä®ÊÄÅÂàõÂª∫Ë∑ØÁî±ÁöÑÂäüËÉΩÔºåÂà©Áî®ÂæÆÊúçÂä°ÂêçËøõË°åË∑ØÁî±</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh <span class="token comment">#payment_route    #Ë∑ØÁî±ÁöÑIDÔºåÊ≤°ÊúâÂõ∫ÂÆöËßÑÂàô‰ΩÜË¶ÅÊ±ÇÂîØ‰∏ÄÔºåÂª∫ËÆÆÈÖçÂêàÊúçÂä°Âêç</span>
          <span class="token comment"># uri: http://localhost:8001          #ÂåπÈÖçÂêéÊèê‰æõÊúçÂä°ÁöÑË∑ØÁî±Âú∞ÂùÄ</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service <span class="token comment">#ÂåπÈÖçÂêéÊèê‰æõÊúçÂä°ÁöÑË∑ØÁî±Âú∞ÂùÄ</span>
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/payment/get/<span class="token important">**</span>         <span class="token comment"># Êñ≠Ë®ÄÔºåË∑ØÂæÑÁõ∏ÂåπÈÖçÁöÑËøõË°åË∑ØÁî±</span>

        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> payment_routh2 <span class="token comment">#payment_route    #Ë∑ØÁî±ÁöÑIDÔºåÊ≤°ÊúâÂõ∫ÂÆöËßÑÂàô‰ΩÜË¶ÅÊ±ÇÂîØ‰∏ÄÔºåÂª∫ËÆÆÈÖçÂêàÊúçÂä°Âêç</span>
          <span class="token comment"># uri: http://localhost:8001          #ÂåπÈÖçÂêéÊèê‰æõÊúçÂä°ÁöÑË∑ØÁî±Âú∞ÂùÄ</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service <span class="token comment">#ÂåπÈÖçÂêéÊèê‰æõÊúçÂä°ÁöÑË∑ØÁî±Âú∞ÂùÄ</span>
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/payment/lb/<span class="token important">**</span>         <span class="token comment"># Êñ≠Ë®ÄÔºåË∑ØÂæÑÁõ∏ÂåπÈÖçÁöÑËøõË°åË∑ØÁî±</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØuriÁöÑÂçèËÆÆ‰∏∫lbÔºåË°®Á§∫ÂêØÁî®GatewayÁöÑË¥üËΩΩÂùáË°°ÂäüËÉΩ„ÄÇ</strong></p>
<p><strong>lb:&#x2F;&#x2F;serviceNameÊòØspring cloud gatewayÂú®ÂæÆÊúçÂä°‰∏≠Ëá™Âä®‰∏∫Êàë‰ª¨ÂàõÂª∫ÁöÑË¥üËΩΩÂùáË°°uri</strong></p>
<h3 id="ÊµãËØï-10"><a href="#ÊµãËØï-10" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><p><a target="_blank" rel="noopener" href="http://localhost:9527/payment/lb">http://localhost:9527/payment/lb</a></p>
<p> 8001&#x2F;8002‰∏§‰∏™Á´ØÂè£ÂàáÊç¢</p>
<h2 id="PredicateÁöÑ‰ΩøÁî®"><a href="#PredicateÁöÑ‰ΩøÁî®" class="headerlink" title="PredicateÁöÑ‰ΩøÁî®"></a>PredicateÁöÑ‰ΩøÁî®</h2><h3 id="ÊòØ‰ªÄ‰πà-5"><a href="#ÊòØ‰ªÄ‰πà-5" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><p>‚Äã	ÂêØÂä®Êàë‰ª¨ÁöÑgateway9527</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-100.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-100.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="Route-Predicate-FactoriesËøô‰∏™ÊòØ‰ªÄ‰πà‰∏ú‰∏ú"><a href="#Route-Predicate-FactoriesËøô‰∏™ÊòØ‰ªÄ‰πà‰∏ú‰∏ú" class="headerlink" title="Route Predicate FactoriesËøô‰∏™ÊòØ‰ªÄ‰πà‰∏ú‰∏ú?"></a>Route Predicate FactoriesËøô‰∏™ÊòØ‰ªÄ‰πà‰∏ú‰∏ú?</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-101.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-101.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p> <strong>Spring Cloud GatewayÂ∞ÜË∑ØÁî±ÂåπÈÖç‰Ωú‰∏∫Spring WebFlux HandlerMappingÂü∫Á°ÄÊû∂ÊûÑÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ</strong><br><strong>Spring Cloud GatewayÂåÖÊã¨ËÆ∏Â§öÂÜÖÁΩÆÁöÑRoute PredicateÂ∑•ÂéÇ„ÄÇÊâÄÊúâËøô‰∫õPredicateÈÉΩ‰∏éHTTPËØ∑Ê±ÇÁöÑ‰∏çÂêåÂ±ûÊÄßÂåπÈÖç„ÄÇÂ§ö‰∏™Route PredicateÂ∑•ÂéÇÂèØ‰ª•ËøõË°åÁªÑÂêà</strong></p>
<p><strong>Spring Cloud Gateway ÂàõÂª∫ Route ÂØπË±°Êó∂Ôºå ‰ΩøÁî® RoutePredicateFactory ÂàõÂª∫ Predicate ÂØπË±°ÔºåPredicate ÂØπË±°ÂèØ‰ª•ËµãÂÄºÁªô Route„ÄÇ Spring Cloud Gateway ÂåÖÂê´ËÆ∏Â§öÂÜÖÁΩÆÁöÑRoute Predicate Factories„ÄÇ</strong></p>
<p><strong>ÊâÄÊúâËøô‰∫õË∞ìËØçÈÉΩÂåπÈÖçHTTPËØ∑Ê±ÇÁöÑ‰∏çÂêåÂ±ûÊÄß„ÄÇÂ§öÁßçË∞ìËØçÂ∑•ÂéÇÂèØ‰ª•ÁªÑÂêàÔºåÂπ∂ÈÄöËøáÈÄªËæëand„ÄÇ</strong></p>
</blockquote>
<h3 id="Â∏∏Áî®ÁöÑRoute-Predicate"><a href="#Â∏∏Áî®ÁöÑRoute-Predicate" class="headerlink" title="Â∏∏Áî®ÁöÑRoute Predicate"></a>Â∏∏Áî®ÁöÑRoute Predicate</h3><p><a target="_blank" rel="noopener" href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/#gateway-request-predicates-factories">Spring Cloud Gateway</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-102.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-102.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-103.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-103.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-104.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-104.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-105.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-105.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-106.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-106.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p><strong>Cookie Route PredicateÈúÄË¶Å‰∏§‰∏™ÂèÇÊï∞Ôºå‰∏Ä‰∏™ÊòØ Cookie name ,‰∏Ä‰∏™ÊòØÊ≠£ÂàôË°®ËææÂºè„ÄÇ</strong><br><strong>Ë∑ØÁî±ËßÑÂàô‰ºöÈÄöËøáËé∑ÂèñÂØπÂ∫îÁöÑ Cookie name ÂÄºÂíåÊ≠£ÂàôË°®ËææÂºèÂéªÂåπÈÖçÔºåÂ¶ÇÊûúÂåπÈÖç‰∏äÂ∞±‰ºöÊâßË°åË∑ØÁî±ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂåπÈÖç‰∏äÂàô‰∏çÊâßË°å</strong></p>
</blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-107.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-107.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p><strong>‰∏§‰∏™ÂèÇÊï∞Ôºö‰∏Ä‰∏™ÊòØÂ±ûÊÄßÂêçÁß∞Âíå‰∏Ä‰∏™Ê≠£ÂàôË°®ËææÂºèÔºåËøô‰∏™Â±ûÊÄßÂÄºÂíåÊ≠£ÂàôË°®ËææÂºèÂåπÈÖçÂàôÊâßË°å„ÄÇ</strong></p>
</blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-108.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-108.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-109.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-109.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-110.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-110.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-111.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-111.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>Ëé∑ÂèñÊó∂Âå∫</strong></p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">ZonedDateTime</span> zbj <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ÈªòËÆ§Êó∂Âå∫</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>zbj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        ZonedDateTime zny = ZonedDateTime.now(ZoneId.of("America/New_York")); // Áî®ÊåáÂÆöÊó∂Âå∫Ëé∑ÂèñÂΩìÂâçÊó∂Èó¥</span>
<span class="token comment">//        System.out.println(zny);</span>
    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>ËØ¥ÁôΩ‰∫ÜÔºåPredicateÂ∞±ÊòØ‰∏∫‰∫ÜÂÆûÁé∞‰∏ÄÁªÑÂåπÈÖçËßÑÂàôÔºå</strong><br><strong>ËÆ©ËØ∑Ê±ÇËøáÊù•ÊâæÂà∞ÂØπÂ∫îÁöÑRouteËøõË°åÂ§ÑÁêÜ„ÄÇ</strong></p>
<h2 id="FilterÁöÑ‰ΩøÁî®"><a href="#FilterÁöÑ‰ΩøÁî®" class="headerlink" title="FilterÁöÑ‰ΩøÁî®"></a>FilterÁöÑ‰ΩøÁî®</h2><h3 id="ÊòØ‰ªÄ‰πà-6"><a href="#ÊòØ‰ªÄ‰πà-6" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-112.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-112.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p><strong>Ë∑ØÁî±ËøáÊª§Âô®ÂèØÁî®‰∫é‰øÆÊîπËøõÂÖ•ÁöÑHTTPËØ∑Ê±ÇÂíåËøîÂõûÁöÑHTTPÂìçÂ∫îÔºåË∑ØÁî±ËøáÊª§Âô®Âè™ËÉΩÊåáÂÆöË∑ØÁî±ËøõË°å‰ΩøÁî®„ÄÇ</strong></p>
<p><strong>Spring Cloud Gateway ÂÜÖÁΩÆ‰∫ÜÂ§öÁßçË∑ØÁî±ËøáÊª§Âô®Ôºå‰ªñ‰ª¨ÈÉΩÁî±GatewayFilterÁöÑÂ∑•ÂéÇÁ±ªÊù•‰∫ßÁîü</strong></p>
</blockquote>
<h3 id="Spring-Cloud-GatewayÁöÑFilter"><a href="#Spring-Cloud-GatewayÁöÑFilter" class="headerlink" title="Spring Cloud GatewayÁöÑFilter"></a>Spring Cloud GatewayÁöÑFilter</h3><p> ÁîüÂëΩÂë®ÊúüÔºåOnly Two    pre   post</p>
<p> ÁßçÁ±ªÔºåOnly Two   </p>
<p>‚Äã	<strong>GatewayFilter</strong> </p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>cloud<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>io<span class="token operator">/</span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span><span class="token keyword">static</span><span class="token operator">/</span>spring<span class="token operator">-</span>cloud<span class="token operator">-</span>gateway<span class="token operator">/</span><span class="token number">2.2</span><span class="token number">.1</span><span class="token punctuation">.</span>RELEASE<span class="token operator">/</span>reference<span class="token operator">/</span>html<span class="token operator">/</span>#the<span class="token operator">-</span>addrequestparameter<span class="token operator">-</span>gatewayfilter<span class="token operator">-</span>factory    <span class="token number">31</span>Áßç‰πãÂ§ö„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-113.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-113.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg">   </p>
<p> <strong>GlobalFilter</strong></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-114.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-114.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="Â∏∏Áî®ÁöÑGatewayFilter"><a href="#Â∏∏Áî®ÁöÑGatewayFilter" class="headerlink" title="Â∏∏Áî®ÁöÑGatewayFilter"></a>Â∏∏Áî®ÁöÑGatewayFilter</h3><p>AddRequestParameter </p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>gateway
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> AddRequestParameter=X<span class="token punctuation">-</span>Request<span class="token punctuation">-</span>Id<span class="token punctuation">,</span><span class="token number">1024</span> <span class="token comment">#ËøáÊª§Âô®Â∑•ÂéÇ‰ºöÂú®ÂåπÈÖçÁöÑËØ∑Ê±ÇÂ§¥Âä†‰∏ä‰∏ÄÂØπËØ∑Ê±ÇÂ§¥ÔºåÂêçÁß∞‰∏∫X-Request-IdÂÄº‰∏∫1024</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<hr>
<h3 id="Ëá™ÂÆö‰πâËøáÊª§Âô®"><a href="#Ëá™ÂÆö‰πâËøáÊª§Âô®" class="headerlink" title="Ëá™ÂÆö‰πâËøáÊª§Âô®"></a>Ëá™ÂÆö‰πâËøáÊª§Âô®</h3><h4 id="Ëá™ÂÆö‰πâÂÖ®Â±ÄGlobalFilter"><a href="#Ëá™ÂÆö‰πâÂÖ®Â±ÄGlobalFilter" class="headerlink" title="Ëá™ÂÆö‰πâÂÖ®Â±ÄGlobalFilter"></a>Ëá™ÂÆö‰πâÂÖ®Â±ÄGlobalFilter</h4><h5 id="‰∏§‰∏™‰∏ªË¶ÅÊé•Âè£‰ªãÁªç"><a href="#‰∏§‰∏™‰∏ªË¶ÅÊé•Âè£‰ªãÁªç" class="headerlink" title="‰∏§‰∏™‰∏ªË¶ÅÊé•Âè£‰ªãÁªç"></a>‰∏§‰∏™‰∏ªË¶ÅÊé•Âè£‰ªãÁªç</h5><p>‚Äã		implements GlobalFilter,Ordered</p>
<h5 id="ËÉΩÂπ≤Âòõ-6"><a href="#ËÉΩÂπ≤Âòõ-6" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h5><p>‚Äã		ÂÖ®Â±ÄÊó•ÂøóËÆ∞ÂΩï  Áªü‰∏ÄÁΩëÂÖ≥Èâ¥ÊùÉ „ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ</p>
<h5 id="Ê°à‰æã‰ª£Á†Å"><a href="#Ê°à‰æã‰ª£Á†Å" class="headerlink" title="Ê°à‰æã‰ª£Á†Å"></a>Ê°à‰æã‰ª£Á†Å</h5><p>MyLogGateWayFilter </p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>filter</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">GatewayFilterChain</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>gateway<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">GlobalFilter</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Ordered</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpStatus</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">ServerWebExchange</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">reactor<span class="token punctuation">.</span>core<span class="token punctuation">.</span>publisher<span class="token punctuation">.</span></span><span class="token class-name">Mono</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span> <span class="token comment">//ÂøÖÈ°ªÂä†ÔºåÂøÖÈ°ªÂä†ÔºåÂøÖÈ°ªÂä†</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLogGateWayFilter</span> <span class="token keyword">implements</span> <span class="token class-name">GlobalFilter</span><span class="token punctuation">,</span> <span class="token class-name">Ordered</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">></span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">,</span> <span class="token class-name">GatewayFilterChain</span> chain<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"time:"</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t ÊâßË°å‰∫ÜËá™ÂÆö‰πâÁöÑÂÖ®Â±ÄËøáÊª§Âô®: "</span><span class="token operator">+</span><span class="token string">"MyLogGateWayFilter"</span><span class="token operator">+</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> uname <span class="token operator">=</span> exchange<span class="token punctuation">.</span><span class="token function">getRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getQueryParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token string">"uname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>uname <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"****Áî®Êà∑Âêç‰∏∫nullÔºåÊó†Ê≥ïÁôªÂΩï"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setStatusCode</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>NOT_ACCEPTABLE<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> exchange<span class="token punctuation">.</span><span class="token function">getResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ÊµãËØï-11"><a href="#ÊµãËØï-11" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h5><p>ÂêØÂä®</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-115.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-115.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Ê≠£Á°Æ   <a target="_blank" rel="noopener" href="http://localhost:9527/payment/lb?uname=z3">http://localhost:9527/payment/lb?uname=z3</a></p>
<p>ÈîôËØØ  Ê≤°ÊúâÂèÇÊï∞uname  <a target="_blank" rel="noopener" href="http://localhost:9527/payment/lb">http://localhost:9527/payment/lb</a>  Êó†Ê≥ïÊ≠£Â∏∏‰ΩøÁî®ËΩ¨Âèë</p>
<h1 id="SpringCloud-Config-ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ"><a href="#SpringCloud-Config-ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ" class="headerlink" title="SpringCloud Config ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ"></a>SpringCloud Config ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉ</h1><h2 id="Ê¶ÇËø∞-5"><a href="#Ê¶ÇËø∞-5" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h2><blockquote>
<p>   ÂæÆÊúçÂä°ÊÑèÂë≥ÁùÄË¶ÅÂ∞ÜÂçï‰ΩìÂ∫îÁî®‰∏≠ÁöÑ‰∏öÂä°ÊãÜÂàÜÊàê‰∏Ä‰∏™‰∏™Â≠êÊúçÂä°ÔºåÊØè‰∏™ÊúçÂä°ÁöÑÁ≤íÂ∫¶Áõ∏ÂØπËæÉÂ∞èÔºåÂõ†Ê≠§Á≥ªÁªü‰∏≠‰ºöÂá∫Áé∞Â§ßÈáèÁöÑÊúçÂä°„ÄÇÁî±‰∫éÊØè‰∏™ÊúçÂä°ÈÉΩÈúÄË¶ÅÂøÖË¶ÅÁöÑÈÖçÁΩÆ‰ø°ÊÅØÊâçËÉΩËøêË°åÔºåÊâÄ‰ª•‰∏ÄÂ•óÈõÜ‰∏≠ÂºèÁöÑ„ÄÅÂä®ÊÄÅÁöÑÈÖçÁΩÆÁÆ°ÁêÜËÆæÊñΩÊòØÂøÖ‰∏çÂèØÂ∞ëÁöÑ„ÄÇ</p>
<p>SpringCloudÊèê‰æõ‰∫ÜConfigServerÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÊàë‰ª¨ÊØè‰∏Ä‰∏™ÂæÆÊúçÂä°Ëá™Â∑±Â∏¶ÁùÄ‰∏Ä‰∏™application.ymlÔºå‰∏äÁôæ‰∏™ÈÖçÁΩÆÊñá‰ª∂ÁöÑÁÆ°ÁêÜ‚Ä¶‚Ä¶<br>&#x2F;(„Ñío„Ñí)&#x2F;~~</p>
</blockquote>
<h3 id="ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑ‚ÄîÈÖçÁΩÆÈóÆÈ¢ò"><a href="#ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑ‚ÄîÈÖçÁΩÆÈóÆÈ¢ò" class="headerlink" title="ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑ‚ÄîÈÖçÁΩÆÈóÆÈ¢ò"></a>ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈù¢‰∏¥ÁöÑ‚ÄîÈÖçÁΩÆÈóÆÈ¢ò</h3><h3 id="ÊòØ‰ªÄ‰πà-7"><a href="#ÊòØ‰ªÄ‰πà-7" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-116.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-116.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>ÊòØ‰ªÄ‰πà</strong></p>
<p>SpringCloud Config‰∏∫ÂæÆÊúçÂä°Êû∂ÊûÑ‰∏≠ÁöÑÂæÆÊúçÂä°Êèê‰æõÈõÜ‰∏≠ÂåñÁöÑÂ§ñÈÉ®ÈÖçÁΩÆÊîØÊåÅÔºåÈÖçÁΩÆÊúçÂä°Âô®‰∏∫<strong>ÂêÑ‰∏™‰∏çÂêåÂæÆÊúçÂä°</strong>Â∫îÁî®ÁöÑÊâÄÊúâÁéØÂ¢ÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™<strong>‰∏≠ÂøÉÂåñÁöÑÂ§ñÈÉ®ÈÖçÁΩÆ„ÄÇ</strong></p>
<p><strong>ÊÄé‰πàÁé©</strong><br>SpringCloud ConfigÂàÜ‰∏∫<strong>ÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´Ø‰∏§ÈÉ®ÂàÜ„ÄÇ</strong></p>
<p>ÊúçÂä°Á´Ø‰πüÁß∞‰∏∫<strong>ÂàÜÂ∏ÉÂºèÈÖçÁΩÆ‰∏≠ÂøÉÔºåÂÆÉÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÂæÆÊúçÂä°Â∫îÁî®</strong>ÔºåÁî®Êù•ËøûÊé•ÈÖçÁΩÆÊúçÂä°Âô®Âπ∂‰∏∫ÂÆ¢Êà∑Á´ØÊèê‰æõËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØÔºåÂä†ÂØÜ&#x2F;Ëß£ÂØÜ‰ø°ÊÅØÁ≠âËÆøÈóÆÊé•Âè£</p>
<p>ÂÆ¢Êà∑Á´ØÂàôÊòØÈÄöËøáÊåáÂÆöÁöÑÈÖçÁΩÆ‰∏≠ÂøÉÊù•ÁÆ°ÁêÜÂ∫îÁî®ËµÑÊ∫êÔºå‰ª•Âèä‰∏é‰∏öÂä°Áõ∏ÂÖ≥ÁöÑÈÖçÁΩÆÂÜÖÂÆπÔºåÂπ∂Âú®ÂêØÂä®ÁöÑÊó∂ÂÄô‰ªéÈÖçÁΩÆ‰∏≠ÂøÉËé∑ÂèñÂíåÂä†ËΩΩÈÖçÁΩÆ‰ø°ÊÅØÈÖçÁΩÆÊúçÂä°Âô®ÈªòËÆ§ÈááÁî®gitÊù•Â≠òÂÇ®ÈÖçÁΩÆ‰ø°ÊÅØÔºåËøôÊ†∑Â∞±ÊúâÂä©‰∫éÂØπÁéØÂ¢ÉÈÖçÁΩÆËøõË°åÁâàÊú¨ÁÆ°ÁêÜÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøágitÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑Êù•Êñπ‰æøÁöÑÁÆ°ÁêÜÂíåËÆøÈóÆÈÖçÁΩÆÂÜÖÂÆπ„ÄÇ</p>
<h3 id="ËÉΩÂπ≤Âòõ-7"><a href="#ËÉΩÂπ≤Âòõ-7" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><ul>
<li>ÈõÜ‰∏≠ÁÆ°ÁêÜÈÖçÁΩÆÊñá‰ª∂</li>
<li>‰∏çÂêåÁéØÂ¢É‰∏çÂêåÈÖçÁΩÆÔºåÂä®ÊÄÅÂåñÁöÑÈÖçÁΩÆÊõ¥Êñ∞ÔºåÂàÜÁéØÂ¢ÉÈÉ®ÁΩ≤ÊØîÂ¶Çdev&#x2F;test&#x2F;prod&#x2F;beta&#x2F;release</li>
<li>ËøêË°åÊúüÈó¥Âä®ÊÄÅË∞ÉÊï¥ÈÖçÁΩÆÔºå‰∏çÂÜçÈúÄË¶ÅÂú®ÊØè‰∏™ÊúçÂä°ÈÉ®ÁΩ≤ÁöÑÊú∫Âô®‰∏äÁºñÂÜôÈÖçÁΩÆÊñá‰ª∂ÔºåÊúçÂä°‰ºöÂêëÈÖçÁΩÆ‰∏≠ÂøÉÁªü‰∏ÄÊãâÂèñÈÖçÁΩÆËá™Â∑±ÁöÑ‰ø°ÊÅØ</li>
<li>ÂΩìÈÖçÁΩÆÂèëÁîüÂèòÂä®Êó∂ÔºåÊúçÂä°‰∏çÈúÄË¶ÅÈáçÂêØÂç≥ÂèØÊÑüÁü•Âà∞ÈÖçÁΩÆÁöÑÂèòÂåñÂπ∂Â∫îÁî®Êñ∞ÁöÑÈÖçÁΩÆ</li>
<li>Â∞ÜÈÖçÁΩÆ‰ø°ÊÅØ‰ª•RESTÊé•Âè£ÁöÑÂΩ¢ÂºèÊö¥Èú≤  <strong>post„ÄÅcurlËÆøÈóÆÂà∑Êñ∞ÂùáÂèØ‚Ä¶‚Ä¶</strong></li>
</ul>
<h3 id="‰∏éGitHubÊï¥ÂêàÈÖçÁΩÆ"><a href="#‰∏éGitHubÊï¥ÂêàÈÖçÁΩÆ" class="headerlink" title="‰∏éGitHubÊï¥ÂêàÈÖçÁΩÆ"></a>‰∏éGitHubÊï¥ÂêàÈÖçÁΩÆ</h3><blockquote>
<p><strong>Áî±‰∫éSpringCloud ConfigÈªòËÆ§‰ΩøÁî®GitÊù•Â≠òÂÇ®ÈÖçÁΩÆÊñá‰ª∂(‰πüÊúâÂÖ∂ÂÆÉÊñπÂºè,ÊØîÂ¶ÇÊîØÊåÅSVNÂíåÊú¨Âú∞Êñá‰ª∂)Ôºå</strong><br><strong>‰ΩÜÊúÄÊé®ËçêÁöÑËøòÊòØGitÔºåËÄå‰∏î‰ΩøÁî®ÁöÑÊòØhttp&#x2F;httpsËÆøÈóÆÁöÑÂΩ¢Âºè</strong></p>
</blockquote>
<h3 id="ÂÆòÁΩë-2"><a href="#ÂÆòÁΩë-2" class="headerlink" title="ÂÆòÁΩë"></a>ÂÆòÁΩë</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-117.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-117.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><a target="_blank" rel="noopener" href="https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.2.1.RELEASE/reference/html/">https://cloud.spring.io/spring-cloud-static/spring-cloud-config/2.2.1.RELEASE/reference/html/</a></p>
<hr>
<h2 id="ConfigÊúçÂä°Á´ØÈÖçÁΩÆ‰∏éÊµãËØï"><a href="#ConfigÊúçÂä°Á´ØÈÖçÁΩÆ‰∏éÊµãËØï" class="headerlink" title="ConfigÊúçÂä°Á´ØÈÖçÁΩÆ‰∏éÊµãËØï"></a>ConfigÊúçÂä°Á´ØÈÖçÁΩÆ‰∏éÊµãËØï</h2><h3 id="Áî®‰Ω†Ëá™Â∑±ÁöÑË¥¶Âè∑Âú®GitHub‰∏äÊñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫springcloud-configÁöÑÊñ∞Repository"><a href="#Áî®‰Ω†Ëá™Â∑±ÁöÑË¥¶Âè∑Âú®GitHub‰∏äÊñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫springcloud-configÁöÑÊñ∞Repository" class="headerlink" title="Áî®‰Ω†Ëá™Â∑±ÁöÑË¥¶Âè∑Âú®GitHub‰∏äÊñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫springcloud-configÁöÑÊñ∞Repository"></a>Áî®‰Ω†Ëá™Â∑±ÁöÑË¥¶Âè∑Âú®GitHub‰∏äÊñ∞Âª∫‰∏Ä‰∏™Âêç‰∏∫springcloud-configÁöÑÊñ∞Repository</h3><h3 id="Áî±‰∏ä‰∏ÄÊ≠•Ëé∑ÂæóÂàöÊñ∞Âª∫ÁöÑgitÂú∞ÂùÄ"><a href="#Áî±‰∏ä‰∏ÄÊ≠•Ëé∑ÂæóÂàöÊñ∞Âª∫ÁöÑgitÂú∞ÂùÄ" class="headerlink" title="Áî±‰∏ä‰∏ÄÊ≠•Ëé∑ÂæóÂàöÊñ∞Âª∫ÁöÑgitÂú∞ÂùÄ"></a>Áî±‰∏ä‰∏ÄÊ≠•Ëé∑ÂæóÂàöÊñ∞Âª∫ÁöÑgitÂú∞ÂùÄ</h3><blockquote>
<p><a href="mailto:&#103;&#105;&#116;&#x40;&#103;&#x69;&#x74;&#104;&#117;&#98;&#x2e;&#x63;&#111;&#x6d;">&#103;&#105;&#116;&#x40;&#103;&#x69;&#x74;&#104;&#117;&#98;&#x2e;&#x63;&#111;&#x6d;</a>:ctrl-github&#x2F;springcloud-config.git</p>
</blockquote>
<pre class="line-numbers language-java" data-language="java"><code class="language-java">git init
git add README<span class="token punctuation">.</span>md
git commit <span class="token operator">-</span>m <span class="token string">"first commit"</span>
git branch <span class="token operator">-</span><span class="token class-name">M</span> master
git remote add origin git<span class="token annotation punctuation">@github.com</span><span class="token operator">:</span>ctrl<span class="token operator">-</span>github<span class="token operator">/</span>springcloud<span class="token operator">-</span>config<span class="token punctuation">.</span>git
git push <span class="token operator">-</span>u origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Êú¨Âú∞Á°¨ÁõòÁõÆÂΩï‰∏äÊñ∞Âª∫git‰ªìÂ∫ìÂπ∂clone"><a href="#Êú¨Âú∞Á°¨ÁõòÁõÆÂΩï‰∏äÊñ∞Âª∫git‰ªìÂ∫ìÂπ∂clone" class="headerlink" title="Êú¨Âú∞Á°¨ÁõòÁõÆÂΩï‰∏äÊñ∞Âª∫git‰ªìÂ∫ìÂπ∂clone"></a>Êú¨Âú∞Á°¨ÁõòÁõÆÂΩï‰∏äÊñ∞Âª∫git‰ªìÂ∫ìÂπ∂clone</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-118.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-118.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p><strong>gitÂëΩ‰ª§</strong></p>
<p><strong>git clone <a href="mailto:&#103;&#x69;&#116;&#x40;&#103;&#x69;&#x74;&#104;&#x75;&#98;&#46;&#x63;&#x6f;&#x6d;">&#103;&#x69;&#116;&#x40;&#103;&#x69;&#x74;&#104;&#x75;&#98;&#46;&#x63;&#x6f;&#x6d;</a>:ctrl-github&#x2F;springcloud-config.git</strong></p>
</blockquote>
<h3 id="Âú®ÂàöÊâçÂàõÂª∫ÁöÑÊú¨Âú∞‰ªìÂ∫ì"><a href="#Âú®ÂàöÊâçÂàõÂª∫ÁöÑÊú¨Âú∞‰ªìÂ∫ì" class="headerlink" title="Âú®ÂàöÊâçÂàõÂª∫ÁöÑÊú¨Âú∞‰ªìÂ∫ì"></a>Âú®ÂàöÊâçÂàõÂª∫ÁöÑÊú¨Âú∞‰ªìÂ∫ì</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-119.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-119.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p><strong>Ë°®Á§∫Â§ö‰∏™ÁéØÂ¢ÉÁöÑÈÖçÁΩÆÊñá‰ª∂</strong></p>
<p><strong>‰øùÂ≠òÊ†ºÂºèÂøÖÈ°ª‰∏∫UTF-8</strong></p>
<p><strong>Â¶ÇÊûúÈúÄË¶Å‰øÆÊîπÔºåÊ≠§Â§ÑÊ®°ÊãüËøêÁª¥‰∫∫ÂëòÊìç‰ΩúgitÂíågithub</strong> </p>
<ul>
<li>‚Äã		<strong>git add .</strong></li>
<li>‚Äã		<strong>git commit -m ‚Äúinit yml‚Äù</strong></li>
<li>‚Äã		<strong>git push origin master</strong></li>
</ul>
</blockquote>
<h3 id="Êñ∞Âª∫ModuleÊ®°Âùócloud-config-center-3344"><a href="#Êñ∞Âª∫ModuleÊ®°Âùócloud-config-center-3344" class="headerlink" title="Êñ∞Âª∫ModuleÊ®°Âùócloud-config-center-3344"></a>Êñ∞Âª∫ModuleÊ®°Âùócloud-config-center-3344</h3><blockquote>
<p> ÂÆÉÂç≥‰∏∫CloudÁöÑÈÖçÁΩÆ‰∏≠ÂøÉÊ®°ÂùócloudConfig Center</p>
</blockquote>
<h3 id="ÊîπPOM-15"><a href="#ÊîπPOM-15" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-config-center-3344<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
 
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-21"><a href="#ÊîπYML-21" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3344</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span>  cloud<span class="token punctuation">-</span>config<span class="token punctuation">-</span>center <span class="token comment">#Ê≥®ÂÜåËøõEurekaÊúçÂä°Âô®ÁöÑÂæÆÊúçÂä°Âêç</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">server</span><span class="token punctuation">:</span>
        <span class="token key atrule">git</span><span class="token punctuation">:</span>
<span class="token comment">#          uri: https://github.com/ctrl-github/springcloud-config.git #GitHub‰∏äÈù¢ÁöÑgit‰ªìÂ∫ìÂêçÂ≠ó</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> git@github.com<span class="token punctuation">:</span>ctrl<span class="token punctuation">-</span>github/springcloud<span class="token punctuation">-</span>config.git
          <span class="token comment">####ÊêúÁ¥¢ÁõÆÂΩï</span>
          <span class="token key atrule">search-paths</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> springcloud<span class="token punctuation">-</span>config
      <span class="token comment">####ËØªÂèñÂàÜÊîØ</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> master

<span class="token comment">#ÊúçÂä°Ê≥®ÂÜåÂà∞eurekaÂú∞ÂùÄ</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏ªÂêØÂä®Á±ª-5"><a href="#‰∏ªÂêØÂä®Á±ª-5" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h3><h4 id="ConfigCenterMain3344"><a href="#ConfigCenterMain3344" class="headerlink" title="ConfigCenterMain3344"></a>ConfigCenterMain3344</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>config<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">EnableConfigServer</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableConfigServer</span><span class="token comment">//ÂêØÂä®configÊúçÂä°</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigCenterMain3344</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigCenterMain3344</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="windows‰∏ã‰øÆÊîπhostsÊñá‰ª∂ÔºåÂ¢ûÂä†Êò†Â∞Ñ"><a href="#windows‰∏ã‰øÆÊîπhostsÊñá‰ª∂ÔºåÂ¢ûÂä†Êò†Â∞Ñ" class="headerlink" title="windows‰∏ã‰øÆÊîπhostsÊñá‰ª∂ÔºåÂ¢ûÂä†Êò†Â∞Ñ"></a>windows‰∏ã‰øÆÊîπhostsÊñá‰ª∂ÔºåÂ¢ûÂä†Êò†Â∞Ñ</h3><blockquote>
<p><strong>127.0.0.1  config-3344.com</strong></p>
<p><strong>Ê≥®ÊÑè ‰∏çË¶ÅÈöèÊÑèÊç¢Ë°å Âê¶ÂàôÂèØËÉΩÂá∫Áé∞Êú™ÁîüÊïàÁöÑÈóÆÈ¢ò</strong></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-120.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-120.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h3 id="ÊµãËØïÈÄöËøáConfigÂæÆÊúçÂä°ÊòØÂê¶ÂèØ‰ª•‰ªéGitHub‰∏äËé∑ÂèñÈÖçÁΩÆÂÜÖÂÆπ"><a href="#ÊµãËØïÈÄöËøáConfigÂæÆÊúçÂä°ÊòØÂê¶ÂèØ‰ª•‰ªéGitHub‰∏äËé∑ÂèñÈÖçÁΩÆÂÜÖÂÆπ" class="headerlink" title="ÊµãËØïÈÄöËøáConfigÂæÆÊúçÂä°ÊòØÂê¶ÂèØ‰ª•‰ªéGitHub‰∏äËé∑ÂèñÈÖçÁΩÆÂÜÖÂÆπ"></a>ÊµãËØïÈÄöËøáConfigÂæÆÊúçÂä°ÊòØÂê¶ÂèØ‰ª•‰ªéGitHub‰∏äËé∑ÂèñÈÖçÁΩÆÂÜÖÂÆπ</h3><blockquote>
<p> ÂÖàÂêØÂä®eureka7001 ÂêéÂêØÂä®ÂæÆÊúçÂä°3344</p>
<p>ËÆøÈóÆ <a target="_blank" rel="noopener" href="http://config-3344.com:3344/master/config-dev.yml">http://config-3344.com:3344/master/config-dev.yml</a></p>
</blockquote>
<p><strong>ËÆøÈóÆÂºÇÂ∏∏</strong> </p>
<p>org.eclipse.jgit.api.errors.TransportException: <a href="mailto:&#103;&#x69;&#x74;&#x40;&#x67;&#105;&#116;&#x68;&#117;&#x62;&#x2e;&#x63;&#x6f;&#x6d;">&#103;&#x69;&#x74;&#x40;&#x67;&#105;&#116;&#x68;&#117;&#x62;&#x2e;&#x63;&#x6f;&#x6d;</a>:ctrl-github&#x2F;springcloud-config.git: reject HostKey: github.com</p>
<p>Caused by: com.jcraft.jsch.JSchException: reject HostKey: github.com</p>
<blockquote>
<p>SpringCloud Config ‰ΩøÁî®sshËøûÊé•githubÊä•Èîô</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bangshao_/article/details/113049944">https://blog.csdn.net/bangshao_/article/details/113049944</a>   </p>
<p>SpringCloud Config ‰ΩøÁî®sshËøûÊé•githubÊä•ÈîôÔºö<br>java Caused by: com.jcraft.jsch.JSchException: Auth fail</p>
<p>Âú®ÁªÉ‰π† SpringCloud Config ÈÖçÁΩÆ‰∏≠ÂøÉÊó∂Ôºå‰ΩøÁî® ssh ËøûÊé• GitHub ËØªÂèñÈÖçÁΩÆÊñá‰ª∂ÔºåÂá∫Áé∞‰∫Ü Auth faill ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p>Ëß£ÂÜ≥ËøáÁ®ã<br>Âú® Git Base ‰∏≠ÊµãËØïËøûÊé• ssh -T <a href="mailto:&#x67;&#105;&#x74;&#x40;&#103;&#x69;&#116;&#104;&#x75;&#x62;&#x2e;&#99;&#111;&#109;">&#x67;&#105;&#x74;&#x40;&#103;&#x69;&#116;&#104;&#x75;&#x62;&#x2e;&#99;&#111;&#109;</a> Âç¥‰∏çÂ≠òÂú®ÈóÆÈ¢òÔºåÂπ∂‰∏îÂèØ‰ª•Ê≠£Â∏∏ÁöÑ‰ªé‰ª£Á†Å‰ªìÂ∫ì‰∏äÂÖãÈöÜ‰ª£Á†Å„ÄÇÁªèËøáÂêÑÁßçÂ∞ùËØïÊúÄÁªàÂ∞ÜÊéíÊü•ÁõÆÊ†áÂÆö‰ΩçÂà∞ËØÅ‰π¶ÁöÑÈóÆÈ¢ò‰∏ä„ÄÇ<br>‰πãÂâç‰ΩøÁî®ÁöÑÊòØ rsa-key ÁöÑÊñπÂºèÁîüÊàêÁöÑËØÅ‰π¶Ôºå‰ΩøÁî®ÁöÑÂëΩ‰ª§ÊòØ ssh -keygen -t rsa -C ‚Äú<a href="mailto:&#x78;&#120;&#x78;&#120;&#x40;&#x71;&#113;&#46;&#x63;&#111;&#109;">&#x78;&#120;&#x78;&#120;&#x40;&#x71;&#113;&#46;&#x63;&#111;&#109;</a>‚Äù, ËøôÁßçÊñπÂºèÁîüÊàêÁöÑËØÅ‰π¶Âú® Git Base ‰∏äÊìç‰ΩúÊòØÊ≤°ÊúâÈóÆÈ¢òÁöÑÔºå‰ΩÜÊòØÂú® SpringCloud Config Â∞±ÊòØ‰∏çË°å„ÄÇ‰∫éÊòØÊàëÂ∞ùËØï‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§<br>ssh-keygen -m PEM -t rsa -b 4096 -C ‚Äú<a href="mailto:&#x78;&#x78;&#x78;&#64;&#x71;&#113;&#x2e;&#99;&#x6f;&#109;">&#x78;&#x78;&#x78;&#64;&#x71;&#113;&#x2e;&#99;&#x6f;&#109;</a>‚Äù</p>
<p>ÁîüÊàêËØÅ‰π¶ÔºåÂÜçÊ¨°Âú® SpringCloud Config ‰∏≠‰ΩøÁî®ÔºåÈóÆÈ¢òËß£ÂÜ≥„ÄÇ</p>
<p>ÂèØËÉΩÂéüÂõ†<br>Á¨¨‰∏ÄÁßçÊñπÂºèÁîüÊàêÁöÑÁßÅÈí•ÊòØ‰ª•BEGIN RSA PRIVATE KEYÂºÄÂ§¥ÔºåEND RSA PRIVATE KEYÁªìÂ∞æ„ÄÇ<br>Á¨¨‰∫åÁßçÊñπÂºèÁîüÊàêÁöÑÁßÅÈí•ÊòØ‰ª•BEGIN OPENSSH PRIVATE KEYÂºÄÂ§¥ÔºåEND OPENSSH PRIVATE KEYÁªìÂ∞æ„ÄÇ<br>SpringCloudConfigËÆøÈóÆgitÁöÑÁªÑ‰ª∂‰∏çÊîØÊåÅopensshËøôÁßçÊ†ºÂºèÁöÑÁßòÈí•„ÄÇ</p>
<p>È°∫‰æøÈáçÊñ∞ÁîüÊàêSSHÂØÜÈí•ËøòÈúÄË¶ÅÂú®gitÁ™óÂè£Êìç‰Ωú‰∏ÄÊ¨°‰ΩøÁî®Ëøô‰∏™ËøûÊé•ÔºåÁ¨¨‰∏ÄÊ¨°‰ºöËØ¢ÈóÆÊòØÂê¶‰ΩøÁî®Ëøô‰∏™ÂØÜÈí•ÔºåÈÄâÊã©yesÊìç‰ΩúÊàêÂäüÂêé„ÄÅIDEA‰∏≠ÊâçËÉΩ‰ΩøÁî®</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-121.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-121.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h3 id="ÊàêÂäüÂÆûÁé∞‰∫ÜÁî®SpringCloud-ConfigÈÄöËøáGitHubËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØ"><a href="#ÊàêÂäüÂÆûÁé∞‰∫ÜÁî®SpringCloud-ConfigÈÄöËøáGitHubËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØ" class="headerlink" title="ÊàêÂäüÂÆûÁé∞‰∫ÜÁî®SpringCloud ConfigÈÄöËøáGitHubËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØ"></a><strong>ÊàêÂäüÂÆûÁé∞‰∫ÜÁî®SpringCloud ConfigÈÄöËøáGitHubËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØ</strong></h3><h3 id="ÈÖçÁΩÆËØªÂèñËßÑÂàô"><a href="#ÈÖçÁΩÆËØªÂèñËßÑÂàô" class="headerlink" title="ÈÖçÁΩÆËØªÂèñËßÑÂàô"></a>ÈÖçÁΩÆËØªÂèñËßÑÂàô</h3><h4 id="ÂÆòÁΩë-3"><a href="#ÂÆòÁΩë-3" class="headerlink" title="ÂÆòÁΩë"></a>ÂÆòÁΩë</h4><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-122.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-122.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h4 id="x2F-label-x2F-application-profile-yml-ÊúÄÊé®Ëçê"><a href="#x2F-label-x2F-application-profile-yml-ÊúÄÊé®Ëçê" class="headerlink" title="&#x2F;{label}&#x2F;{application}-{profile}.yml  ÊúÄÊé®Ëçê"></a>&#x2F;{label}&#x2F;{application}-{profile}.yml  ÊúÄÊé®Ëçê</h4><blockquote>
<p><strong>masterÂàÜÊîØ</strong></p>
<p>‚Äã			<a target="_blank" rel="noopener" href="http://config-3344.com:3344/master/config-dev.yml">http://config-3344.com:3344/master/config-dev.yml</a></p>
<p>‚Äã			<a target="_blank" rel="noopener" href="http://config-3344.com:3344/master/config-test.yml">http://config-3344.com:3344/master/config-test.yml</a></p>
<p>‚Äã			<a target="_blank" rel="noopener" href="http://config-3344.com:3344/master/config-prod.yml">http://config-3344.com:3344/master/config-prod.yml</a></p>
<p><strong>devÂàÜÊîØ</strong></p>
<p>‚Äã			<a target="_blank" rel="noopener" href="http://config-3344.com:3344/dev/config-dev.yml">http://config-3344.com:3344/dev/config-dev.yml</a></p>
<p>‚Äã			<a target="_blank" rel="noopener" href="http://config-3344.com:3344/dev/config-test.yml">http://config-3344.com:3344/dev/config-test.yml</a></p>
<p>‚Äã			<a target="_blank" rel="noopener" href="http://config-3344.com:3344/dev/config-prod.yml">http://config-3344.com:3344/dev/config-prod.yml</a></p>
</blockquote>
<h4 id="x2F-application-profile-yml"><a href="#x2F-application-profile-yml" class="headerlink" title="&#x2F;{application}-{profile}.yml"></a>&#x2F;{application}-{profile}.yml</h4><blockquote>
<p><a target="_blank" rel="noopener" href="http://config-3344.com:3344/config-dev.yml">http://config-3344.com:3344/config-dev.yml</a></p>
<p><a target="_blank" rel="noopener" href="http://config-3344.com:3344/config-test.yml">http://config-3344.com:3344/config-test.yml</a></p>
<p><a target="_blank" rel="noopener" href="http://config-3344.com:3344/config-prod.yml">http://config-3344.com:3344/config-prod.yml</a></p>
<p><a target="_blank" rel="noopener" href="http://config-3344.com:3344/config-xxxx.yml(%E4%B8%8D%E5%AD%98%E5%9C%A8%E7%9A%84%E9%85%8D%E7%BD%AE)">http://config-3344.com:3344/config-xxxx.yml(‰∏çÂ≠òÂú®ÁöÑÈÖçÁΩÆ)</a>   {}</p>
</blockquote>
<h4 id="x2F-application-x2F-profile-x2F-label"><a href="#x2F-application-x2F-profile-x2F-label" class="headerlink" title="&#x2F;{application}&#x2F;{profile}[&#x2F;{label}]"></a>&#x2F;{application}&#x2F;{profile}[&#x2F;{label}]</h4><p>Âêå &#x2F;{label}&#x2F;{application}-{profile}.yml   ÊòØ‰∫íÈÄÜÊìç‰Ωú   ËæìÂá∫json‰∏≤</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://config-3344.com:3344/config/dev/master">http://config-3344.com:3344/config/dev/master</a></p>
<p><a target="_blank" rel="noopener" href="http://config-3344.com:3344/config/test/master">http://config-3344.com:3344/config/test/master</a></p>
<p><a target="_blank" rel="noopener" href="http://config-3344.com:3344/config/test/dev">http://config-3344.com:3344/config/test/dev</a></p>
</blockquote>
<h4 id="ÈáçË¶ÅÈÖçÁΩÆÁªÜËäÇÊÄªÁªì"><a href="#ÈáçË¶ÅÈÖçÁΩÆÁªÜËäÇÊÄªÁªì" class="headerlink" title="ÈáçË¶ÅÈÖçÁΩÆÁªÜËäÇÊÄªÁªì"></a>ÈáçË¶ÅÈÖçÁΩÆÁªÜËäÇÊÄªÁªì</h4><blockquote>
<p>‚Äã        <strong>&#x2F;{name}-{profiles}.yml</strong></p>
<p><strong>&#x2F;{label}-{name}-{profiles}.yml</strong></p>
<p><strong>labelÔºöÂàÜÊîØ(branch)</strong><br><strong>name ÔºöÊúçÂä°Âêç</strong><br><strong>profilesÔºöÁéØÂ¢É(dev&#x2F;test&#x2F;prod)</strong></p>
</blockquote>
<h2 id="ConfigÂÆ¢Êà∑Á´ØÈÖçÁΩÆ‰∏éÊµãËØï"><a href="#ConfigÂÆ¢Êà∑Á´ØÈÖçÁΩÆ‰∏éÊµãËØï" class="headerlink" title="ConfigÂÆ¢Êà∑Á´ØÈÖçÁΩÆ‰∏éÊµãËØï"></a>ConfigÂÆ¢Êà∑Á´ØÈÖçÁΩÆ‰∏éÊµãËØï</h2><h3 id="Êñ∞Âª∫cloud-config-client-3355"><a href="#Êñ∞Âª∫cloud-config-client-3355" class="headerlink" title="Êñ∞Âª∫cloud-config-client-3355"></a>Êñ∞Âª∫cloud-config-client-3355</h3><h3 id="ÊîπPOM-16"><a href="#ÊîπPOM-16" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-config-client-3355<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Êñ∞Âª∫bootstrap-yml"><a href="#Êñ∞Âª∫bootstrap-yml" class="headerlink" title="Êñ∞Âª∫bootstrap.yml"></a>Êñ∞Âª∫bootstrap.yml</h3><p>bootstrap.yml</p>
<h4 id="ÊòØ‰ªÄ‰πà-8"><a href="#ÊòØ‰ªÄ‰πà-8" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h4><blockquote>
<p>applicaiton.ymlÊòØÁî®Êà∑Á∫ßÁöÑËµÑÊ∫êÈÖçÁΩÆÈ°π<br>bootstrap.ymlÊòØÁ≥ªÁªüÁ∫ßÁöÑÔºå<strong>‰ºòÂÖàÁ∫ßÊõ¥Âä†È´ò</strong></p>
<p>Spring Cloud‰ºöÂàõÂª∫‰∏Ä‰∏™‚ÄúBootstrap Context‚ÄùÔºå‰Ωú‰∏∫SpringÂ∫îÁî®ÁöÑ<code>Application Context</code>ÁöÑ<strong>Áà∂‰∏ä‰∏ãÊñá</strong>„ÄÇÂàùÂßãÂåñÁöÑÊó∂ÂÄôÔºå<code>Bootstrap Context</code>Ë¥üË¥£‰ªé<strong>Â§ñÈÉ®Ê∫ê</strong>Âä†ËΩΩÈÖçÁΩÆÂ±ûÊÄßÂπ∂Ëß£ÊûêÈÖçÁΩÆ„ÄÇËøô‰∏§‰∏™‰∏ä‰∏ãÊñáÂÖ±‰∫´‰∏Ä‰∏™‰ªéÂ§ñÈÉ®Ëé∑ÂèñÁöÑ<code>Environment</code>„ÄÇ</p>
<p><code>Bootstrap</code>Â±ûÊÄßÊúâÈ´ò‰ºòÂÖàÁ∫ßÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÆÉ‰ª¨‰∏ç‰ºöË¢´Êú¨Âú∞ÈÖçÁΩÆË¶ÜÁõñ„ÄÇ <code>Bootstrap context</code>Âíå<code>Application Context</code>ÊúâÁùÄ‰∏çÂêåÁöÑÁ∫¶ÂÆöÔºåÊâÄ‰ª•Êñ∞Â¢û‰∫Ü‰∏Ä‰∏™<code>bootstrap.yml</code>Êñá‰ª∂Ôºå‰øùËØÅ<code>Bootstrap Context</code>Âíå<code>Application Context</code>ÈÖçÁΩÆÁöÑÂàÜÁ¶ª„ÄÇ</p>
<p><strong>Ë¶ÅÂ∞ÜClientÊ®°Âùó‰∏ãÁöÑapplication.ymlÊñá‰ª∂Êîπ‰∏∫bootstrap.yml,ËøôÊòØÂæàÂÖ≥ÈîÆÁöÑÔºå</strong><br>Âõ†‰∏∫bootstrap.ymlÊòØÊØîapplication.ymlÂÖàÂä†ËΩΩÁöÑ„ÄÇbootstrap.yml‰ºòÂÖàÁ∫ßÈ´ò‰∫éapplication.yml</p>
</blockquote>
<h4 id="ÂÜÖÂÆπ"><a href="#ÂÜÖÂÆπ" class="headerlink" title="ÂÜÖÂÆπ"></a>ÂÜÖÂÆπ</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3355</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token comment">#ConfigÂÆ¢Êà∑Á´ØÈÖçÁΩÆ</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> master <span class="token comment">#ÂàÜÊîØÂêçÁß∞</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> config <span class="token comment">#ÈÖçÁΩÆÊñá‰ª∂ÂêçÁß∞</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev <span class="token comment">#ËØªÂèñÂêéÁºÄÂêçÁß∞   ‰∏äËø∞3‰∏™ÁªºÂêàÔºömasterÂàÜÊîØ‰∏äconfig-dev.ymlÁöÑÈÖçÁΩÆÊñá‰ª∂Ë¢´ËØªÂèñhttp://config-3344.com:3344/master/config-dev.yml</span>
      <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">3344</span> <span class="token comment">#ÈÖçÁΩÆ‰∏≠ÂøÉÂú∞ÂùÄk</span>

<span class="token comment">#ÊúçÂä°Ê≥®ÂÜåÂà∞eurekaÂú∞ÂùÄ</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="ËØ¥Êòé"><a href="#ËØ¥Êòé" class="headerlink" title="ËØ¥Êòé"></a>ËØ¥Êòé</h5><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-123.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-123.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h3 id="‰øÆÊîπconfig-dev-ymlÈÖçÁΩÆÂπ∂Êèê‰∫§Âà∞GitHub‰∏≠ÔºåÊØîÂ¶ÇÂä†‰∏™ÂèòÈáèageÊàñËÄÖÁâàÊú¨Âè∑version"><a href="#‰øÆÊîπconfig-dev-ymlÈÖçÁΩÆÂπ∂Êèê‰∫§Âà∞GitHub‰∏≠ÔºåÊØîÂ¶ÇÂä†‰∏™ÂèòÈáèageÊàñËÄÖÁâàÊú¨Âè∑version" class="headerlink" title="‰øÆÊîπconfig-dev.ymlÈÖçÁΩÆÂπ∂Êèê‰∫§Âà∞GitHub‰∏≠ÔºåÊØîÂ¶ÇÂä†‰∏™ÂèòÈáèageÊàñËÄÖÁâàÊú¨Âè∑version"></a>‰øÆÊîπconfig-dev.ymlÈÖçÁΩÆÂπ∂Êèê‰∫§Âà∞GitHub‰∏≠ÔºåÊØîÂ¶ÇÂä†‰∏™ÂèòÈáèageÊàñËÄÖÁâàÊú¨Âè∑version</h3><h3 id="‰∏ªÂêØÂä®-5"><a href="#‰∏ªÂêØÂä®-5" class="headerlink" title="‰∏ªÂêØÂä®"></a>‰∏ªÂêØÂä®</h3><p>ConfigClientMain3355</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaClient</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientMain3355</span>
<span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigClientMain3355</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏öÂä°Á±ª-8"><a href="#‰∏öÂä°Á±ª-8" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h3><h4 id="ConfigClientController"><a href="#ConfigClientController" class="headerlink" title="ConfigClientController"></a>ConfigClientController</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;config.info&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/configInfo"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getConfigInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> configInfo<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊµãËØï-12"><a href="#ÊµãËØï-12" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-124.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-124.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ÂêØÂä®ConfigÈÖçÁΩÆ‰∏≠ÂøÉ3344ÂæÆÊúçÂä°Âπ∂Ëá™Êµã</p>
<p>‚Äã		<a target="_blank" rel="noopener" href="http://config-3344.com:3344/master/config-prod.yml">http://config-3344.com:3344/master/config-prod.yml</a></p>
<p>‚Äã		<a target="_blank" rel="noopener" href="http://config-3344.com:3344/master/config-dev.yml">http://config-3344.com:3344/master/config-dev.yml</a></p>
<p>ÂêØÂä®3355‰Ωú‰∏∫ClientÂáÜÂ§áËÆøÈóÆ</p>
<p>‚Äã		<a target="_blank" rel="noopener" href="http://localhost:3355/configInfo">http://localhost:3355/configInfo</a></p>
<blockquote>
<p> <strong>ÊàêÂäüÂÆûÁé∞‰∫ÜÂÆ¢Êà∑Á´Ø3355ËÆøÈóÆSpringCloud Config3344ÈÄöËøáGitHubËé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØ</strong></p>
</blockquote>
<p><strong>ÈóÆÈ¢òÈöèÊó∂ËÄåÊù•ÔºåÂàÜÂ∏ÉÂºèÈÖçÁΩÆÁöÑÂä®ÊÄÅÂà∑Êñ∞ÈóÆÈ¢ò</strong></p>
<ul>
<li>LinuxËøêÁª¥‰øÆÊîπGitHub‰∏äÁöÑÈÖçÁΩÆÊñá‰ª∂ÂÜÖÂÆπÂÅöË∞ÉÊï¥</li>
<li>Âà∑Êñ∞3344ÔºåÂèëÁé∞ConfigServerÈÖçÁΩÆ‰∏≠ÂøÉÁ´ãÂàªÂìçÂ∫î</li>
<li>Âà∑Êñ∞3355ÔºåÂèëÁé∞ConfigClientÂÆ¢Êà∑Á´ØÊ≤°Êúâ‰ªª‰ΩïÂìçÂ∫î</li>
<li>3355Ê≤°ÊúâÂèòÂåñÈô§ÈùûËá™Â∑±ÈáçÂêØÊàñËÄÖÈáçÊñ∞Âä†ËΩΩ</li>
<li>ÈöæÂà∞ÊØèÊ¨°ËøêÁª¥‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºåÂÆ¢Êà∑Á´ØÈÉΩÈúÄË¶ÅÈáçÂêØÔºüÔºüÂô©Ê¢¶</li>
</ul>
<h2 id="ConfigÂÆ¢Êà∑Á´Ø‰πãÂä®ÊÄÅÂà∑Êñ∞"><a href="#ConfigÂÆ¢Êà∑Á´Ø‰πãÂä®ÊÄÅÂà∑Êñ∞" class="headerlink" title="ConfigÂÆ¢Êà∑Á´Ø‰πãÂä®ÊÄÅÂà∑Êñ∞"></a>ConfigÂÆ¢Êà∑Á´Ø‰πãÂä®ÊÄÅÂà∑Êñ∞</h2><h3 id="ÈÅøÂÖçÊØèÊ¨°Êõ¥Êñ∞ÈÖçÁΩÆÈÉΩË¶ÅÈáçÂêØÂÆ¢Êà∑Á´ØÂæÆÊúçÂä°3355"><a href="#ÈÅøÂÖçÊØèÊ¨°Êõ¥Êñ∞ÈÖçÁΩÆÈÉΩË¶ÅÈáçÂêØÂÆ¢Êà∑Á´ØÂæÆÊúçÂä°3355" class="headerlink" title="ÈÅøÂÖçÊØèÊ¨°Êõ¥Êñ∞ÈÖçÁΩÆÈÉΩË¶ÅÈáçÂêØÂÆ¢Êà∑Á´ØÂæÆÊúçÂä°3355"></a>ÈÅøÂÖçÊØèÊ¨°Êõ¥Êñ∞ÈÖçÁΩÆÈÉΩË¶ÅÈáçÂêØÂÆ¢Êà∑Á´ØÂæÆÊúçÂä°3355</h3><h3 id="Âä®ÊÄÅÂà∑Êñ∞"><a href="#Âä®ÊÄÅÂà∑Êñ∞" class="headerlink" title="Âä®ÊÄÅÂà∑Êñ∞"></a>Âä®ÊÄÅÂà∑Êñ∞</h3><p>‚Äã	<strong>Ê≠•È™§</strong></p>
<h4 id="‰øÆÊîπ3355Ê®°Âùó"><a href="#‰øÆÊîπ3355Ê®°Âùó" class="headerlink" title="‰øÆÊîπ3355Ê®°Âùó"></a>‰øÆÊîπ3355Ê®°Âùó</h4><h4 id="POMÂºïÂÖ•actuatorÁõëÊéß"><a href="#POMÂºïÂÖ•actuatorÁõëÊéß" class="headerlink" title="POMÂºïÂÖ•actuatorÁõëÊéß"></a>POMÂºïÂÖ•actuatorÁõëÊéß</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="‰øÆÊîπYMLÔºåÊö¥Èú≤ÁõëÊéßÁ´ØÂè£"><a href="#‰øÆÊîπYMLÔºåÊö¥Èú≤ÁõëÊéßÁ´ØÂè£" class="headerlink" title="‰øÆÊîπYMLÔºåÊö¥Èú≤ÁõëÊéßÁ´ØÂè£"></a>‰øÆÊîπYMLÔºåÊö¥Èú≤ÁõëÊéßÁ´ØÂè£</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Êö¥Èú≤ÁõëÊéßÁ´ØÁÇπ</span>
<span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="RefreshScope‰∏öÂä°Á±ªController‰øÆÊîπ"><a href="#RefreshScope‰∏öÂä°Á±ªController‰øÆÊîπ" class="headerlink" title="@RefreshScope‰∏öÂä°Á±ªController‰øÆÊîπ"></a>@RefreshScope‰∏öÂä°Á±ªController‰øÆÊîπ</h4><blockquote>
<p><strong>@RefreshScope</strong></p>
</blockquote>
<h4 id="Ê≠§Êó∂‰øÆÊîπgithub‚Äî-gt-3344-‚Äî-gt-3355"><a href="#Ê≠§Êó∂‰øÆÊîπgithub‚Äî-gt-3344-‚Äî-gt-3355" class="headerlink" title="Ê≠§Êó∂‰øÆÊîπgithub‚Äî&gt; 3344 ‚Äî-&gt;3355"></a>Ê≠§Êó∂‰øÆÊîπgithub‚Äî&gt; 3344 ‚Äî-&gt;3355</h4><blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:3355/configInfo">http://localhost:3355/configInfo</a></p>
<p><strong>3355ÊîπÂèòÊ≤°ÊúâÔºüÔºüÔºü           Ê≤°ÊúâÔºå&#x2F;(„Ñío„Ñí)&#x2F;~~</strong></p>
</blockquote>
<h4 id="How"><a href="#How" class="headerlink" title="How"></a>How</h4><blockquote>
<p><strong>ÈúÄË¶ÅËøêÁª¥‰∫∫ÂëòÂèëÈÄÅPostËØ∑Ê±ÇÂà∑Êñ∞3355</strong></p>
<p>‚Äã		ÂøÖÈ°ªÊòØPOSTËØ∑Ê±Ç</p>
<blockquote>
<p>curl -X POST ‚Äú<a target="_blank" rel="noopener" href="http://localhost:3355/actuator/refresh&quot;">http://localhost:3355/actuator/refresh&quot;</a></p>
</blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-125.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-125.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h4 id="ÂÜçÊ¨°"><a href="#ÂÜçÊ¨°" class="headerlink" title="ÂÜçÊ¨°"></a>ÂÜçÊ¨°</h4><blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:3355/configInfo">http://localhost:3355/configInfo</a>	OKÔºåO(‚à©_‚à©)O</p>
<p><strong>ÊàêÂäüÂÆûÁé∞‰∫ÜÂÆ¢Êà∑Á´Ø3355Âà∑Êñ∞Âà∞ÊúÄÊñ∞ÈÖçÁΩÆÂÜÖÂÆπ</strong> 		<strong>ÈÅøÂÖç‰∫ÜÊúçÂä°ÈáçÂêØ</strong></p>
</blockquote>
<h3 id="ÊÉ≥ÊÉ≥ËøòÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºü"><a href="#ÊÉ≥ÊÉ≥ËøòÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºü" class="headerlink" title="ÊÉ≥ÊÉ≥ËøòÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºü"></a>ÊÉ≥ÊÉ≥ËøòÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºü</h3><ul>
<li>ÂÅáÂ¶ÇÊúâÂ§ö‰∏™ÂæÆÊúçÂä°ÂÆ¢Êà∑Á´Ø3355&#x2F;3366&#x2F;3377„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ</li>
<li>ÊØè‰∏™ÂæÆÊúçÂä°ÈÉΩË¶ÅÊâßË°å‰∏ÄÊ¨°postËØ∑Ê±ÇÔºåÊâãÂä®Âà∑Êñ∞Ôºü</li>
<li>ÂèØÂê¶ÂπøÊí≠Ôºå‰∏ÄÊ¨°ÈÄöÁü•ÔºåÂ§ÑÂ§ÑÁîüÊïàÔºü</li>
<li>Êàë‰ª¨ÊÉ≥Â§ßËåÉÂõ¥ÁöÑËá™Âä®Âà∑Êñ∞ÔºåÊ±ÇÊñπÊ≥ï</li>
</ul>
<h1 id="SpringCloud-Bus-Ê∂àÊÅØÊÄªÁ∫ø"><a href="#SpringCloud-Bus-Ê∂àÊÅØÊÄªÁ∫ø" class="headerlink" title="SpringCloud Bus Ê∂àÊÅØÊÄªÁ∫ø"></a>SpringCloud Bus Ê∂àÊÅØÊÄªÁ∫ø</h1><h2 id="Ê¶ÇËø∞-6"><a href="#Ê¶ÇËø∞-6" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h2><h3 id="‰∏ä‰∏ÄËÆ≤Ëß£ÁöÑÂä†Ê∑±ÂíåÊâ©ÂÖÖÔºå‰∏ÄË®Ä‰ª•ËîΩ‰πã"><a href="#‰∏ä‰∏ÄËÆ≤Ëß£ÁöÑÂä†Ê∑±ÂíåÊâ©ÂÖÖÔºå‰∏ÄË®Ä‰ª•ËîΩ‰πã" class="headerlink" title="‰∏ä‰∏ÄËÆ≤Ëß£ÁöÑÂä†Ê∑±ÂíåÊâ©ÂÖÖÔºå‰∏ÄË®Ä‰ª•ËîΩ‰πã"></a>‰∏ä‰∏ÄËÆ≤Ëß£ÁöÑÂä†Ê∑±ÂíåÊâ©ÂÖÖÔºå‰∏ÄË®Ä‰ª•ËîΩ‰πã</h3><blockquote>
<p><strong>ÂàÜÂ∏ÉÂºèËá™Âä®Âà∑Êñ∞ÈÖçÁΩÆÂäüËÉΩ</strong></p>
<p><strong>Spring Cloud Bus ÈÖçÂêà Spring Cloud Config ‰ΩøÁî®ÂèØ‰ª•ÂÆûÁé∞ÈÖçÁΩÆÁöÑÂä®ÊÄÅÂà∑Êñ∞„ÄÇ</strong></p>
</blockquote>
<h3 id="ÊòØ‰ªÄ‰πà-9"><a href="#ÊòØ‰ªÄ‰πà-9" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><blockquote>
<p><strong>Spring Cloud Bus ÈÖçÂêà Spring Cloud Config ‰ΩøÁî®ÂèØ‰ª•ÂÆûÁé∞ÈÖçÁΩÆÁöÑÂä®ÊÄÅÂà∑Êñ∞„ÄÇ</strong></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-126.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-126.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>Spring Cloud BusÊòØÁî®Êù•Â∞ÜÂàÜÂ∏ÉÂºèÁ≥ªÁªüÁöÑËäÇÁÇπ‰∏éËΩªÈáèÁ∫ßÊ∂àÊÅØÁ≥ªÁªüÈìæÊé•Ëµ∑Êù•ÁöÑÊ°ÜÊû∂Ôºå</strong><br><strong>ÂÆÉÊï¥Âêà‰∫ÜJavaÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÊú∫Âà∂ÂíåÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑÂäüËÉΩ„ÄÇ</strong><br><strong>Spring Clud BusÁõÆÂâçÊîØÊåÅRabbitMQÂíåKafka„ÄÇ</strong></p>
<p><strong>BusÊîØÊåÅ‰∏§ÁßçÊ∂àÊÅØ‰ª£ÁêÜÔºöRabbitMQ Âíå Kafka</strong></p>
</blockquote>
<h3 id="ËÉΩÂπ≤Âòõ-8"><a href="#ËÉΩÂπ≤Âòõ-8" class="headerlink" title="ËÉΩÂπ≤Âòõ"></a>ËÉΩÂπ≤Âòõ</h3><blockquote>
<p><strong>Spring Cloud BusËÉΩÁÆ°ÁêÜÂíå‰º†Êí≠ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÈó¥ÁöÑÊ∂àÊÅØÔºåÂ∞±ÂÉè‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÊâßË°åÂô®ÔºåÂèØÁî®‰∫éÂπøÊí≠Áä∂ÊÄÅÊõ¥Êîπ„ÄÅ‰∫ã‰ª∂Êé®ÈÄÅÁ≠âÔºå‰πüÂèØ‰ª•ÂΩì‰ΩúÂæÆÊúçÂä°Èó¥ÁöÑÈÄö‰ø°ÈÄöÈÅì„ÄÇ</strong></p>
<p> <img src="/image/Learn-SpringCloud/Learn-SpringCloud-127.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-127.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h3 id="‰∏∫‰ΩïË¢´Áß∞‰∏∫ÊÄªÁ∫ø"><a href="#‰∏∫‰ΩïË¢´Áß∞‰∏∫ÊÄªÁ∫ø" class="headerlink" title="‰∏∫‰ΩïË¢´Áß∞‰∏∫ÊÄªÁ∫ø"></a>‰∏∫‰ΩïË¢´Áß∞‰∏∫ÊÄªÁ∫ø</h3><blockquote>
<p><strong>‰ªÄ‰πàÊòØÊÄªÁ∫ø</strong><br>Âú®ÂæÆÊúçÂä°Êû∂ÊûÑÁöÑÁ≥ªÁªü‰∏≠ÔºåÈÄöÂ∏∏‰ºö‰ΩøÁî®<strong>ËΩªÈáèÁ∫ßÁöÑÊ∂àÊÅØ‰ª£ÁêÜ</strong>Êù•ÊûÑÂª∫‰∏Ä‰∏™<strong>ÂÖ±Áî®ÁöÑÊ∂àÊÅØ‰∏ªÈ¢ò</strong>ÔºåÂπ∂ËÆ©Á≥ªÁªü‰∏≠ÊâÄÊúâÂæÆÊúçÂä°ÂÆû‰æãÈÉΩËøûÊé•‰∏äÊù•„ÄÇÁî±‰∫é<strong>ËØ•‰∏ªÈ¢ò‰∏≠‰∫ßÁîüÁöÑÊ∂àÊÅØ‰ºöË¢´ÊâÄÊúâÂÆû‰æãÁõëÂê¨ÂíåÊ∂àË¥πÔºåÊâÄ‰ª•Áß∞ÂÆÉ‰∏∫Ê∂àÊÅØÊÄªÁ∫ø</strong>„ÄÇÂú®ÊÄªÁ∫ø‰∏äÁöÑÂêÑ‰∏™ÂÆû‰æãÔºåÈÉΩÂèØ‰ª•Êñπ‰æøÂú∞ÂπøÊí≠‰∏Ä‰∫õÈúÄË¶ÅËÆ©ÂÖ∂‰ªñËøûÊé•Âú®ËØ•‰∏ªÈ¢ò‰∏äÁöÑÂÆû‰æãÈÉΩÁü•ÈÅìÁöÑÊ∂àÊÅØ„ÄÇ</p>
<p><strong>Âü∫Êú¨ÂéüÁêÜ</strong><br>ConfigClientÂÆû‰æãÈÉΩÁõëÂê¨MQ‰∏≠Âêå‰∏Ä‰∏™topic(ÈªòËÆ§ÊòØspringCloudBus)„ÄÇÂΩì‰∏Ä‰∏™ÊúçÂä°Âà∑Êñ∞Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂÆÉ‰ºöÊääËøô‰∏™‰ø°ÊÅØÊîæÂÖ•Âà∞Topic‰∏≠ÔºåËøôÊ†∑ÂÖ∂ÂÆÉÁõëÂê¨Âêå‰∏ÄTopicÁöÑÊúçÂä°Â∞±ËÉΩÂæóÂà∞ÈÄöÁü•ÔºåÁÑ∂ÂêéÂéªÊõ¥Êñ∞Ëá™Ë∫´ÁöÑÈÖçÁΩÆ„ÄÇ</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av55976700?from=search&amp;seid=15010075915728605208">https://www.bilibili.com/video/av55976700?from=search&amp;seid=15010075915728605208</a></p>
</blockquote>
<h2 id="RabbitMQÁéØÂ¢ÉÈÖçÁΩÆ"><a href="#RabbitMQÁéØÂ¢ÉÈÖçÁΩÆ" class="headerlink" title="RabbitMQÁéØÂ¢ÉÈÖçÁΩÆ"></a>RabbitMQÁéØÂ¢ÉÈÖçÁΩÆ</h2><p>ÂÆâË£ÖErlangÔºå‰∏ãËΩΩÂú∞ÂùÄÔºö<a target="_blank" rel="noopener" href="http://erlang.org/download/otp_win64_22.3.exe">http://erlang.org/download/otp_win64_22.3.exe</a></p>
<p><a href="https://link.zhihu.com/?target=https://wwr.lanzoui.com/iFPxrq03vxi">https://link.zhihu.com/?target=https%3A//wwr.lanzoui.com/iFPxrq03vxi</a>   ÂØÜÁ†Å:3bvp</p>
<blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-128.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-128.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-129.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-129.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-130.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-130.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-131.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-131.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<p>ÂÆâË£ÖRabbitMQÔºå‰∏ãËΩΩÂú∞ÂùÄÔºö</p>
<p>(<a target="_blank" rel="noopener" href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.3">https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.3</a>)</p>
<blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-132.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-132.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-133.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-133.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<p>ËøõÂÖ•RabbitMQÂÆâË£ÖÁõÆÂΩï‰∏ãÁöÑsbinÁõÆÂΩï</p>
<blockquote>
<p>D:\devSoft\RabbitMQ Server\rabbitmq_server-3.7.14\sbin</p>
<blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-134.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-134.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
</blockquote>
<p>ËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§ÂêØÂä®ÁÆ°ÁêÜÂäüËÉΩ</p>
<blockquote>
<p>rabbitmq-plugins enable rabbitmq_management</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-135.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-135.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>ÂèØËßÜÂåñÊèí‰ª∂</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-136.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-136.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<p>ËÆøÈóÆÂú∞ÂùÄÊü•ÁúãÊòØÂê¶ÂÆâË£ÖÊàêÂäüÔºö</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672/</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-137.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-137.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<p>ËæìÂÖ•Ë¥¶Âè∑ÂØÜÁ†ÅÂπ∂ÁôªÂΩïÔºöguest guest</p>
<h2 id="SpringCloud-BusÂä®ÊÄÅÂà∑Êñ∞ÂÖ®Â±ÄÂπøÊí≠"><a href="#SpringCloud-BusÂä®ÊÄÅÂà∑Êñ∞ÂÖ®Â±ÄÂπøÊí≠" class="headerlink" title="SpringCloud BusÂä®ÊÄÅÂà∑Êñ∞ÂÖ®Â±ÄÂπøÊí≠"></a>SpringCloud BusÂä®ÊÄÅÂà∑Êñ∞ÂÖ®Â±ÄÂπøÊí≠</h2><h3 id="ÂøÖÈ°ªÂÖàÂÖ∑Â§áËâØÂ•ΩÁöÑRabbitMQÁéØÂ¢É"><a href="#ÂøÖÈ°ªÂÖàÂÖ∑Â§áËâØÂ•ΩÁöÑRabbitMQÁéØÂ¢É" class="headerlink" title="ÂøÖÈ°ªÂÖàÂÖ∑Â§áËâØÂ•ΩÁöÑRabbitMQÁéØÂ¢É"></a>ÂøÖÈ°ªÂÖàÂÖ∑Â§áËâØÂ•ΩÁöÑRabbitMQÁéØÂ¢É</h3><h3 id="ÊºîÁ§∫ÂπøÊí≠ÊïàÊûúÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶ÔºåÂÜç‰ª•3355‰∏∫Ê®°ÊùøÂÜçÂà∂‰Ωú‰∏Ä‰∏™3366"><a href="#ÊºîÁ§∫ÂπøÊí≠ÊïàÊûúÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶ÔºåÂÜç‰ª•3355‰∏∫Ê®°ÊùøÂÜçÂà∂‰Ωú‰∏Ä‰∏™3366" class="headerlink" title="ÊºîÁ§∫ÂπøÊí≠ÊïàÊûúÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶ÔºåÂÜç‰ª•3355‰∏∫Ê®°ÊùøÂÜçÂà∂‰Ωú‰∏Ä‰∏™3366"></a>ÊºîÁ§∫ÂπøÊí≠ÊïàÊûúÔºåÂ¢ûÂä†Â§çÊùÇÂ∫¶ÔºåÂÜç‰ª•3355‰∏∫Ê®°ÊùøÂÜçÂà∂‰Ωú‰∏Ä‰∏™3366</h3><h4 id="Êñ∞Âª∫cloud-config-client-3366"><a href="#Êñ∞Âª∫cloud-config-client-3366" class="headerlink" title="Êñ∞Âª∫cloud-config-client-3366"></a>Êñ∞Âª∫cloud-config-client-3366</h4><h4 id="ÊîπPOM-17"><a href="#ÊîπPOM-17" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-config-client-3366<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-22"><a href="#ÊîπYML-22" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><h5 id="bootstrap-yml"><a href="#bootstrap-yml" class="headerlink" title="bootstrap.yml"></a>bootstrap.yml</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"> 
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">3366</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>client
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token comment">#ConfigÂÆ¢Êà∑Á´ØÈÖçÁΩÆ</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> master <span class="token comment">#ÂàÜÊîØÂêçÁß∞</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> config <span class="token comment">#ÈÖçÁΩÆÊñá‰ª∂ÂêçÁß∞</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev <span class="token comment">#ËØªÂèñÂêéÁºÄÂêçÁß∞   ‰∏äËø∞3‰∏™ÁªºÂêàÔºömasterÂàÜÊîØ‰∏äconfig-dev.ymlÁöÑÈÖçÁΩÆÊñá‰ª∂Ë¢´ËØªÂèñhttp://config-3344.com:3344/master/config-dev.yml</span>
      <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">3344</span> <span class="token comment">#ÈÖçÁΩÆ‰∏≠ÂøÉÂú∞ÂùÄ</span>

<span class="token comment">#ÊúçÂä°Ê≥®ÂÜåÂà∞eurekaÂú∞ÂùÄ</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka

<span class="token comment"># Êö¥Èú≤ÁõëÊéßÁ´ØÁÇπ</span>
<span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">"*"</span>
 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h4 id="‰∏ªÂêØÂä®-6"><a href="#‰∏ªÂêØÂä®-6" class="headerlink" title="‰∏ªÂêØÂä®"></a>‰∏ªÂêØÂä®</h4><h5 id="ConfigClientMain3366"><a href="#ConfigClientMain3366" class="headerlink" title="ConfigClientMain3366"></a>ConfigClientMain3366</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaClient</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@EnableEurekaClient</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientMain3366</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigClientMain3366</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="controller-3"><a href="#controller-3" class="headerlink" title="controller"></a>controller</h4><h5 id="ConfigClientController-1"><a href="#ConfigClientController-1" class="headerlink" title="ConfigClientController"></a>ConfigClientController</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>context<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RefreshScope</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RefreshScope</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigClientController</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;config.info&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> configInfo<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/configInfo"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">configInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">"serverPort: "</span><span class="token operator">+</span>serverPort<span class="token operator">+</span><span class="token string">"\t\n\n configInfo: "</span><span class="token operator">+</span>configInfo<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

<span class="token punctuation">&#125;</span>
 
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="ËÆæËÆ°ÊÄùÊÉ≥"><a href="#ËÆæËÆ°ÊÄùÊÉ≥" class="headerlink" title="ËÆæËÆ°ÊÄùÊÉ≥"></a>ËÆæËÆ°ÊÄùÊÉ≥</h3><blockquote>
<p>1ÔºâÂà©Áî®Ê∂àÊÅØÊÄªÁ∫øËß¶Âèë‰∏Ä‰∏™ÂÆ¢Êà∑Á´Ø&#x2F;bus&#x2F;refresh,ËÄåÂà∑Êñ∞ÊâÄÊúâÂÆ¢Êà∑Á´ØÁöÑÈÖçÁΩÆ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-138.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-138.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>2ÔºâÂà©Áî®Ê∂àÊÅØÊÄªÁ∫øËß¶Âèë‰∏Ä‰∏™ÊúçÂä°Á´ØConfigServerÁöÑ&#x2F;bus&#x2F;refreshÁ´ØÁÇπÔºåËÄåÂà∑Êñ∞ÊâÄÊúâÂÆ¢Êà∑Á´ØÁöÑÈÖçÁΩÆ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-139.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-139.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>Âõæ‰∫åÁöÑÊû∂ÊûÑÊòæÁÑ∂Êõ¥Âä†ÈÄÇÂêàÔºåÂõæ‰∏Ä‰∏çÈÄÇÂêàÁöÑÂéüÂõ†Â¶Ç‰∏ã</strong></p>
<blockquote>
<p><strong>ÊâìÁ†¥‰∫ÜÂæÆÊúçÂä°ÁöÑËÅåË¥£Âçï‰∏ÄÊÄßÔºåÂõ†‰∏∫ÂæÆÊúçÂä°Êú¨Ë∫´ÊòØ‰∏öÂä°Ê®°ÂùóÔºåÂÆÉÊú¨‰∏çÂ∫îËØ•ÊâøÊãÖÈÖçÁΩÆÂà∑Êñ∞ÁöÑËÅåË¥£„ÄÇ</strong></p>
<p><strong>Á†¥Âùè‰∫ÜÂæÆÊúçÂä°ÂêÑËäÇÁÇπÁöÑÂØπÁ≠âÊÄß„ÄÇ</strong></p>
<p><strong>Êúâ‰∏ÄÂÆöÁöÑÂ±ÄÈôêÊÄß„ÄÇ‰æãÂ¶ÇÔºåÂæÆÊúçÂä°Âú®ËøÅÁßªÊó∂ÔºåÂÆÉÁöÑÁΩëÁªúÂú∞ÂùÄÂ∏∏Â∏∏‰ºöÂèëÁîüÂèòÂåñÔºåÊ≠§Êó∂Â¶ÇÊûúÊÉ≥Ë¶ÅÂÅöÂà∞Ëá™Âä®Âà∑Êñ∞ÔºåÈÇ£Â∞±‰ºöÂ¢ûÂä†Êõ¥Â§öÁöÑ‰øÆÊîπ</strong></p>
</blockquote>
</blockquote>
<h3 id="Áªôcloud-config-center-3344ÈÖçÁΩÆ‰∏≠ÂøÉÊúçÂä°Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ"><a href="#Áªôcloud-config-center-3344ÈÖçÁΩÆ‰∏≠ÂøÉÊúçÂä°Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ" class="headerlink" title="Áªôcloud-config-center-3344ÈÖçÁΩÆ‰∏≠ÂøÉÊúçÂä°Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ"></a>Áªôcloud-config-center-3344ÈÖçÁΩÆ‰∏≠ÂøÉÊúçÂä°Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ</h3><h4 id="ÊîπPOM-18"><a href="#ÊîπPOM-18" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"> <span class="token comment">&lt;!--Ê∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øRabbitMQÊîØÊåÅ--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-23"><a href="#ÊîπYML-23" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">##rabbitmqÁõ∏ÂÖ≥ÈÖçÁΩÆ,Êö¥Èú≤busÂà∑Êñ∞ÈÖçÁΩÆÁöÑÁ´ØÁÇπ</span>
<span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span> <span class="token comment">#Êö¥Èú≤busÂà∑Êñ∞ÈÖçÁΩÆÁöÑÁ´ØÁÇπ</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">'bus-refresh'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Áªôcloud-config-client-3355ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ"><a href="#Áªôcloud-config-client-3355ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ" class="headerlink" title="Áªôcloud-config-client-3355ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ"></a>Áªôcloud-config-client-3355ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ</h3><h4 id="ÊîπPOM-19"><a href="#ÊîπPOM-19" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"> <span class="token comment">&lt;!--Ê∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øRabbitMQÊîØÊåÅ--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-24"><a href="#ÊîπYML-24" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
<span class="token comment">#rabbitmqÁõ∏ÂÖ≥ÈÖçÁΩÆ 15672ÊòØWebÁÆ°ÁêÜÁïåÈù¢ÁöÑÁ´ØÂè£Ôºõ5672ÊòØMQËÆøÈóÆÁöÑÁ´ØÂè£</span>
  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> guest
    <span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="Áªôcloud-config-client-3366ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ"><a href="#Áªôcloud-config-client-3366ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ" class="headerlink" title="Áªôcloud-config-client-3366ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ"></a>Áªôcloud-config-client-3366ÂÆ¢Êà∑Á´ØÊ∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øÊîØÊåÅ</h3><h4 id="ÊîπPOM-20"><a href="#ÊîπPOM-20" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"> <span class="token comment">&lt;!--Ê∑ªÂä†Ê∂àÊÅØÊÄªÁ∫øRabbitMQÊîØÊåÅ--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-25"><a href="#ÊîπYML-25" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
<span class="token comment">#rabbitmqÁõ∏ÂÖ≥ÈÖçÁΩÆ 15672ÊòØWebÁÆ°ÁêÜÁïåÈù¢ÁöÑÁ´ØÂè£Ôºõ5672ÊòØMQËÆøÈóÆÁöÑÁ´ØÂè£</span>
  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> guest
    <span class="token key atrule">password</span><span class="token punctuation">:</span> guest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊµãËØï-13"><a href="#ÊµãËØï-13" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><p><strong>ËøêÁª¥Â∑•Á®ãÂ∏à</strong></p>
<p>‚Äã	<strong>‰øÆÊîπGithub‰∏äÈÖçÁΩÆÊñá‰ª∂Â¢ûÂä†ÁâàÊú¨Âè∑</strong></p>
<p>‚Äã	<strong>ÂèëÈÄÅPOSTËØ∑Ê±Ç curl -X POST ‚Äú<a target="_blank" rel="noopener" href="http://localhost:3344/actuator/bus-refresh&quot;">http://localhost:3344/actuator/bus-refresh&quot;</a></strong> </p>
<p><strong><img src="/image/Learn-SpringCloud/Learn-SpringCloud-140.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-140.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></strong></p>
<p>‚Äã	<strong>‰∏ÄÊ¨°ÂèëÈÄÅÔºåÂ§ÑÂ§ÑÁîüÊïà</strong></p>
<p><strong>ÈÖçÁΩÆ‰∏≠ÂøÉ</strong></p>
<p>‚Äã	<a target="_blank" rel="noopener" href="http://config-3344.com:3344/config-dev.yml">http://config-3344.com:3344/config-dev.yml</a></p>
<p><strong>ÂÆ¢Êà∑Á´Ø</strong></p>
<p>‚Äã	<a target="_blank" rel="noopener" href="http://localhost:3355/configInfo">http://localhost:3355/configInfo</a></p>
<p>‚Äã	<a target="_blank" rel="noopener" href="http://localhost:3366/configInfo">http://localhost:3366/configInfo</a></p>
<p>‚Äã	Ëé∑ÂèñÈÖçÁΩÆ‰ø°ÊÅØÔºåÂèëÁé∞ÈÉΩÂ∑≤ÁªèÂà∑Êñ∞‰∫Ü</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-141.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-141.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p> <strong>‰∏ÄÊ¨°‰øÆÊîπÔºåÂπøÊí≠ÈÄöÁü•ÔºåÂ§ÑÂ§ÑÁîüÊïà O(‚à©_‚à©)O</strong></p>
</blockquote>
<h2 id="SpringCloud-BusÂä®ÊÄÅÂà∑Êñ∞ÂÆöÁÇπÈÄöÁü•"><a href="#SpringCloud-BusÂä®ÊÄÅÂà∑Êñ∞ÂÆöÁÇπÈÄöÁü•" class="headerlink" title="SpringCloud BusÂä®ÊÄÅÂà∑Êñ∞ÂÆöÁÇπÈÄöÁü•"></a>SpringCloud BusÂä®ÊÄÅÂà∑Êñ∞ÂÆöÁÇπÈÄöÁü•</h2><h3 id="‰∏çÊÉ≥ÂÖ®ÈÉ®ÈÄöÁü•ÔºåÂè™ÊÉ≥ÂÆöÁÇπÈÄöÁü•"><a href="#‰∏çÊÉ≥ÂÖ®ÈÉ®ÈÄöÁü•ÔºåÂè™ÊÉ≥ÂÆöÁÇπÈÄöÁü•" class="headerlink" title="‰∏çÊÉ≥ÂÖ®ÈÉ®ÈÄöÁü•ÔºåÂè™ÊÉ≥ÂÆöÁÇπÈÄöÁü•"></a>‰∏çÊÉ≥ÂÖ®ÈÉ®ÈÄöÁü•ÔºåÂè™ÊÉ≥ÂÆöÁÇπÈÄöÁü•</h3><p>‚Äã	Âè™ÈÄöÁü•3355 ‰∏çÈÄöÁü•3366</p>
<h3 id="ÁÆÄÂçï‰∏ÄÂè•ËØù"><a href="#ÁÆÄÂçï‰∏ÄÂè•ËØù" class="headerlink" title="ÁÆÄÂçï‰∏ÄÂè•ËØù"></a>ÁÆÄÂçï‰∏ÄÂè•ËØù</h3><p>‚Äã	ÊåáÂÆöÂÖ∑‰ΩìÊüê‰∏Ä‰∏™ÂÆû‰æãÁîüÊïàËÄå‰∏çÊòØÂÖ®ÈÉ® </p>
<p>‚Äã	ÂÖ¨ÂºèÔºö<a href="http://localhost:ÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÁ´ØÂè£Âè∑/actuator/bus-refresh/**{destination}">http://localhost:ÈÖçÁΩÆ‰∏≠ÂøÉÁöÑÁ´ØÂè£Âè∑/actuator/bus-refresh/**{destination}</a>**</p>
<p>‚Äã	&#x2F;bus&#x2F;refreshËØ∑Ê±Ç‰∏çÂÜçÂèëÈÄÅÂà∞ÂÖ∑‰ΩìÁöÑÊúçÂä°ÂÆû‰æã‰∏äÔºåËÄåÊòØÂèëÁªôconfig serverÂπ∂ÈÄöËøádestinationÂèÇÊï∞Á±ªÊåáÂÆöÈúÄË¶ÅÊõ¥Êñ∞ÈÖçÁΩÆÁöÑÊúçÂä°ÊàñÂÆû‰æã</p>
<h3 id="Ê°à‰æã"><a href="#Ê°à‰æã" class="headerlink" title="Ê°à‰æã"></a>Ê°à‰æã</h3><p>‚Äã	Êàë‰ª¨ËøôÈáå‰ª•Âà∑Êñ∞ËøêË°åÂú®3355Á´ØÂè£‰∏äÁöÑconfig-client‰∏∫‰æã  </p>
<p>‚Äã			Âè™ÈÄöÁü•3355 ‰∏çÈÄöÁü•3366</p>
<p>‚Äã						ÂæÆÊúçÂä°ÂêçÁß∞+Á´ØÂè£Âè∑</p>
<p>‚Äã						curl -X POST ‚Äú<a target="_blank" rel="noopener" href="http://localhost:3344/actuator/bus-refresh/config-client:3355&quot;">http://localhost:3344/actuator/bus-refresh/config-client:3355&quot;</a></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-142.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-142.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h3 id="ÈÄöÁü•ÊÄªÁªìAll"><a href="#ÈÄöÁü•ÊÄªÁªìAll" class="headerlink" title="ÈÄöÁü•ÊÄªÁªìAll"></a>ÈÄöÁü•ÊÄªÁªìAll</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-143.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-143.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h1 id="SpringCloud-StreamÊ∂àÊÅØÈ©±Âä®"><a href="#SpringCloud-StreamÊ∂àÊÅØÈ©±Âä®" class="headerlink" title="SpringCloud StreamÊ∂àÊÅØÈ©±Âä®"></a>SpringCloud StreamÊ∂àÊÅØÈ©±Âä®</h1><h2 id="Ê∂àÊÅØÈ©±Âä®Ê¶ÇËø∞"><a href="#Ê∂àÊÅØÈ©±Âä®Ê¶ÇËø∞" class="headerlink" title="Ê∂àÊÅØÈ©±Âä®Ê¶ÇËø∞"></a>Ê∂àÊÅØÈ©±Âä®Ê¶ÇËø∞</h2><h3 id="ÊòØ‰ªÄ‰πà-10"><a href="#ÊòØ‰ªÄ‰πà-10" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><h4 id="‰∏ÄÂè•ËØù"><a href="#‰∏ÄÂè•ËØù" class="headerlink" title="‰∏ÄÂè•ËØù"></a>‰∏ÄÂè•ËØù</h4><blockquote>
<p><strong>‰ªÄ‰πàÊòØSpringCloudStream</strong><br>ÂÆòÊñπÂÆö‰πâ Spring Cloud Stream ÊòØ‰∏Ä‰∏™ÊûÑÂª∫Ê∂àÊÅØÈ©±Âä®ÂæÆÊúçÂä°ÁöÑÊ°ÜÊû∂„ÄÇ</p>
<p>Â∫îÁî®Á®ãÂ∫èÈÄöËøá inputs ÊàñËÄÖ outputs Êù•‰∏é Spring Cloud Stream‰∏≠binderÂØπË±°‰∫§‰∫í„ÄÇ<br>ÈÄöËøáÊàë‰ª¨ÈÖçÁΩÆÊù•binding(ÁªëÂÆö) ÔºåËÄå Spring Cloud Stream ÁöÑ binderÂØπË±°Ë¥üË¥£‰∏éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂‰∫§‰∫í„ÄÇ<br>ÊâÄ‰ª•ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÊêûÊ∏ÖÊ•öÂ¶Ç‰Ωï‰∏é Spring Cloud Stream ‰∫§‰∫íÂ∞±ÂèØ‰ª•Êñπ‰æø‰ΩøÁî®Ê∂àÊÅØÈ©±Âä®ÁöÑÊñπÂºè„ÄÇ</p>
<p>ÈÄöËøá‰ΩøÁî®Spring IntegrationÊù•ËøûÊé•Ê∂àÊÅØ‰ª£ÁêÜ‰∏≠Èó¥‰ª∂‰ª•ÂÆûÁé∞Ê∂àÊÅØ‰∫ã‰ª∂È©±Âä®„ÄÇ<br>Spring Cloud Stream ‰∏∫‰∏Ä‰∫õ‰æõÂ∫îÂïÜÁöÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂‰∫ßÂìÅÊèê‰æõ‰∫Ü‰∏™ÊÄßÂåñÁöÑËá™Âä®ÂåñÈÖçÁΩÆÂÆûÁé∞ÔºåÂºïÁî®‰∫ÜÂèëÂ∏É-ËÆ¢ÈòÖ„ÄÅÊ∂àË¥πÁªÑ„ÄÅÂàÜÂå∫ÁöÑ‰∏â‰∏™Ê†∏ÂøÉÊ¶ÇÂøµ„ÄÇ</p>
<p><strong>ÁõÆÂâç‰ªÖÊîØÊåÅRabbitMQ„ÄÅKafka„ÄÇ</strong></p>
<p><strong>Â±èËîΩÂ∫ïÂ±ÇÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑÂ∑ÆÂºÇ,Èôç‰ΩéÂàáÊç¢ÊàêÊú¨ÔºåÁªü‰∏ÄÊ∂àÊÅØÁöÑÁºñÁ®ãÊ®°Âûã</strong></p>
</blockquote>
<hr>
<h4 id="ÂÆòÁΩë-4"><a href="#ÂÆòÁΩë-4" class="headerlink" title="ÂÆòÁΩë"></a>ÂÆòÁΩë</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://spring.io/projects/spring-cloud-stream#overview">https://spring.io/projects/spring-cloud-stream#overview</a></p>
<p> Spring Cloud StreamÊòØÁî®‰∫éÊûÑÂª∫‰∏éÂÖ±‰∫´Ê∂àÊÅØ‰º†ÈÄíÁ≥ªÁªüËøûÊé•ÁöÑÈ´òÂ∫¶ÂèØ‰º∏Áº©ÁöÑ‰∫ã‰ª∂È©±Âä®ÂæÆÊúçÂä°Ê°ÜÊû∂ÔºåËØ•Ê°ÜÊû∂Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÅµÊ¥ªÁöÑÁºñÁ®ãÊ®°ÂûãÔºåÂÆÉÂª∫Á´ãÂú®Â∑≤ÁªèÂª∫Á´ãÂíåÁÜüÊÇâÁöÑSpringÁÜüËØ≠ÂíåÊúÄ‰Ω≥ÂÆûË∑µ‰∏äÔºåÂåÖÊã¨ÊîØÊåÅÊåÅ‰πÖÂåñÁöÑÂèëÂ∏É&#x2F;ËÆ¢ÈòÖ„ÄÅÊ∂àË¥πÁªÑ‰ª•ÂèäÊ∂àÊÅØÂàÜÂå∫Ëøô‰∏â‰∏™Ê†∏ÂøÉÊ¶ÇÂøµ</p>
<p> <img src="/image/Learn-SpringCloud/Learn-SpringCloud-144.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-144.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>[Spring Cloud Stream RabbitMQ Binder Reference Guide] (<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-cloud-stream-binder-rabbit/docs/3.0.10.RELEASE/reference/html/spring-cloud-stream-binder-rabbit.html">https://docs.spring.io/spring-cloud-stream-binder-rabbit/docs/3.0.10.RELEASE/reference/html/spring-cloud-stream-binder-rabbit.html</a>)</p>
<p>Spring Cloud Stream‰∏≠ÊñáÊåáÂØºÊâãÂÜå</p>
<p><a target="_blank" rel="noopener" href="https://m.wang1314.com/doc/webapp/topic/20971999.html">https://m.wang1314.com/doc/webapp/topic/20971999.html</a></p>
</blockquote>
<h3 id="ËÆæËÆ°ÊÄùÊÉ≥-1"><a href="#ËÆæËÆ°ÊÄùÊÉ≥-1" class="headerlink" title="ËÆæËÆ°ÊÄùÊÉ≥"></a>ËÆæËÆ°ÊÄùÊÉ≥</h3><h4 id="Ê†áÂáÜMQ"><a href="#Ê†áÂáÜMQ" class="headerlink" title="Ê†áÂáÜMQ"></a>Ê†áÂáÜMQ</h4><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-145.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-145.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<ul>
<li>Áîü‰∫ßËÄÖ&#x2F;Ê∂àË¥πËÄÖ‰πãÈó¥Èù†Ê∂àÊÅØÂ™í‰ªã‰º†ÈÄí<strong>‰ø°ÊÅØ</strong>ÂÜÖÂÆπ‚ÄîMessage</li>
<li>Ê∂àÊÅØÂøÖÈ°ªËµ∞ÁâπÂÆöÁöÑ<strong>ÈÄöÈÅì</strong>‚ÄîÊ∂àÊÅØÈÄöÈÅìMessageChannel</li>
<li>Ê∂àÊÅØÈÄöÈÅìÈáåÁöÑÊ∂àÊÅØÂ¶Ç‰ΩïË¢´Ê∂àË¥πÂë¢ÔºåË∞ÅË¥üË¥£Êî∂Âèë<strong>Â§ÑÁêÜ</strong>‚ÄîÊ∂àÊÅØÈÄöÈÅìMessageChannelÁöÑÂ≠êÊé•Âè£SubscribableChannelÔºåÁî±MessageHandlerÊ∂àÊÅØÂ§ÑÁêÜÂô®ÊâÄËÆ¢ÈòÖ</li>
</ul>
</blockquote>
<h4 id="‰∏∫‰ªÄ‰πàÁî®Cloud-Stream"><a href="#‰∏∫‰ªÄ‰πàÁî®Cloud-Stream" class="headerlink" title="‰∏∫‰ªÄ‰πàÁî®Cloud Stream"></a>‰∏∫‰ªÄ‰πàÁî®Cloud Stream</h4><p>ÊØîÊñπËØ¥Êàë‰ª¨Áî®Âà∞‰∫ÜRabbitMQÂíåKafkaÔºåÁî±‰∫éËøô‰∏§‰∏™Ê∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑÊû∂ÊûÑ‰∏äÁöÑ‰∏çÂêåÔºå<br>ÂÉèRabbitMQÊúâexchangeÔºåkafkaÊúâTopicÂíåPartitionsÂàÜÂå∫Ôºå</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-146.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-146.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Ëøô‰∫õ‰∏≠Èó¥‰ª∂ÁöÑÂ∑ÆÂºÇÊÄßÂØºËá¥Êàë‰ª¨ÂÆûÈôÖÈ°πÁõÆÂºÄÂèëÁªôÊàë‰ª¨ÈÄ†Êàê‰∫Ü‰∏ÄÂÆöÁöÑÂõ∞Êâ∞ÔºåÊàë‰ª¨Â¶ÇÊûúÁî®‰∫Ü‰∏§‰∏™Ê∂àÊÅØÈòüÂàóÁöÑÂÖ∂‰∏≠‰∏ÄÁßçÔºåÂêéÈù¢ÁöÑ‰∏öÂä°ÈúÄÊ±ÇÔºåÊàëÊÉ≥ÂæÄÂè¶Â§ñ‰∏ÄÁßçÊ∂àÊÅØÈòüÂàóËøõË°åËøÅÁßªÔºåËøôÊó∂ÂÄôÊó†ÁñëÂ∞±ÊòØ‰∏Ä‰∏™ÁÅæÈöæÊÄßÁöÑÔºå<strong>‰∏ÄÂ§ßÂ†Ü‰∏úË•øÈÉΩË¶ÅÈáçÊñ∞Êé®ÂÄíÈáçÊñ∞ÂÅö</strong>ÔºåÂõ†‰∏∫ÂÆÉË∑üÊàë‰ª¨ÁöÑÁ≥ªÁªüËÄ¶Âêà‰∫ÜÔºåËøôÊó∂ÂÄôspringcloud StreamÁªôÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏ÄÁßçËß£ËÄ¶ÂêàÁöÑÊñπÂºè„ÄÇ</p>
<blockquote>
<p> <strong>streamÂá≠‰ªÄ‰πàÂèØ‰ª•Áªü‰∏ÄÂ∫ïÂ±ÇÂ∑ÆÂºÇÔºü</strong></p>
<blockquote>
<p>Âú®Ê≤°ÊúâÁªëÂÆöÂô®Ëøô‰∏™Ê¶ÇÂøµÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÁöÑSpringBootÂ∫îÁî®Ë¶ÅÁõ¥Êé•‰∏éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ËøõË°å‰ø°ÊÅØ‰∫§‰∫íÁöÑÊó∂ÂÄôÔºå<br>Áî±‰∫éÂêÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÊûÑÂª∫ÁöÑÂàùË°∑‰∏çÂêåÔºåÂÆÉ‰ª¨ÁöÑÂÆûÁé∞ÁªÜËäÇ‰∏ä‰ºöÊúâËæÉÂ§ßÁöÑÂ∑ÆÂºÇÊÄß<br>ÈÄöËøáÂÆö‰πâÁªëÂÆöÂô®‰Ωú‰∏∫‰∏≠Èó¥Â±ÇÔºåÂÆåÁæéÂú∞ÂÆûÁé∞‰∫Ü<strong>Â∫îÁî®Á®ãÂ∫è‰∏éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁªÜËäÇ‰πãÈó¥ÁöÑÈöîÁ¶ª</strong>„ÄÇ<br>ÈÄöËøáÂêëÂ∫îÁî®Á®ãÂ∫èÊö¥Èú≤Áªü‰∏ÄÁöÑChannelÈÄöÈÅìÔºå‰ΩøÂæóÂ∫îÁî®Á®ãÂ∫è‰∏çÈúÄË¶ÅÂÜçËÄÉËôëÂêÑÁßç‰∏çÂêåÁöÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÂÆûÁé∞„ÄÇ</p>
<p><strong>ÈÄöËøáÂÆö‰πâÁªëÂÆöÂô®Binder‰Ωú‰∏∫‰∏≠Èó¥Â±ÇÔºåÂÆûÁé∞‰∫ÜÂ∫îÁî®Á®ãÂ∫è‰∏éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁªÜËäÇ‰πãÈó¥ÁöÑÈöîÁ¶ª</strong>„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-147.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-147.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<p><strong>Binder</strong></p>
<blockquote>
<p>Âú®Ê≤°ÊúâÁªëÂÆöÂô®Ëøô‰∏™Ê¶ÇÂøµÁöÑÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÁöÑSpringBootÂ∫îÁî®Ë¶ÅÁõ¥Êé•‰∏éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ËøõË°å‰ø°ÊÅØ‰∫§‰∫íÁöÑÊó∂ÂÄôÔºåÁî±‰∫éÂêÑÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÊûÑÂª∫ÁöÑÂàùË°∑‰∏çÂêåÔºåÂÆÉ‰ª¨ÁöÑÂÆûÁé∞ÁªÜËäÇ‰∏ä‰ºöÊúâËæÉÂ§ßÁöÑÂ∑ÆÂºÇÊÄßÔºåÈÄöËøáÂÆö‰πâÁªëÂÆöÂô®‰Ωú‰∏∫‰∏≠Èó¥Â±ÇÔºåÂÆåÁæéÂú∞ÂÆûÁé∞‰∫Ü<strong>Â∫îÁî®Á®ãÂ∫è‰∏éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁªÜËäÇ‰πãÈó¥ÁöÑÈöîÁ¶ª</strong>„ÄÇStreamÂØπÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁöÑËøõ‰∏ÄÊ≠•Â∞ÅË£ÖÔºåÂèØ‰ª•ÂÅöÂà∞‰ª£Á†ÅÂ±ÇÈù¢ÂØπ‰∏≠Èó¥‰ª∂ÁöÑÊó†ÊÑüÁü•ÔºåÁîöËá≥‰∫éÂä®ÊÄÅÁöÑÂàáÊç¢‰∏≠Èó¥‰ª∂(rabbitmqÂàáÊç¢‰∏∫kafka)Ôºå‰ΩøÂæóÂæÆÊúçÂä°ÂºÄÂèëÁöÑÈ´òÂ∫¶Ëß£ËÄ¶ÔºåÊúçÂä°ÂèØ‰ª•ÂÖ≥Ê≥®Êõ¥Â§öËá™Â∑±ÁöÑ‰∏öÂä°ÊµÅÁ®ã</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-148.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-148.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>ÈÄöËøáÂÆö‰πâÁªëÂÆöÂô®Binder‰Ωú‰∏∫‰∏≠Èó¥Â±ÇÔºåÂÆûÁé∞‰∫ÜÂ∫îÁî®Á®ãÂ∫è‰∏éÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÁªÜËäÇ‰πãÈó¥ÁöÑÈöîÁ¶ª</strong>„ÄÇ</p>
<p>BinderÂèØ‰ª•ÁîüÊàêBindingÔºåBindingÁî®Êù•ÁªëÂÆöÊ∂àÊÅØÂÆπÂô®ÁöÑÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖÔºåÂÆÉÊúâ‰∏§ÁßçÁ±ªÂûãÔºåINPUTÂíåOUTPUTÔºåINPUTÂØπÂ∫î‰∫éÊ∂àË¥πËÄÖÔºåOUTPUTÂØπÂ∫î‰∫éÁîü‰∫ßËÄÖ„ÄÇ</p>
</blockquote>
<p><strong>INPUTÂØπÂ∫î‰∫éÊ∂àË¥πËÄÖ</strong></p>
<p><strong>OUTPUTÂØπÂ∫î‰∫éÁîü‰∫ßËÄÖ</strong></p>
</blockquote>
<h4 id="Stream‰∏≠ÁöÑÊ∂àÊÅØÈÄö‰ø°ÊñπÂºèÈÅµÂæ™‰∫ÜÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âºè"><a href="#Stream‰∏≠ÁöÑÊ∂àÊÅØÈÄö‰ø°ÊñπÂºèÈÅµÂæ™‰∫ÜÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âºè" class="headerlink" title="Stream‰∏≠ÁöÑÊ∂àÊÅØÈÄö‰ø°ÊñπÂºèÈÅµÂæ™‰∫ÜÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âºè"></a>Stream‰∏≠ÁöÑÊ∂àÊÅØÈÄö‰ø°ÊñπÂºèÈÅµÂæ™‰∫ÜÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âºè</h4><h5 id="Topic‰∏ªÈ¢òËøõË°åÂπøÊí≠"><a href="#Topic‰∏ªÈ¢òËøõË°åÂπøÊí≠" class="headerlink" title="Topic‰∏ªÈ¢òËøõË°åÂπøÊí≠"></a>Topic‰∏ªÈ¢òËøõË°åÂπøÊí≠</h5><ul>
<li>Âú®RabbitMQÂ∞±ÊòØExchange</li>
<li>Âú®Kakfa‰∏≠Â∞±ÊòØTopic</li>
</ul>
<h3 id="Spring-Cloud-StreamÊ†áÂáÜÊµÅÁ®ãÂ•óË∑Ø"><a href="#Spring-Cloud-StreamÊ†áÂáÜÊµÅÁ®ãÂ•óË∑Ø" class="headerlink" title="Spring Cloud StreamÊ†áÂáÜÊµÅÁ®ãÂ•óË∑Ø"></a>Spring Cloud StreamÊ†áÂáÜÊµÅÁ®ãÂ•óË∑Ø</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-149.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-149.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-150.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-150.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h4 id="Binder"><a href="#Binder" class="headerlink" title="Binder"></a>Binder</h4><blockquote>
<p>ÂæàÊñπ‰æøÁöÑËøûÊé•‰∏≠Èó¥‰ª∂ÔºåÂ±èËîΩÂ∑ÆÂºÇ</p>
</blockquote>
<h4 id="Channel"><a href="#Channel" class="headerlink" title="Channel"></a>Channel</h4><blockquote>
<p>ÈÄöÈÅìÔºåÊòØÈòüÂàóQueueÁöÑ‰∏ÄÁßçÊäΩË±°ÔºåÂú®Ê∂àÊÅØÈÄöËÆØÁ≥ªÁªü‰∏≠Â∞±ÊòØÂÆûÁé∞Â≠òÂÇ®ÂíåËΩ¨ÂèëÁöÑÂ™í‰ªãÔºåÈÄöËøáChannelÂØπÈòüÂàóËøõË°åÈÖçÁΩÆ</p>
</blockquote>
<h4 id="SourceÂíåSink"><a href="#SourceÂíåSink" class="headerlink" title="SourceÂíåSink"></a>SourceÂíåSink</h4><blockquote>
<p>ÁÆÄÂçïÁöÑÂèØÁêÜËß£‰∏∫ÂèÇÁÖßÂØπË±°ÊòØSpring Cloud StreamËá™Ë∫´Ôºå<br>‰ªéStreamÂèëÂ∏ÉÊ∂àÊÅØÂ∞±ÊòØËæìÂá∫ÔºåÊé•ÂèóÊ∂àÊÅØÂ∞±ÊòØËæìÂÖ•„ÄÇ</p>
</blockquote>
<h3 id="ÁºñÁ†ÅAPIÂíåÂ∏∏Áî®Ê≥®Ëß£"><a href="#ÁºñÁ†ÅAPIÂíåÂ∏∏Áî®Ê≥®Ëß£" class="headerlink" title="ÁºñÁ†ÅAPIÂíåÂ∏∏Áî®Ê≥®Ëß£"></a>ÁºñÁ†ÅAPIÂíåÂ∏∏Áî®Ê≥®Ëß£</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-151.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-151.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-152.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-152.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="Ê°à‰æãËØ¥Êòé"><a href="#Ê°à‰æãËØ¥Êòé" class="headerlink" title="Ê°à‰æãËØ¥Êòé"></a>Ê°à‰æãËØ¥Êòé</h2><h3 id="RabbitMQÁéØÂ¢ÉÂ∑≤ÁªèOK"><a href="#RabbitMQÁéØÂ¢ÉÂ∑≤ÁªèOK" class="headerlink" title="RabbitMQÁéØÂ¢ÉÂ∑≤ÁªèOK"></a>RabbitMQÁéØÂ¢ÉÂ∑≤ÁªèOK</h3><h3 id="Â∑•Á®ã‰∏≠Êñ∞Âª∫‰∏â‰∏™Â≠êÊ®°Âùó"><a href="#Â∑•Á®ã‰∏≠Êñ∞Âª∫‰∏â‰∏™Â≠êÊ®°Âùó" class="headerlink" title="Â∑•Á®ã‰∏≠Êñ∞Âª∫‰∏â‰∏™Â≠êÊ®°Âùó"></a>Â∑•Á®ã‰∏≠Êñ∞Âª∫‰∏â‰∏™Â≠êÊ®°Âùó</h3><ul>
<li>cloud-stream-rabbitmq-provider8801Ôºå ‰Ωú‰∏∫Áîü‰∫ßËÄÖËøõË°åÂèëÊ∂àÊÅØÊ®°Âùó</li>
<li>cloud-stream-rabbitmq-consumer8802Ôºå‰Ωú‰∏∫Ê∂àÊÅØÊé•Êî∂Ê®°Âùó</li>
<li>cloud-stream-rabbitmq-consumer8803  ‰Ωú‰∏∫Ê∂àÊÅØÊé•Êî∂Ê®°Âùó</li>
</ul>
<h2 id="Ê∂àÊÅØÈ©±Âä®‰πãÁîü‰∫ßËÄÖ"><a href="#Ê∂àÊÅØÈ©±Âä®‰πãÁîü‰∫ßËÄÖ" class="headerlink" title="Ê∂àÊÅØÈ©±Âä®‰πãÁîü‰∫ßËÄÖ"></a>Ê∂àÊÅØÈ©±Âä®‰πãÁîü‰∫ßËÄÖ</h2><h3 id="Êñ∞Âª∫Module-cloud-stream-rabbitmq-provider8801"><a href="#Êñ∞Âª∫Module-cloud-stream-rabbitmq-provider8801" class="headerlink" title="Êñ∞Âª∫Module cloud-stream-rabbitmq-provider8801"></a>Êñ∞Âª∫Module cloud-stream-rabbitmq-provider8801</h3><h3 id="ÊîπPOM-21"><a href="#ÊîπPOM-21" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-stream-rabbitmq-provider8801<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-stream-rabbit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--Âü∫Á°ÄÈÖçÁΩÆ--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-26"><a href="#ÊîπYML-26" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8801</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>stream<span class="token punctuation">-</span>provider
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">stream</span><span class="token punctuation">:</span>
      <span class="token key atrule">binders</span><span class="token punctuation">:</span> <span class="token comment"># Âú®Ê≠§Â§ÑÈÖçÁΩÆË¶ÅÁªëÂÆöÁöÑrabbitmqÁöÑÊúçÂä°‰ø°ÊÅØÔºõ</span>
        <span class="token key atrule">defaultRabbit</span><span class="token punctuation">:</span> <span class="token comment"># Ë°®Á§∫ÂÆö‰πâÁöÑÂêçÁß∞ÔºåÁî®‰∫é‰∫ébindingÊï¥Âêà</span>
          <span class="token key atrule">type</span><span class="token punctuation">:</span> rabbit <span class="token comment"># Ê∂àÊÅØÁªÑ‰ª∂Á±ªÂûã</span>
          <span class="token key atrule">environment</span><span class="token punctuation">:</span> <span class="token comment"># ËÆæÁΩÆrabbitmqÁöÑÁõ∏ÂÖ≥ÁöÑÁéØÂ¢ÉÈÖçÁΩÆ</span>
            <span class="token key atrule">spring</span><span class="token punctuation">:</span>
              <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
                <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
                <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>
                <span class="token key atrule">username</span><span class="token punctuation">:</span> guest
                <span class="token key atrule">password</span><span class="token punctuation">:</span> guest
      <span class="token key atrule">bindings</span><span class="token punctuation">:</span> <span class="token comment"># ÊúçÂä°ÁöÑÊï¥ÂêàÂ§ÑÁêÜ</span>
        <span class="token key atrule">output</span><span class="token punctuation">:</span> <span class="token comment"># Ëøô‰∏™ÂêçÂ≠óÊòØ‰∏Ä‰∏™ÈÄöÈÅìÁöÑÂêçÁß∞</span>
          <span class="token key atrule">destination</span><span class="token punctuation">:</span> studyExchange <span class="token comment"># Ë°®Á§∫Ë¶Å‰ΩøÁî®ÁöÑExchangeÂêçÁß∞ÂÆö‰πâ</span>
          <span class="token key atrule">content-type</span><span class="token punctuation">:</span> application/json <span class="token comment"># ËÆæÁΩÆÊ∂àÊÅØÁ±ªÂûãÔºåÊú¨Ê¨°‰∏∫jsonÔºåÊñáÊú¨ÂàôËÆæÁΩÆ‚Äútext/plain‚Äù</span>
          <span class="token key atrule">binder</span><span class="token punctuation">:</span> defaultRabbit <span class="token comment"># ËÆæÁΩÆË¶ÅÁªëÂÆöÁöÑÊ∂àÊÅØÊúçÂä°ÁöÑÂÖ∑‰ΩìËÆæÁΩÆ</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span> <span class="token comment"># ÂÆ¢Êà∑Á´ØËøõË°åEurekaÊ≥®ÂÜåÁöÑÈÖçÁΩÆ</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment"># ËÆæÁΩÆÂøÉË∑≥ÁöÑÊó∂Èó¥Èó¥ÈöîÔºàÈªòËÆ§ÊòØ30ÁßíÔºâ</span>
    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment"># Â¶ÇÊûúÁé∞Âú®Ë∂ÖËøá‰∫Ü5ÁßíÁöÑÈó¥ÈöîÔºàÈªòËÆ§ÊòØ90ÁßíÔºâ</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> send<span class="token punctuation">-</span>8801.com  <span class="token comment"># Âú®‰ø°ÊÅØÂàóË°®Êó∂ÊòæÁ§∫‰∏ªÊú∫ÂêçÁß∞</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>     <span class="token comment"># ËÆøÈóÆÁöÑË∑ØÂæÑÂèò‰∏∫IPÂú∞ÂùÄ</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏ªÂêØÂä®Á±ª-6"><a href="#‰∏ªÂêØÂä®Á±ª-6" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h3><h4 id="StreamMQMain8801"><a href="#StreamMQMain8801" class="headerlink" title="StreamMQMain8801"></a>StreamMQMain8801</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StreamMQMain8801</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">StreamMQMain8801</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏öÂä°Á±ª-9"><a href="#‰∏öÂä°Á±ª-9" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h3><h4 id="IMessageProvider-ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£"><a href="#IMessageProvider-ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£" class="headerlink" title="IMessageProvider ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£"></a>IMessageProvider ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IMessageProvider</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="MessageProviderImpl-ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£ÂÆûÁé∞Á±ª"><a href="#MessageProviderImpl-ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£ÂÆûÁé∞Á±ª" class="headerlink" title="MessageProviderImpl ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£ÂÆûÁé∞Á±ª"></a>MessageProviderImpl ÂèëÈÄÅÊ∂àÊÅØÊé•Âè£ÂÆûÁé∞Á±ª</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IMessageProvider</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">EnableBinding</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">Source</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>integration<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">MessageBuilder</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">MessageChannel</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>UUID<span class="token punctuation">;</span>

<span class="token comment">//ÊåáChannelÂíåExchangeÁªëÂÆöÂú®‰∏ÄËµ∑</span>
<span class="token annotation punctuation">@EnableBinding</span><span class="token punctuation">(</span><span class="token class-name">Source</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// ÂèØ‰ª•ÁêÜËß£‰∏∫ÊòØ‰∏Ä‰∏™Ê∂àÊÅØÁöÑÂèëÈÄÅÁÆ°ÈÅìÁöÑÂÆö‰πâ</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageProviderImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IMessageProvider</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">MessageChannel</span> output<span class="token punctuation">;</span> <span class="token comment">// Ê∂àÊÅØÁöÑÂèëÈÄÅÁÆ°ÈÅì</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">String</span> serial <span class="token operator">=</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>output<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">MessageBuilder</span><span class="token punctuation">.</span><span class="token function">withPayload</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ÂàõÂª∫Âπ∂ÂèëÈÄÅÊ∂àÊÅØ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"***serial: "</span><span class="token operator">+</span>serial<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> serial<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="SendMessageController"><a href="#SendMessageController" class="headerlink" title="SendMessageController"></a>SendMessageController</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IMessageProvider</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendMessageController</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">IMessageProvider</span> messageProvider<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/sendMessage"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> messageProvider<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊµãËØï-14"><a href="#ÊµãËØï-14" class="headerlink" title="ÊµãËØï"></a>ÊµãËØï</h3><ol>
<li><p>ÂêØÂä®7001eureka</p>
</li>
<li><p>ÂêØÂä®rabbitmq    </p>
<p>rabbitmq-plugins enable rabbitmq_management  <a target="_blank" rel="noopener" href="http://localhost:15672/">http://localhost:15672/</a></p>
</li>
<li><p>ÂêØÂä®8801</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-153.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-153.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</li>
<li><p>ËÆøÈóÆ <a target="_blank" rel="noopener" href="http://localhost:8801/sendMessage">http://localhost:8801/sendMessage</a></p>
</li>
</ol>
<h2 id="Ê∂àÊÅØÈ©±Âä®‰πãÊ∂àË¥πËÄÖ"><a href="#Ê∂àÊÅØÈ©±Âä®‰πãÊ∂àË¥πËÄÖ" class="headerlink" title="Ê∂àÊÅØÈ©±Âä®‰πãÊ∂àË¥πËÄÖ"></a>Ê∂àÊÅØÈ©±Âä®‰πãÊ∂àË¥πËÄÖ</h2><h3 id="Êñ∞Âª∫Module-cloud-stream-rabbitmq-consumer8802"><a href="#Êñ∞Âª∫Module-cloud-stream-rabbitmq-consumer8802" class="headerlink" title="Êñ∞Âª∫Module cloud-stream-rabbitmq-consumer8802"></a>Êñ∞Âª∫Module cloud-stream-rabbitmq-consumer8802</h3><h3 id="ÊîπPOM-22"><a href="#ÊîπPOM-22" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h3><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>Learn-SpringCloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ctrl.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-stream-rabbitmq-consumer8802<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-stream-rabbit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--Âü∫Á°ÄÈÖçÁΩÆ--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊîπYML-27"><a href="#ÊîπYML-27" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8802</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>stream<span class="token punctuation">-</span>consumer
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">stream</span><span class="token punctuation">:</span>
      <span class="token key atrule">binders</span><span class="token punctuation">:</span> <span class="token comment"># Âú®Ê≠§Â§ÑÈÖçÁΩÆË¶ÅÁªëÂÆöÁöÑrabbitmqÁöÑÊúçÂä°‰ø°ÊÅØÔºõ</span>
        <span class="token key atrule">defaultRabbit</span><span class="token punctuation">:</span> <span class="token comment"># Ë°®Á§∫ÂÆö‰πâÁöÑÂêçÁß∞ÔºåÁî®‰∫é‰∫ébindingÊï¥Âêà</span>
          <span class="token key atrule">type</span><span class="token punctuation">:</span> rabbit <span class="token comment"># Ê∂àÊÅØÁªÑ‰ª∂Á±ªÂûã</span>
          <span class="token key atrule">environment</span><span class="token punctuation">:</span> <span class="token comment"># ËÆæÁΩÆrabbitmqÁöÑÁõ∏ÂÖ≥ÁöÑÁéØÂ¢ÉÈÖçÁΩÆ</span>
            <span class="token key atrule">spring</span><span class="token punctuation">:</span>
              <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
                <span class="token key atrule">host</span><span class="token punctuation">:</span> localhost
                <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>
                <span class="token key atrule">username</span><span class="token punctuation">:</span> guest
                <span class="token key atrule">password</span><span class="token punctuation">:</span> guest
      <span class="token key atrule">bindings</span><span class="token punctuation">:</span> <span class="token comment"># ÊúçÂä°ÁöÑÊï¥ÂêàÂ§ÑÁêÜ</span>
        <span class="token key atrule">input</span><span class="token punctuation">:</span> <span class="token comment"># Ëøô‰∏™ÂêçÂ≠óÊòØ‰∏Ä‰∏™ÈÄöÈÅìÁöÑÂêçÁß∞</span>
          <span class="token key atrule">destination</span><span class="token punctuation">:</span> studyExchange <span class="token comment"># Ë°®Á§∫Ë¶Å‰ΩøÁî®ÁöÑExchangeÂêçÁß∞ÂÆö‰πâ</span>
          <span class="token key atrule">content-type</span><span class="token punctuation">:</span> application/json <span class="token comment"># ËÆæÁΩÆÊ∂àÊÅØÁ±ªÂûãÔºåÊú¨Ê¨°‰∏∫ÂØπË±°jsonÔºåÂ¶ÇÊûúÊòØÊñáÊú¨ÂàôËÆæÁΩÆ‚Äútext/plain‚Äù</span>
          <span class="token key atrule">binder</span><span class="token punctuation">:</span> defaultRabbit <span class="token comment"># ËÆæÁΩÆË¶ÅÁªëÂÆöÁöÑÊ∂àÊÅØÊúçÂä°ÁöÑÂÖ∑‰ΩìËÆæÁΩÆ</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span> <span class="token comment"># ÂÆ¢Êà∑Á´ØËøõË°åEurekaÊ≥®ÂÜåÁöÑÈÖçÁΩÆ</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment"># ËÆæÁΩÆÂøÉË∑≥ÁöÑÊó∂Èó¥Èó¥ÈöîÔºàÈªòËÆ§ÊòØ30ÁßíÔºâ</span>
    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment"># Â¶ÇÊûúÁé∞Âú®Ë∂ÖËøá‰∫Ü5ÁßíÁöÑÈó¥ÈöîÔºàÈªòËÆ§ÊòØ90ÁßíÔºâ</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> receive<span class="token punctuation">-</span>8802.com  <span class="token comment"># Âú®‰ø°ÊÅØÂàóË°®Êó∂ÊòæÁ§∫‰∏ªÊú∫ÂêçÁß∞</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>     <span class="token comment"># ËÆøÈóÆÁöÑË∑ØÂæÑÂèò‰∏∫IPÂú∞ÂùÄ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏ªÂêØÂä®Á±ª-7"><a href="#‰∏ªÂêØÂä®Á±ª-7" class="headerlink" title="‰∏ªÂêØÂä®Á±ª"></a>‰∏ªÂêØÂä®Á±ª</h3><h4 id="StreamMQMain8802"><a href="#StreamMQMain8802" class="headerlink" title="StreamMQMain8802"></a>StreamMQMain8802</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StreamMQMain8802</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">StreamMQMain8802</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="‰∏öÂä°Á±ª-10"><a href="#‰∏öÂä°Á±ª-10" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h3><h4 id="ReceiveMessageListener"><a href="#ReceiveMessageListener" class="headerlink" title="ReceiveMessageListener"></a>ReceiveMessageListener</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>springcloud<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">EnableBinding</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">StreamListener</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>stream<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">Sink</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">Message</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@EnableBinding</span><span class="token punctuation">(</span><span class="token class-name">Sink</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReceiveMessageListener</span>
<span class="token punctuation">&#123;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@StreamListener</span><span class="token punctuation">(</span><span class="token class-name">Sink</span><span class="token punctuation">.</span>INPUT<span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">input</span><span class="token punctuation">(</span><span class="token class-name">Message</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> message<span class="token punctuation">)</span>
    <span class="token punctuation">&#123;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Ê∂àË¥πËÄÖ1Âè∑Ôºå------->Êé•Êî∂Âà∞ÁöÑÊ∂àÊÅØÔºö"</span> <span class="token operator">+</span> message<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t port: "</span><span class="token operator">+</span>serverPort<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ÊµãËØï8801ÂèëÈÄÅ8802Êé•Êî∂Ê∂àÊÅØ"><a href="#ÊµãËØï8801ÂèëÈÄÅ8802Êé•Êî∂Ê∂àÊÅØ" class="headerlink" title="ÊµãËØï8801ÂèëÈÄÅ8802Êé•Êî∂Ê∂àÊÅØ"></a>ÊµãËØï8801ÂèëÈÄÅ8802Êé•Êî∂Ê∂àÊÅØ</h3><p>‚Äã	 <a target="_blank" rel="noopener" href="http://localhost:8801/sendMessage">http://localhost:8801/sendMessage</a></p>
<h2 id="ÂàÜÁªÑÊ∂àË¥π‰∏éÊåÅ‰πÖÂåñ"><a href="#ÂàÜÁªÑÊ∂àË¥π‰∏éÊåÅ‰πÖÂåñ" class="headerlink" title="ÂàÜÁªÑÊ∂àË¥π‰∏éÊåÅ‰πÖÂåñ"></a>ÂàÜÁªÑÊ∂àË¥π‰∏éÊåÅ‰πÖÂåñ</h2><h3 id="‰æùÁÖß8802ÔºåcloneÂá∫Êù•‰∏Ä‰ªΩËøêË°å8803"><a href="#‰æùÁÖß8802ÔºåcloneÂá∫Êù•‰∏Ä‰ªΩËøêË°å8803" class="headerlink" title="‰æùÁÖß8802ÔºåcloneÂá∫Êù•‰∏Ä‰ªΩËøêË°å8803"></a>‰æùÁÖß8802ÔºåcloneÂá∫Êù•‰∏Ä‰ªΩËøêË°å8803</h3><h4 id="cloud-stream-rabbitmq-consumer8803-Ê≥®ÊÑèÁ´ØÂè£-ÊéßÂà∂Âè∞ÊâìÂç∞"><a href="#cloud-stream-rabbitmq-consumer8803-Ê≥®ÊÑèÁ´ØÂè£-ÊéßÂà∂Âè∞ÊâìÂç∞" class="headerlink" title="cloud-stream-rabbitmq-consumer8803   Ê≥®ÊÑèÁ´ØÂè£ ÊéßÂà∂Âè∞ÊâìÂç∞"></a>cloud-stream-rabbitmq-consumer8803   Ê≥®ÊÑèÁ´ØÂè£ ÊéßÂà∂Âè∞ÊâìÂç∞</h4><h3 id="ÂêØÂä®-2"><a href="#ÂêØÂä®-2" class="headerlink" title="ÂêØÂä®"></a>ÂêØÂä®</h3><ul>
<li>RabbitMQ</li>
<li>7001		‚Äî&gt;   ÊúçÂä°Ê≥®ÂÜå</li>
<li>8801		‚Äî&gt;   Ê∂àÊÅØÁîü‰∫ß</li>
<li>8802		‚Äî&gt;   Ê∂àÊÅØÊ∂àË¥π</li>
<li>8803		‚Äî&gt;   Ê∂àÊÅØÊ∂àË¥π</li>
</ul>
<h3 id="ËøêË°åÂêéÊúâ‰∏§‰∏™ÈóÆÈ¢ò"><a href="#ËøêË°åÂêéÊúâ‰∏§‰∏™ÈóÆÈ¢ò" class="headerlink" title="ËøêË°åÂêéÊúâ‰∏§‰∏™ÈóÆÈ¢ò"></a>ËøêË°åÂêéÊúâ‰∏§‰∏™ÈóÆÈ¢ò</h3><ul>
<li>ÊúâÈáçÂ§çÊ∂àË¥πÈóÆÈ¢ò</li>
<li>Ê∂àÊÅØÊåÅ‰πÖÂåñÈóÆÈ¢ò</li>
</ul>
<h3 id="Ê∂àË¥π"><a href="#Ê∂àË¥π" class="headerlink" title="Ê∂àË¥π"></a>Ê∂àË¥π</h3><p>ÁõÆÂâçÊòØ8802&#x2F;8803ÂêåÊó∂ÈÉΩÊî∂Âà∞‰∫ÜÔºåÂ≠òÂú®ÈáçÂ§çÊ∂àË¥πÈóÆÈ¢ò</p>
<p><a target="_blank" rel="noopener" href="http://localhost:8801/sendMessage">http://localhost:8801/sendMessage</a></p>
<blockquote>
<p>8802</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-154.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-154.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>8803</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-155.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-155.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h4 id="Â¶Ç‰ΩïËß£ÂÜ≥"><a href="#Â¶Ç‰ΩïËß£ÂÜ≥" class="headerlink" title="Â¶Ç‰ΩïËß£ÂÜ≥"></a>Â¶Ç‰ΩïËß£ÂÜ≥</h4><ul>
<li>ÂàÜÁªÑÂíåÊåÅ‰πÖÂåñÂ±ûÊÄßgroup</li>
</ul>
<h4 id="Áîü‰∫ßÂÆûÈôÖÊ°à‰æã"><a href="#Áîü‰∫ßÂÆûÈôÖÊ°à‰æã" class="headerlink" title="Áîü‰∫ßÂÆûÈôÖÊ°à‰æã"></a>Áîü‰∫ßÂÆûÈôÖÊ°à‰æã</h4><p>ÊØîÂ¶ÇÂú®Â¶Ç‰∏ãÂú∫ÊôØ‰∏≠ÔºåËÆ¢ÂçïÁ≥ªÁªüÊàë‰ª¨ÂÅöÈõÜÁæ§ÈÉ®ÁΩ≤ÔºåÈÉΩ‰ºö‰ªéRabbitMQ‰∏≠Ëé∑ÂèñËÆ¢Âçï‰ø°ÊÅØÔºå<br>ÈÇ£<strong>Â¶ÇÊûú‰∏Ä‰∏™ËÆ¢ÂçïÂêåÊó∂Ë¢´‰∏§‰∏™ÊúçÂä°Ëé∑ÂèñÂà∞</strong>ÔºåÈÇ£‰πàÂ∞±‰ºöÈÄ†ÊàêÊï∞ÊçÆÈîôËØØÔºåÊàë‰ª¨ÂæóÈÅøÂÖçËøôÁßçÊÉÖÂÜµ„ÄÇ<br>ËøôÊó∂<strong>Êàë‰ª¨Â∞±ÂèØ‰ª•‰ΩøÁî®Stream‰∏≠ÁöÑÊ∂àÊÅØÂàÜÁªÑ</strong>Êù•Ëß£ÂÜ≥</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-156.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-156.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p>Ê≥®ÊÑèÂú®Stream‰∏≠Â§Ñ‰∫éÂêå‰∏Ä‰∏™group‰∏≠ÁöÑÂ§ö‰∏™Ê∂àË¥πËÄÖÊòØÁ´û‰∫âÂÖ≥Á≥ªÔºåÂ∞±ËÉΩÂ§ü‰øùËØÅÊ∂àÊÅØÂè™‰ºöË¢´ÂÖ∂‰∏≠‰∏Ä‰∏™Â∫îÁî®Ê∂àË¥π‰∏ÄÊ¨°„ÄÇ<br><strong>‰∏çÂêåÁªÑÊòØÂèØ‰ª•ÂÖ®Èù¢Ê∂àË¥πÁöÑ(ÈáçÂ§çÊ∂àË¥π)Ôºå</strong><br><strong>Âêå‰∏ÄÁªÑÂÜÖ‰ºöÂèëÁîüÁ´û‰∫âÂÖ≥Á≥ªÔºåÂè™ÊúâÂÖ∂‰∏≠‰∏Ä‰∏™ÂèØ‰ª•Ê∂àË¥π„ÄÇ</strong></p>
<h3 id="ÂàÜÁªÑ"><a href="#ÂàÜÁªÑ" class="headerlink" title="ÂàÜÁªÑ"></a>ÂàÜÁªÑ</h3><h4 id="ÂéüÁêÜ-1"><a href="#ÂéüÁêÜ-1" class="headerlink" title="ÂéüÁêÜ"></a>ÂéüÁêÜ</h4><blockquote>
<p>ÂæÆÊúçÂä°Â∫îÁî®ÊîæÁΩÆ‰∫éÂêå‰∏Ä‰∏™group‰∏≠ÔºåÂ∞±ËÉΩÂ§ü‰øùËØÅÊ∂àÊÅØÂè™‰ºöË¢´ÂÖ∂‰∏≠‰∏Ä‰∏™Â∫îÁî®Ê∂àË¥π‰∏ÄÊ¨°„ÄÇ<br>‰∏çÂêåÁöÑÁªÑÊòØÂèØ‰ª•Ê∂àË¥πÁöÑÔºåÂêå‰∏Ä‰∏™ÁªÑÂÜÖ‰ºöÂèëÁîüÁ´û‰∫âÂÖ≥Á≥ªÔºåÂè™ÊúâÂÖ∂‰∏≠‰∏Ä‰∏™ÂèØ‰ª•Ê∂àË¥π„ÄÇ</p>
</blockquote>
<h4 id="8802-x2F-8803ÈÉΩÂèòÊàê‰∏çÂêåÁªÑÔºågroup‰∏§‰∏™‰∏çÂêå"><a href="#8802-x2F-8803ÈÉΩÂèòÊàê‰∏çÂêåÁªÑÔºågroup‰∏§‰∏™‰∏çÂêå" class="headerlink" title="8802&#x2F;8803ÈÉΩÂèòÊàê‰∏çÂêåÁªÑÔºågroup‰∏§‰∏™‰∏çÂêå"></a>8802&#x2F;8803ÈÉΩÂèòÊàê‰∏çÂêåÁªÑÔºågroup‰∏§‰∏™‰∏çÂêå</h4><p>  group: ctrlA„ÄÅctrlB</p>
<p>8802‰øÆÊîπYML</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
	<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
		<span class="token key atrule">stream</span><span class="token punctuation">:</span>
			bindings
				<span class="token key atrule">input</span><span class="token punctuation">:</span>
					<span class="token key atrule">group</span><span class="token punctuation">:</span> ctrlA<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>8803‰øÆÊîπYML</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
	<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
		<span class="token key atrule">stream</span><span class="token punctuation">:</span>
			bindings
				<span class="token key atrule">input</span><span class="token punctuation">:</span>
					<span class="token key atrule">group</span><span class="token punctuation">:</span> ctrlB<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>ÁªìËÆ∫ ‚Äî ËøòÊòØÈáçÂ§çÊ∂àË¥π</strong></p>
<blockquote>
<p> <strong>8802&#x2F;8803ÂÆûÁé∞‰∫ÜËΩÆËØ¢ÂàÜÁªÑÔºåÊØèÊ¨°Âè™Êúâ‰∏Ä‰∏™Ê∂àË¥πËÄÖ</strong><br><strong>8801Ê®°ÂùóÁöÑÂèëÁöÑÊ∂àÊÅØÂè™ËÉΩË¢´8802Êàñ8803ÂÖ∂‰∏≠‰∏Ä‰∏™Êé•Êî∂Âà∞ÔºåËøôÊ†∑ÈÅøÂÖç‰∫ÜÈáçÂ§çÊ∂àË¥π„ÄÇ</strong></p>
</blockquote>
<h4 id="8802-x2F-8803ÈÉΩÂèòÊàêÁõ∏ÂêåÁªÑÔºågroup‰∏§‰∏™Áõ∏Âêå"><a href="#8802-x2F-8803ÈÉΩÂèòÊàêÁõ∏ÂêåÁªÑÔºågroup‰∏§‰∏™Áõ∏Âêå" class="headerlink" title="8802&#x2F;8803ÈÉΩÂèòÊàêÁõ∏ÂêåÁªÑÔºågroup‰∏§‰∏™Áõ∏Âêå"></a>8802&#x2F;8803ÈÉΩÂèòÊàêÁõ∏ÂêåÁªÑÔºågroup‰∏§‰∏™Áõ∏Âêå</h4><p>  group: ctrl</p>
<p>YML</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
	<span class="token key atrule">cloud</span><span class="token punctuation">:</span>
		<span class="token key atrule">stream</span><span class="token punctuation">:</span>
			bindings
				<span class="token key atrule">input</span><span class="token punctuation">:</span>
					<span class="token key atrule">group</span><span class="token punctuation">:</span> ctrl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>ÁªìËÆ∫ Âêå‰∏Ä‰∏™ÁªÑÁöÑÂ§ö‰∏™ÂæÆÊúçÂä°ÂÆû‰æãÔºåÊØèÊ¨°Âè™‰ºöÊúâ‰∏Ä‰∏™ÊãøÂà∞</strong></p>
<h3 id="ÊåÅ‰πÖÂåñ"><a href="#ÊåÅ‰πÖÂåñ" class="headerlink" title="ÊåÅ‰πÖÂåñ"></a>ÊåÅ‰πÖÂåñ</h3><ol>
<li><p>ÈÄöËøá‰∏äËø∞ÔºåËß£ÂÜ≥‰∫ÜÈáçÂ§çÊ∂àË¥πÈóÆÈ¢òÔºåÂÜçÁúãÁúãÊåÅ‰πÖÂåñ</p>
</li>
<li><p>ÂÅúÊ≠¢8802&#x2F;8803Âπ∂ÂéªÈô§Êéâ8802ÁöÑÂàÜÁªÑgroup: ctrl  8803ÁöÑÂàÜÁªÑgroup: ctrl  Ê≤°ÊúâÂéªÊéâ</p>
</li>
<li><p>8801ÂÖàÂèëÈÄÅ4Êù°Ê∂àÊÅØÂà∞rabbitmq</p>
</li>
<li><p>ÂÖàÂêØÂä®8802ÔºåÊó†ÂàÜÁªÑÂ±ûÊÄßÈÖçÁΩÆÔºåÂêéÂè∞Ê≤°ÊúâÊâìÂá∫Êù•Ê∂àÊÅØ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-157.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-157.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</li>
<li><p>ÂÜçÂêØÂä®8803ÔºåÊúâÂàÜÁªÑÂ±ûÊÄßÈÖçÁΩÆÔºåÂêéÂè∞ÊâìÂá∫Êù•‰∫ÜMQ‰∏äÁöÑÊ∂àÊÅØ</p>
</li>
</ol>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-158.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-158.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<blockquote>
<p>Êú™ÂÆö‰πâÂàÜÁªÑ‰ºöÂàõÂª∫‰∏¥Êó∂ÈòüÂàó</p>
<p>ÂÆö‰πâÁöÑÂ∞±‰ºöÊ∞∏‰πÖÂ≠òÂú®</p>
<p>Ê≥®ÊÑèYAMLÊñá‰ª∂‰∏≠ÁöÑ bindings  destination‰ª•Âèä group ÁöÑÈÖçÁΩÆ</p>
</blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-159.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-159.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h1 id="SpringCloud-SleuthÂàÜÂ∏ÉÂºèËØ∑Ê±ÇÈìæË∑ØË∑üË∏™"><a href="#SpringCloud-SleuthÂàÜÂ∏ÉÂºèËØ∑Ê±ÇÈìæË∑ØË∑üË∏™" class="headerlink" title="SpringCloud SleuthÂàÜÂ∏ÉÂºèËØ∑Ê±ÇÈìæË∑ØË∑üË∏™"></a>SpringCloud SleuthÂàÜÂ∏ÉÂºèËØ∑Ê±ÇÈìæË∑ØË∑üË∏™</h1><h2 id="Ê¶ÇËø∞-7"><a href="#Ê¶ÇËø∞-7" class="headerlink" title="Ê¶ÇËø∞"></a>Ê¶ÇËø∞</h2><h3 id="‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Ëøô‰∏™ÊäÄÊúØÔºüÈúÄË¶ÅËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢òÔºü"><a href="#‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Ëøô‰∏™ÊäÄÊúØÔºüÈúÄË¶ÅËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢òÔºü" class="headerlink" title="‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Ëøô‰∏™ÊäÄÊúØÔºüÈúÄË¶ÅËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢òÔºü"></a>‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Ëøô‰∏™ÊäÄÊúØÔºüÈúÄË¶ÅËß£ÂÜ≥Âì™‰∫õÈóÆÈ¢òÔºü</h3><blockquote>
<p><strong>ÈóÆÈ¢ò</strong></p>
<p> Âú®ÂæÆÊúçÂä°Ê°ÜÊû∂‰∏≠Ôºå‰∏Ä‰∏™Áî±ÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑËØ∑Ê±ÇÂú®ÂêéÁ´ØÁ≥ªÁªü‰∏≠‰ºöÁªèËøáÂ§ö‰∏™‰∏çÂêåÁöÑÁöÑÊúçÂä°ËäÇÁÇπË∞ÉÁî®Êù•ÂçèÂêå‰∫ßÁîüÊúÄÂêéÁöÑËØ∑Ê±ÇÁªìÊûúÔºåÊØè‰∏Ä‰∏™ÂâçÊÆµËØ∑Ê±ÇÈÉΩ‰ºöÂΩ¢Êàê‰∏ÄÊù°Â§çÊùÇÁöÑÂàÜÂ∏ÉÂºèÊúçÂä°Ë∞ÉÁî®ÈìæË∑ØÔºåÈìæË∑Ø‰∏≠ÁöÑ‰ªª‰Ωï‰∏ÄÁéØÂá∫Áé∞È´òÂª∂Êó∂ÊàñÈîôËØØÈÉΩ‰ºöÂºïËµ∑Êï¥‰∏™ËØ∑Ê±ÇÊúÄÂêéÁöÑÂ§±Ë¥•„ÄÇ</p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-160.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-160.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-161.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-161.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h3 id="ÊòØ‰ªÄ‰πà-11"><a href="#ÊòØ‰ªÄ‰πà-11" class="headerlink" title="ÊòØ‰ªÄ‰πà"></a>ÊòØ‰ªÄ‰πà</h3><p><a target="_blank" rel="noopener" href="https://github.com/spring-cloud/spring-cloud-sleuth">https://github.com/spring-cloud/spring-cloud-sleuth</a></p>
<p>Spring Cloud SleuthÊèê‰æõ‰∫Ü‰∏ÄÂ•óÂÆåÊï¥ÁöÑÊúçÂä°Ë∑üË∏™ÁöÑËß£ÂÜ≥ÊñπÊ°à</p>
<blockquote>
<p><strong>Âú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠Êèê‰æõËøΩË∏™Ëß£ÂÜ≥ÊñπÊ°àÂπ∂‰∏îÂÖºÂÆπÊîØÊåÅ‰∫Üzipkin</strong></p>
</blockquote>
<h3 id="Ëß£ÂÜ≥-1"><a href="#Ëß£ÂÜ≥-1" class="headerlink" title="Ëß£ÂÜ≥"></a>Ëß£ÂÜ≥</h3><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-162.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-162.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<h2 id="Êê≠Âª∫ÈìæË∑ØÁõëÊéßÊ≠•È™§"><a href="#Êê≠Âª∫ÈìæË∑ØÁõëÊéßÊ≠•È™§" class="headerlink" title="Êê≠Âª∫ÈìæË∑ØÁõëÊéßÊ≠•È™§"></a>Êê≠Âª∫ÈìæË∑ØÁõëÊéßÊ≠•È™§</h2><h3 id="zipkin"><a href="#zipkin" class="headerlink" title="zipkin"></a>zipkin</h3><h3 id="‰∏ãËΩΩ"><a href="#‰∏ãËΩΩ" class="headerlink" title="‰∏ãËΩΩ"></a>‰∏ãËΩΩ</h3><ul>
<li>SpringCloud‰ªéFÁâàËµ∑Â∑≤‰∏çÈúÄË¶ÅËá™Â∑±ÊûÑÂª∫Zipkin Server‰∫ÜÔºåÂè™ÈúÄË∞ÉÁî®jarÂåÖÂç≥ÂèØ</li>
<li>[OpenZipkin ¬∑ A distributed tracing system] (<a target="_blank" rel="noopener" href="https://zipkin.io/">https://zipkin.io/</a>)</li>
<li><a target="_blank" rel="noopener" href="https://search.maven.org/remote_content?g=io.zipkin&amp;a=zipkin-server&amp;v=LATEST&amp;c=exec">https://search.maven.org/remote_content?g=io.zipkin&amp;a=zipkin-server&amp;v=LATEST&amp;c=exec</a></li>
<li><a target="_blank" rel="noopener" href="https://repo1.maven.org/maven2/io/zipkin/zipkin-server/">https://repo1.maven.org/maven2/io/zipkin/zipkin-server/</a></li>
<li>zipkin-server-2.12.9-exec.jar</li>
</ul>
<h3 id="ËøêË°åjar"><a href="#ËøêË°åjar" class="headerlink" title="ËøêË°åjar"></a>ËøêË°åjar</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">java <span class="token operator">-</span>jar xxx<span class="token punctuation">.</span>jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="ËøêË°åÊéßÂà∂Âè∞"><a href="#ËøêË°åÊéßÂà∂Âè∞" class="headerlink" title="ËøêË°åÊéßÂà∂Âè∞"></a>ËøêË°åÊéßÂà∂Âè∞</h3><p><a target="_blank" rel="noopener" href="http://localhost:9411/zipkin/">http://localhost:9411/zipkin/</a></p>
<h4 id="ÊúØËØ≠"><a href="#ÊúØËØ≠" class="headerlink" title="ÊúØËØ≠"></a>ÊúØËØ≠</h4><h5 id="ÂÆåÊï¥ÁöÑË∞ÉÁî®ÈìæË∑Ø"><a href="#ÂÆåÊï¥ÁöÑË∞ÉÁî®ÈìæË∑Ø" class="headerlink" title="ÂÆåÊï¥ÁöÑË∞ÉÁî®ÈìæË∑Ø"></a>ÂÆåÊï¥ÁöÑË∞ÉÁî®ÈìæË∑Ø</h5><blockquote>
<p> Ë°®Á§∫‰∏ÄËØ∑Ê±ÇÈìæË∑ØÔºå‰∏ÄÊù°ÈìæË∑ØÈÄöËøáTrace IdÂîØ‰∏ÄÊ†áËØÜÔºåSpanÊ†áËØÜÂèëËµ∑ÁöÑËØ∑Ê±Ç‰ø°ÊÅØÔºåÂêÑspanÈÄöËøáparent id ÂÖ≥ËÅîËµ∑Êù•</p>
<p> <img src="/image/Learn-SpringCloud/Learn-SpringCloud-163.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-163.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h5 id="‰∏äÂõæwhat"><a href="#‰∏äÂõæwhat" class="headerlink" title="‰∏äÂõæwhat"></a>‰∏äÂõæwhat</h5><blockquote>
<p>‰∏ÄÊù°ÈìæË∑ØÈÄöËøáTrace IdÂîØ‰∏ÄÊ†áËØÜÔºåSpanÊ†áËØÜÂèëËµ∑ÁöÑËØ∑Ê±Ç‰ø°ÊÅØÔºåÂêÑspanÈÄöËøáparent id ÂÖ≥ËÅîËµ∑Êù•</p>
<p> <img src="/image/Learn-SpringCloud/Learn-SpringCloud-164.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-164.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-165.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-165.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h5 id="ÂêçËØçËß£Èáä"><a href="#ÂêçËØçËß£Èáä" class="headerlink" title="ÂêçËØçËß£Èáä"></a>ÂêçËØçËß£Èáä</h5><ul>
<li>Trace:Á±ª‰ºº‰∫éÊ†ëÁªìÊûÑÁöÑSpanÈõÜÂêàÔºåË°®Á§∫‰∏ÄÊù°Ë∞ÉÁî®ÈìæË∑ØÔºåÂ≠òÂú®ÂîØ‰∏ÄÊ†áËØÜ</li>
<li>span:Ë°®Á§∫Ë∞ÉÁî®ÈìæË∑ØÊù•Ê∫êÔºåÈÄö‰øóÁöÑÁêÜËß£spanÂ∞±ÊòØ‰∏ÄÊ¨°ËØ∑Ê±Ç‰ø°ÊÅØ</li>
</ul>
<h3 id="ÊúçÂä°Êèê‰æõËÄÖ-2"><a href="#ÊúçÂä°Êèê‰æõËÄÖ-2" class="headerlink" title="ÊúçÂä°Êèê‰æõËÄÖ"></a>ÊúçÂä°Êèê‰æõËÄÖ</h3><h4 id="cloud-provider-payment8001"><a href="#cloud-provider-payment8001" class="headerlink" title="cloud-provider-payment8001"></a>cloud-provider-payment8001</h4><h4 id="ÊîπPOM-23"><a href="#ÊîπPOM-23" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--ÂåÖÂê´‰∫Üsleuth+zipkin--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zipkin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-28"><a href="#ÊîπYML-28" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service
  <span class="token key atrule">zipkin</span><span class="token punctuation">:</span>
    <span class="token key atrule">base-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9411</span>
  <span class="token key atrule">sleuth</span><span class="token punctuation">:</span>
    <span class="token key atrule">sampler</span><span class="token punctuation">:</span>
      <span class="token comment">#ÈááÊ†∑ÁéáÂÄº‰ªã‰∫é 0 Âà∞ 1 ‰πãÈó¥Ôºå1 ÂàôË°®Á§∫ÂÖ®ÈÉ®ÈááÈõÜ</span>
     <span class="token key atrule">probability</span><span class="token punctuation">:</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="‰∏öÂä°Á±ª-11"><a href="#‰∏öÂä°Á±ª-11" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h4><h5 id="PaymentController-3"><a href="#PaymentController-3" class="headerlink" title="PaymentController"></a>PaymentController</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/zipkin"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentZipkin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token string">"hi ,i'am paymentzipkin server fall backÔºåwelcome to ctrlÔºåO(‚à©_‚à©)OÂìàÂìà~"</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="ÊúçÂä°Ê∂àË¥πËÄÖ-Ë∞ÉÁî®Êñπ"><a href="#ÊúçÂä°Ê∂àË¥πËÄÖ-Ë∞ÉÁî®Êñπ" class="headerlink" title="ÊúçÂä°Ê∂àË¥πËÄÖ(Ë∞ÉÁî®Êñπ)"></a>ÊúçÂä°Ê∂àË¥πËÄÖ(Ë∞ÉÁî®Êñπ)</h3><h4 id="cloud-consumer-order80"><a href="#cloud-consumer-order80" class="headerlink" title="cloud-consumer-order80"></a>cloud-consumer-order80</h4><h4 id="ÊîπPOM-24"><a href="#ÊîπPOM-24" class="headerlink" title="ÊîπPOM"></a>ÊîπPOM</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token comment">&lt;!--ÂåÖÂê´‰∫Üsleuth+zipkin--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zipkin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="ÊîπYML-29"><a href="#ÊîπYML-29" class="headerlink" title="ÊîπYML"></a>ÊîπYML</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
    <span class="token key atrule">application</span><span class="token punctuation">:</span>
        <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>order<span class="token punctuation">-</span>service
    <span class="token key atrule">zipkin</span><span class="token punctuation">:</span>
      <span class="token key atrule">base-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9411</span>
    <span class="token key atrule">sleuth</span><span class="token punctuation">:</span>
      <span class="token key atrule">sampler</span><span class="token punctuation">:</span>
        <span class="token key atrule">probability</span><span class="token punctuation">:</span> <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="‰∏öÂä°Á±ª-12"><a href="#‰∏öÂä°Á±ª-12" class="headerlink" title="‰∏öÂä°Á±ª"></a>‰∏öÂä°Á±ª</h4><h5 id="OrderController-1"><a href="#OrderController-1" class="headerlink" title="OrderController"></a>OrderController</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"> <span class="token comment">// ====================> zipkin+sleuth</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/zipkin"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentZipkin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#123;</span>
    <span class="token class-name">String</span> result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span><span class="token string">"http://localhost:8001"</span><span class="token operator">+</span><span class="token string">"/payment/zipkin/"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="‰æùÊ¨°ÂêØÂä®eureka7001-x2F-8001-x2F-80"><a href="#‰æùÊ¨°ÂêØÂä®eureka7001-x2F-8001-x2F-80" class="headerlink" title="‰æùÊ¨°ÂêØÂä®eureka7001&#x2F;8001&#x2F;80"></a>‰æùÊ¨°ÂêØÂä®eureka7001&#x2F;8001&#x2F;80</h3><p>‚Äã	80Ë∞ÉÁî®8001Âá†Ê¨°ÊµãËØï‰∏ã</p>
<h3 id="ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆÔºöhttp-localhost-9411"><a href="#ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆÔºöhttp-localhost-9411" class="headerlink" title="ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆÔºöhttp://localhost:9411"></a>ÊâìÂºÄÊµèËßàÂô®ËÆøÈóÆÔºö<a target="_blank" rel="noopener" href="http://localhost:9411/">http://localhost:9411</a></h3><h4 id="‰ºöÂá∫Áé∞‰ª•‰∏ãÁïåÈù¢"><a href="#‰ºöÂá∫Áé∞‰ª•‰∏ãÁïåÈù¢" class="headerlink" title="‰ºöÂá∫Áé∞‰ª•‰∏ãÁïåÈù¢"></a>‰ºöÂá∫Áé∞‰ª•‰∏ãÁïåÈù¢</h4><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-166.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-166.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><strong>Êü•Áúã</strong></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-167.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-167.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h4 id="Êü•Áúã‰æùËµñÂÖ≥Á≥ª"><a href="#Êü•Áúã‰æùËµñÂÖ≥Á≥ª" class="headerlink" title="Êü•Áúã‰æùËµñÂÖ≥Á≥ª"></a>Êü•Áúã‰æùËµñÂÖ≥Á≥ª</h4><blockquote>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-168.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-168.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
<p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-169.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-169.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>
</blockquote>
<h4 id="ÂéüÁêÜ-2"><a href="#ÂéüÁêÜ-2" class="headerlink" title="ÂéüÁêÜ"></a>ÂéüÁêÜ</h4><p><img src="/image/Learn-SpringCloud/Learn-SpringCloud-170.png" class="lazyload placeholder" data-srcset="/image/Learn-SpringCloud/Learn-SpringCloud-170.png" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg"></p>

      </div>
      <div class="post-tags-categories">
        
        <div class="tags">
          
            <a href="/tags/SpringCloud/" class="">
              SpringCloud
            </a>
          
            <a href="/tags/Spring/" class="">
              Spring
            </a>
          
        </div>
        
      </div>
      
        <div class="copyright">
  <ul class="post-copyright">
    <li class="post-copyright-author">
    <strong>‰ΩúËÄÖ:  </strong>ctrl</a>
    </li>
    <li class="post-copyright-link">
    <strong>ÊñáÁ´†ÈìæÊé•:  </strong>
    <a href="/2022/11/22/learn-springcloud/" target="_blank" title="Learn-SpringCloud">http://example.com/2022/11/22/learn-springcloud/</a>
    </li>
    <li class="post-copyright-license">
      <strong>ÁâàÊùÉÂ£∞Êòé:   </strong>
      Êú¨ÁΩëÁ´ôÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñ,ÂùáÈááÁî® <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
      ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§Ñ!
    </li>
  </ul>
<div>
      
    </article>
    <!-- ‰∏ä‰∏ÄÁØáÊñáÁ´†Âíå‰∏ã‰∏ÄÁØáÊñáÁ´† -->
    
      <!-- ÊñáÁ´†ËØ¶ÊÉÖÈ°µÁöÑ‰∏ä‰∏ÄÈ°µÂíå‰∏ã‰∏ÄÈ°µ -->
<div class="post-nav">



  
  <div class="post-nav-prev post-nav-item">
    <div class="post-nav-img" style="background-size: cover; 
      background-position: center center;">
      <img class="lazyload lazyload placeholder" src="/medias/7.jpg" class="lazyload placeholder" data-srcset="/medias/7.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="">
    </div>
    <a href="/2022/11/23/java-concurrent/" class="post-nav-link">
      <div class="title">
        <i class="fas fa-angle-left"></i> ‰∏ä‰∏ÄÁØá:
        <div class="title-text">Java-Concurrent</div>
      </div>
      
      <!-- <div class="content">
        JavaÂπ∂ÂèëÁºñÁ®ãÁ∫øÁ®ãÂπ∂ÂèëÂü∫Á°ÄÂü∫Á°ÄÊ¶ÇÂøµCPUÊ†∏ÂøÉÊï∞ÂíåÁ∫øÁ®ãÊï∞ÁöÑÂÖ≥Á≥ªÊ†∏ÂøÉÊï∞:Á∫øÁ®ãÊï∞&#x3D;1:1 ;‰ΩøÁî®‰∫ÜË∂ÖÁ∫øÁ®ãÊäÄÊúØÂêé‚Äî&
      </div> -->
    </a>
  </div>



  
  <div class="post-nav-next post-nav-item">
    <div class="post-nav-img" style="background-size: cover; 
      background-position: center center;">
      <img class="lazyload lazyload placeholder" src="/medias/15.jpg" class="lazyload placeholder" data-srcset="/medias/15.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" src="" alt="">
    </div>
    <a href="/2022/11/22/learn-springcloud-ali/" class="post-nav-link">
      <div class="title">
        ‰∏ã‰∏ÄÁØá: <i class="fas fa-angle-right"></i>
        <div class="title-text">Learn-SpringCloudAlibaba</div>
      </div>
      <!-- <div class="content">
        Learn-SpringCloudAlibaba
SpringCloud AlibabaÂÖ•Èó®ÁÆÄ‰ªãwhy‰ºöÂá∫Áé∞Spring
      </div> -->
    </a>
  </div>

</div>

    
    

    <!-- ÊâìËµè -->
    
      <div id="appDonate" class="post-donate">
  <div id="donate_board" class="donate_bar center" ref="donate">
    <a id="btn_donate" class="btn_donate" href="javascript:;" title="ÊâìËµè" @click="showDialogDrawer()"></a>
  </div>
  <transition name="fade">
    <div 
      class="donate-box-mask"
      v-cloak 
      v-show="visible"
      @click="cancelDialogDrawer()"
    >
    </div>
  </transition>
  <transition name="bounce">
    <div class="donate-box" v-cloak v-show="visible">
      <div class="donate-box_close">
        <i class="fas fa-times" aria-hidden="true" @click="cancelDialogDrawer" pointer></i>
      </div>
      <div class="donate-box_title">
        <h4>
          ‰Ω†ÁöÑËµèËØÜÊòØÊàëÂâçËøõÁöÑÂä®Âäõ
        </h4>
      </div>
      <div class="donate-box_tab">
        <div class="Alipay" pointer :class="{'active': tabActive === 'Alipay'}" @click="changeTabActive('Alipay')">
          ÊîØ‰ªòÂÆù
        </div>
        <div class="WeChatpay" pointer :class="{'active': tabActive === 'WeChatpay'}" @click="changeTabActive('WeChatpay')">
          ÂæÆ‰ø°
        </div>
      </div>
      <div class="donate-box_img">
        <div class="AlipayImg" v-show="tabActive === 'Alipay'">
          <img src="/medias/zfb.jpg" class="lazyload placeholder" data-srcset="/medias/zfb.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="ÊîØ‰ªòÂÆùÊâìËµè" />
        </div> 
        <div class="WeChatpayImg" v-show="tabActive === 'WeChatpay'">
          <img src="/medias/wx.jpg" class="lazyload placeholder" data-srcset="/medias/wx.jpg" srcset="https://img2.baidu.com/it/u=2037979560,2772131037&fm=26&fmt=auto&gp=0.jpg" alt="ÂæÆ‰ø°ÊâìËµè" />
        </div>
      </div>
    </div>
  </transition>
</div>

<script>
  var body = document.body || document.documentElement || window;
  var vm = new Vue({
    el: '#appDonate',
    data: {
      visible: false,
      tabActive: 'Alipay',
      top: 0,
    },
    computed: {
    },
    mounted() {
    },
    methods: {
      showDialogDrawer() {
        this.visible = true;
        // Èò≤Ê≠¢È°µÈù¢ÊªöÂä®ÔºåÂè™ËÉΩËÆ©ÂºπÊ°ÜÊªöÂä®
        // function getScroll() {
        //   return {
        //     left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0,
        //     top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0
        //   };
        // }
        this.top = $(document).scrollTop() // or getScroll().top
        // console.log('aa', $('.main-content'));
        body.style.cssText = 'overflow: hidden;';
      },
      cancelDialogDrawer() {
        this.visible = false;
        body.removeAttribute('style');
        $(document).scrollTop(this.top)
      },
      changeTabActive(name) {
        this.tabActive = name;
      }
    },
    created() {}
  })
</script>
    

    <!-- ÂàÜ‰∫´ -->
    
      <!-- https://github.com/overtrue/share.js -->
<!-- ÊñáÁ´†ËØ¶ÊÉÖÈ°µÁöÑÂàÜ‰∫´ -->
<div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>ÂæÆ‰ø°Êâ´‰∏ÄÊâ´Âç≥ÂèØÂàÜ‰∫´ÔºÅ</p>"></div>

<script src="/js/shareJs/social-share.min.js"></script>
</script>

<style>
  .social-share {
    margin: 20px 0;
  }
</style>


    
    
    <!-- ËØÑËÆ∫ -->
    <!-- ËØÑËÆ∫ -->

  <div id="myComment">
    
      <div id="gitment-container"></div>

    
  </div>

<!-- comment script in themes\hexo-theme-bamboo\layout\_partial\scripts\index.ejs -->


  </div>

  <!-- ÁõÆÂΩï -->
  <!-- ÊñáÁ´†ËØ¶ÊÉÖÈ°µÂè≥‰æßÁõÆÂΩï -->

  <div class="toc-aside">
    <div class="toc-main">
      <div class="toc-aside-title">
        <i class="fas fa-list-ul" aria-hidden="true"></i><span>Êú¨ÊñáÁõÆÂΩï</span>
        
          <div class="toc-open-close">Êú¨ÊñáÁõÆÂΩï</div>
        
      </div>
      <div class="toc-content">
        <div class="toc"></div>
      </div>
    </div>
  </div>

  <!-- ÊâãÊú∫Á´ØÁõÆÂΩïÊåâÈíÆ -->
  <div id="toc-mobile-btn">
    <i class="fas fa-list-ul" aria-hidden="true"></i>
  </div>
  <!-- jsÂú®scriptsÁõÆÂΩï‰∏ãÁöÑÁöÑtoc.ejsÈáåÈù¢ -->
  

  <script>
    function openBtnClickFn () {
      let openOrCloseBtn = $('.toc-aside .toc-aside-title .toc-open-close');
      let open = eval('' || 'true');
      openOrCloseBtn.click(function() {
        if (open === true) {
          $(".toc-aside").css({'width': 0, 'padding': 0});
          $(".toc-content").css({'width': 0});
          $(".toc-aside-title span, .toc-aside-title i").css({'display': 'none'});
          $(".main-content").css({'width': '75%', 'margin': '10px auto'});
          open = false;
        } else {
          $(".toc-aside").css({'width': '350px', 'padding': '0 10px'});
          $(".toc-content").css({'width': '350px'});
          $(".toc-aside-title span, .toc-aside-title i").css({'display': 'inline-block'});
          $(".main-content").css({'width': '60%', 'margin-right': '10px', 'margin-left': 'calc(40% - 400px)'});
          open = true;
        }
      });
    };
    openBtnClickFn();
    document.addEventListener('pjax:complete', function () {
      openBtnClickFn();
    })
    
  </script>


  <!-- ÂõæÁâáÊîæÂ§ß Wrap images with fancybox support -->
  <script src="/js/wrapImage.js"></script>
</div>

<!-- ÊñáÁ´†ËØ¶ÊÉÖÈ°µËÉåÊôØÂõæ -->
<div id="appBgSwiper" style="position: fixed;left: 0;top: 0;width: 100%;height: 100%;z-index: -2;"
	:style="{'background-color': bgColor ? bgColor : 'transparent'}">
	<transition-group tag="ul" :name="names">
		<li v-for='(image,index) in img' :key='index' v-show="index === mark" class="bg-swiper-box">
			<img :src="image" class="bg-swiper-img no-lazy">
		</li>
	</transition-group>
</div>
<script>
	var vm = new Vue({
		el: '#appBgSwiper',
		data: {
			names: '' || 'fade' || 'fade', // translate-fade fade
			mark: 0,
			img: [],
			bgColor: '',
			time: null
		},
		methods: {   //Ê∑ªÂä†ÊñπÊ≥ï
			change(i, m) {
				if (i > m) {
					// this.names = 'fade';
				} else if (i < m) {
					// this.names = 'fade';
				} else {
					return;
				}
				this.mark = i;
			},
			prev() {
				// this.names = 'fade';
				this.mark--;
				if (this.mark === -1) {
					this.mark = 3;
					return
				}
			},
			next() {
				// this.names = 'fade';
				this.mark++;
				if (this.mark === this.img.length) {
					this.mark = 0;
					return
				}
			},
			autoPlay() {
				// this.names = 'fade';
				this.mark++;
				if (this.mark === this.img.length) {
					this.mark = 0;
					return
				}
			},
			play() {
				let bgImgDelay = '' || '100000'
				let delay = parseInt(bgImgDelay) || 180000;
				this.time = setInterval(this.autoPlay, delay);
			},
			enter() {
				clearInterval(this.time);
			},
			leave() {
				this.play();
			}
		},
		created() {
			this.play()
		},
		beforeDestroy() {
			clearInterval(this.time);
		},
		mounted() {
			let prop = '' || '';
			let isImg = prop.includes('.bmp') || prop.includes('.jpg') || prop.includes('.png') || prop.includes('.tif') || prop.includes('.gif') || prop.includes('.pcx') || prop.includes('.tga') || prop.includes('.exif') || prop.includes('.fpx') || prop.includes('.psd') || prop.includes('.cdr') || prop.includes('.pcd') || prop.includes('.dxf') || prop.includes('.ufo') || prop.includes('.eps') || prop.includes('.ai') || prop.includes('.raw') || prop.includes('.WMF') || prop.includes('.webp') || prop.includes('.jpeg') || prop.includes('http://') || prop.includes('https://')
			if (isImg) {
				let img = prop.split(',');
				let configRoot = '/'
				let arrImg = [];
				img.forEach(el => {
					var Expression = /http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/;
					var objExp = new RegExp(Expression);

					if (objExp.test(el)) {
						// http or https
						arrImg.push(el);
					} else {
						// Èùûhttp or httpsÂºÄÂ§¥
						// Êú¨Âú∞Êñá‰ª∂
						let firstStr = el.charAt(0);
						if (firstStr == '/') {
							el = el.substr(1); // Âà†Èô§Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶ '/',Âõ†‰∏∫ configRootÊúÄÂêé‰∏Ä‰∏™Â≠óÁ¨¶‰∏∫ /
						}
						el = configRoot + el;
						arrImg.push(el);
					}
				})
				this.img = arrImg;
			} else {
				this.bgColor = prop;
			}
		}
	})
</script>

<style>
	.bg-swiper-box {
		position: absolute;
		display: block;
		width: 100%;
		height: 100%;
	}

	.bg-swiper-img {
		object-fit: cover;
		width: 100%;
		height: 100%;
	}
</style>




  <script>
  function loadMermaid() {
    if (document.getElementsByClassName('mermaid').length) {
      if (window.mermaidJsLoad) mermaid.init()
      else {
        loadScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(() => {
          window.mermaidJsLoad = true
          mermaid.initialize({
            theme: 'default',
          })
          if ('true') {
            mermaid.init();
          }
        })
      }
    }
  };
  document.addEventListener("DOMContentLoaded", function () {
    loadMermaid();
  })

  document.addEventListener('pjax:complete', function () {
    loadMermaid();
  })
  
</script>


      </main>
    </div>

    <!-- È°µËÑö -->
    
  
  <div class="footer bg-color">

	<div class="footer-main">
      
        
          <div class="link">
            
          </div>
        
      
        
          <div class="footer-copyright">
            <p>Copyright ¬© 2019 - 2022 <a target="_blank" rel="noopener" href="https://github.com/ctrl-github">ctrl-github</a> | Powered by <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">Hexo</a> | Theme <a target="_blank" rel="noopener" href="https://github.com/yuang01/theme">Bamboo</a> </p>

          </div>
        
      
        
          
            <!-- ‰∏çËíúÂ≠êÁªüËÆ° -->
            <!-- ‰∏çËíúÂ≠êÁªüËÆ° -->
<span id="busuanzi_container_site_pv">
      <i class="fas fa-eye" aria-hidden="true"></i>Êú¨Á´ôÊÄªËÆøÈóÆÈáèÔºö<span id="busuanzi_value_site_pv"></span> Ê¨°
</span>
<span class="post-meta-divider">|</span>
<span id="busuanzi_container_site_uv" style='display:none'>
      <i class="fas fa-users" aria-hidden="true"></i>Êú¨Á´ôËÆøÂÆ¢Êï∞Ôºö<span id="busuanzi_value_site_uv"></span> ‰∫∫
</span>

          
        
      
        
          <div class="footer-custom">
            
          </div>
        
      
    </div>
	<div>
	Â§áÊ°àÂè∑Ôºö<a style="color:#666" target="_blank" rel="noopener" href="http://beian.miit.gov.cn/">	<img class="img" style="border: 0;" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAA5z2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE5LTA5LTIzVDEyOjA5OjI4KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxOS0wOS0yM1QxMjowOToyOCswODowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTktMDktMjNUMTI6MDk6MjgrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjg0OTNiNTZlLWM2MmMtY2I0Zi1hMzBmLWM5ZDk3MGNjZTkyMjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo5MmFhMDM0YS1lMDk3LTc3NDktYWI1YS03ZTJiMTI1MTk2ZjY8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo5MmFhMDM0YS1lMDk3LTc3NDktYWI1YS03ZTJiMTI1MTk2ZjY8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6OTJhYTAzNGEtZTA5Ny03NzQ5LWFiNWEtN2UyYjEyNTE5NmY2PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTA5LTIzVDEyOjA5OjI4KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo4NDkzYjU2ZS1jNjJjLWNiNGYtYTMwZi1jOWQ5NzBjY2U5MjI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTktMDktMjNUMTI6MDk6MjgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjIwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjIyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jh4n+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAATMSURBVHjarNVbbBR1FMfx78zOzs5Od7v3btcuEmgFilyqgNdaBI1cAgUxIWCMikFEjRqJPGh8IRgDLxjReAliFEKMCglJIQSoNcolgjEQAbmUUqC7pbS73XZnd2d3ZmfHB7GKwfji7+08/D/5n+T/P0ewbZv/MxJAme4bRTVQBcZxOvcd4I5FL9YWLp1o/X7fz8+X9LL88GNTtwSnTNl9dtdXicaFS0CuB/pJX9gNQGjcmj/AW2QWsPqLF19vtfVOpaek4gj4Kew894H+Sdt7zY+MbQM+B/b886B4C0zp+Hhrx9Or2pfmileUcR4HK5XrrFZ6eOD+KMH7o9LKVQcfP7B5Qxvg+i8wXjqxfv/7O4ZZvnIsz8az+D49Q/q8RbrLYnjBJyyyTvHatmVs2WVin//sW0D5N7Dx6p63u1oWnGrxN0R5OXyK7h1ZxFF+LM2AUgUh4ufoK0dYqp4g+uBdPLpg78KBw1svAeNvAvNnu5CK+z1t573y8d7pzJuukTuZRbw6jOB34Rq0KB65jnNMCCWnk/ryGEvmGHRcnMj2Q1bMI+TdwTHP3HTDeOWn7zZVBDdIBaq1XrJ94LRMGCwi1KvI0/yI1/LIVEh169QFSyAIZHIiroi0CRgzAl45d/AJI5lsDnhkKLuwYzHCzbXksNEeCGEtj+NZ14T62hTEiErNtDD5ggG2TaxGhcTJWYM9R58bAVVPoDGrmYyNFEEJceCYijS7mvTC0VhJDeHXPIW91zG7h5DXNhN8fSo7t2WAKpomS+S7+ikmuuIjYGWwd2E2IzEprhG/R+aj7VX8sCFB04wYPtVL4UyGSn+J4qkM3uQQp9dfYPM2F9EmP5PrhkklS5iD55pHQFHK+7WsSPXABZbOsSibHsw9fYS+/gWxzokRcVCpkQjPjhHruERqy2nyhoMlrU686U60rITkFZ0jX8+t3t4ujr/cakXrWHGvxqa6CB8lGzF7zhBKdyL63OhnMmgNNSQDMb4R3VDtZ8V9/ZS9cfx3CqiBUXtHQBBr7KxNb5fGpMZu3nljGm+vbWGPNhmyJq2FNEG/yM69XnKoQIA1LynMaOiktxMoFqiUtakjoOQ3ppe9Ucw+k0T/WV5tdrGkvYqOfQXOiVOYO/EiMXeKclsdRkZn1ASVt+Ze5vrRyxRMBSUsI/nlCQCCbduUcsefTB/buEPvMyilTEhcoX5xE66oAlYaKy2R69fxjQnC6BAkUnTvPo/uDeMZ68Fdq+JrWD5TDsz/8U8Qh+B6avD0pg+tou5LHepDqrKpndmINahjFvKIqoISrEKQnaSPdlG2JHzT6zGLpH3jW5bJTrVdDsz/o+VSqgLoyWKfW1eiFV90dgPWcB5Ly4Iq45D9yG4whnLkExmU0SGUeJTSUIFiUrPdo3IY5AgGbjwbB4dxcPjNmru9tc5AjNJwhYolUbEcFAc0sCsY6WFynQMIDicIAsVrKZxukehDsbCsai/IqvbXxHaFZgAszvQe2mgkflshOwpVashFOW+AYOIoDVHWDbwTwjgUB4aeQ6wKIwRqr5al+i2KGnn3phVwIwXglczZ6Dp9eGBeyeyZedvEyMSKJngUvxiU3F60a1x1R/wFqabl5GBXf7t+JXNg9ENU/j4Phf97Sf0+ADr3CMhtMiuNAAAAAElFTkSuQmCC" alt="">
	ÊπòICPÂ§á2022006791Âè∑</a>    

	</div>
    
  </div>



    <!-- Ê∏≤ÊüìÊöóÈªëÊåâÈíÆ -->
    
      <div class="dark">
  <div class="dark-content">
    <i class="fas fa-moon" aria-hidden="true"></i>
    <!-- <span>ÂÖ≥ÁÅØ</span> -->
  </div>
  
</div>

<script>
  $(function() {
    let isDark = JSON.parse(localStorage.getItem('dark'))  || JSON.parse('false');
    if (isDark) {
      $(".dark-content").replaceWith(
          `
          <div class='dark-content'>
            <i class="fas fa-lightbulb" aria-hidden="true"></i>
          </div>
          `
        );
    }
    $('.dark').click(function() {
      if ($(document.body).is('.darkModel')) {
        $(document.body).removeClass('darkModel');
        localStorage.setItem('dark', false);
        $(".dark-content").replaceWith(
          `
          <div class='dark-content'>
            <i class="fas fa-moon" aria-hidden="true"></i>
          </div>
          `
        );
      } else {
        $(document.body).addClass('darkModel');
        localStorage.setItem('dark', true);
        $(".dark-content").replaceWith(
          `
          <div class='dark-content'>
            <i class="fas fa-lightbulb" aria-hidden="true"></i>
          </div>
          `
        );
      }
    })
  })
</script>
    
    <!-- Ê∏≤ÊüìÂõûÂà∞È°∂ÈÉ®ÊåâÈíÆ -->
    
      <div class="goTop top-btn-color" pointer>
  <i class="fas fa-arrow-up" aria-hidden="true"></i>
</div>
<script src="/js/goTop.js"></script>

    
    <!-- Ê∏≤ÊüìÂ∑¶‰∏ãËßíÈü≥‰πêÊí≠ÊîæÂô® -->
    
      <link rel="stylesheet" href="/js/aplayer/APlayer@1.10.1.min.css">
<style>
.aplayer .aplayer-lrc p {
  
  font-size: 12px;
  font-weight: 700;
  line-height: 16px !important;
}

.aplayer .aplayer-lrc p.aplayer-lrc-current {
  
  font-size: 15px;
  color: #42b983;
}


.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
  left: -66px !important;
}

.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
  left: 0px !important;
}


</style>
<meting-js  
  class=""
  server="tencent"
  type="playlist"
  id="8062553743"
  fixed='true'
  autoplay='true'
  theme='#42b983'
  loop='all'
  order='random'
  preload='auto'
  volume='0.7'
  list-folded='true'
>
</meting-js>

<!-- <style>
  #aplayer {
    position: fixed;
    left: 0;
    bottom: 300px;
  }
</style> -->
<script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
    

    <!-- ÂõæÁâáÊîæÂ§ß -->
    
      <script src="/js/fancybox/jquery.fancybox.min.js"></script>
    

    <!-- ÁôæÂ∫¶Ëß£Êûê -->
    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <!-- ËÉåÊôØÂΩ©Â∏¶ -->
    
      <script type="text/javascript" size="100" alpha='0.4' zIndex="-1" src="/js/ribbon.min.js"></script>
    

    <script src="/js/utils/index.js"></script>
    <script src="/js/app.js" data-pjax></script>
    
    <!-- ÊñáÁ´†ÁõÆÂΩïÊâÄÈúÄjs -->
<link href="/js/tocbot/tocbot.css" rel="stylesheet">
<script src="/js/tocbot/tocbot.min.js"></script>

<script>
  var headerEl = 'h1, h2, h3, h4, h5, h6',  //headers 
    content = '.post-detail',//ÊñáÁ´†ÂÆπÂô®
    idArr = {};  //Ê†áÈ¢òÊï∞ÁªÑ‰ª•Á°ÆÂÆöÊòØÂê¶Â¢ûÂä†Á¥¢Âºïid
  //add #id
  var option = {
    // Where to render the table of contents.
    tocSelector: '.toc',
    // Where to grab the headings to build the table of contents.
    contentSelector: content,
    // Which headings to grab inside of the contentSelector element.
    headingSelector: headerEl,
    scrollSmooth: true,
    scrollSmoothOffset: -80,
    headingsOffset: -($(window).height() * 0.4 - 45),
    positionFixedSelector: '.toc-main',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto',
    activeLinkClass: 'is-active-link',
    // onClick: function (e) {},
  }
  if ($('.toc').length > 0) {

    $(content).children(headerEl).each(function () {
      //ÂéªÈô§Á©∫Ê†º‰ª•ÂèäÂ§ö‰ΩôÊ†áÁÇπ
      var headerId = $(this).text().replace(/[\s|\~|`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\_|\+|\=|\||\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\Ôºö|\Ôºå|\„ÄÇ]/g, '');

      headerId = headerId.toLowerCase();
      if (idArr[headerId]) {
        //idÂ∑≤ÁªèÂ≠òÂú®
        $(this).attr('id', headerId + '-' + idArr[headerId]);
        idArr[headerId]++;
      }
      else {
        //idÊú™Â≠òÂú®
        idArr[headerId] = 1;
        $(this).attr('id', headerId);
      }
    });

    document.addEventListener("DOMContentLoaded", function () {
      tocbot.init(option);
      mobileTocClick();
    });

  }

  window.tocScrollFn = function () {
    return bamboo.throttle(function () {
      findHeadPosition();
    }, 100)()
  }
  window.addEventListener('scroll', tocScrollFn);

  const findHeadPosition = function (top) {
    if ($('.toc-list').length <= 0) {
      return false;
    }
    setTimeout(() => {  // or DOMContentLoaded 
      autoScrollToc();
    }, 0);
  }

  const autoScrollToc = function () {
    const $activeItem = document.querySelector('.is-active-link');
    const $cardToc = document.querySelector('.toc-content');
    const activePosition = $activeItem.getBoundingClientRect().top
    const sidebarScrollTop = $cardToc.scrollTop
    if (activePosition > (document.documentElement.clientHeight - 100)) {
      $cardToc.scrollTop = sidebarScrollTop + 150
    }
    if (activePosition < 100) {
      $cardToc.scrollTop = sidebarScrollTop - 150
    }
  }

  document.addEventListener('pjax:send', function () {
    if ($('.toc').length) {
      tocbot.destroy();
    }
  });

  document.addEventListener('pjax:complete', function () {
    if ($('.toc').length) {
      tocbot.init(option);
      mobileTocClick();
    }
  });
  
  // ÊâãÊú∫Á´ØtocÊåâÈíÆÁÇπÂáªÂá∫Áé∞ÁõÆÂΩï
  const mobileTocClick = function () {
    const $cardTocLayout = document.getElementsByClassName('toc-aside')[0];
    const $cardToc = $cardTocLayout.getElementsByClassName('toc-content')[0];
    let right = '45px';
    if (window.innerWidth >= 551 && window.innerWidth <= 992) {
      right = '100px'
    }
    const mobileToc = {
      open: () => {
        $cardTocLayout.style.cssText = 'animation: toc-open .3s; opacity: 1; right: ' + right
      },

      close: () => {
        $cardTocLayout.style.animation = 'toc-close .2s'
        setTimeout(() => {
          $cardTocLayout.style.cssText = "opacity:''; animation: ''; right: ''"
        }, 100)
      }
    }
    document.getElementById('toc-mobile-btn').addEventListener('click', () => {
      if (window.getComputedStyle($cardTocLayout).getPropertyValue('opacity') === '0') mobileToc.open()
      else mobileToc.close()
    })

    $cardToc.addEventListener('click', (e) => {
      if (window.innerWidth < 992) { // Â∞è‰∫é992pxÁöÑÊó∂ÂÄô
        mobileToc.close()
      }
    })
  }
</script>

<style>
  .is-position-fixed {
    position: sticky !important;
    top: 74px;
  }

  .toc-main ul {
    counter-reset: show-list;
  }

  .toc-main ul li::before {
    content: counter(item)".";
    display: block;
    position: absolute;
    left: 12px;
    top: 0;
  }
</style> 

<!-- Ê∏≤ÊüìissuesÊ†áÁ≠æÈáåÁöÑÂÜÖÂÆπ -->
<script>
  function loadIssuesJS() {
    if ($(".post-detail").find(".issues-api").length == 0) {
      return;
    } 
    loadScript('/js/issues/index.js');
  };
  $(function () {
    loadIssuesJS();
  });
  document.addEventListener('pjax:complete', function () {
    if (typeof IssuesAPI == "undefined") {
      loadIssuesJS();
    }
  })
</script>

<!-- ËæìÂÖ•Ê°ÜÊâìÂ≠óÁâπÊïà -->
<!-- ËæìÂÖ•Ê°ÜÊâìÂ≠óÁâπÊïà -->

  <script src="/js/activate-power-mode.js"></script>
  <script>
    POWERMODE.colorful = true;  // ÊâìÂºÄÈöèÊú∫È¢úËâ≤ÁâπÊïà
    POWERMODE.shake = false;    // ÂÖ≥Èó≠ËæìÂÖ•Ê°ÜÊäñÂä®
    document.body.addEventListener('input', POWERMODE);//ÁõëÂê¨ÊâìÂ≠ó‰∫ã‰ª∂
  </script>


<!-- markdown‰ª£Á†Å‰∏ÄÈîÆÂ§çÂà∂ÂäüËÉΩ -->

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/v-plugs-ayu/lib/ayu.css">
  <script src="https://cdn.jsdelivr.net/npm/v-plugs-ayu/lib/ayu.umd.min.js"></script>
  <script src="/js/clipboard/clipboard.min.js"></script>
  <div id="appCopy">
  </div>
  <script data-pjax>
    var vm = new Vue({
      el: '#appCopy',
      data: {
      },
      computed: {
      },
      mounted() {
        const that = this;
        var copy = 'Â§çÂà∂';
        /* code */
        var initCopyCode = function () {
          var copyHtml = '';
          copyHtml += '<button class="btn-copy" data-clipboard-snippet="" style="position:absolute;top:0;right:0;z-index:1;">';
          copyHtml += '<i class="fas fa-copy"></i><span>' + copy + '</span>';
          copyHtml += '</button>';
          $(".post-detail pre").not('.gutter pre').wrap("<div class='codeBox' style='position:relative;width:100%;'></div>")
          $(".post-detail pre").not('.gutter pre').before(copyHtml);
          new ClipboardJS('.btn-copy', {
            target: function (trigger) {
              return trigger.nextElementSibling;
            }
          });
        }
        initCopyCode();
        $('.btn-copy').unbind('click').bind('click', function () {
          doSomething();
        })
        $(document).unbind('keypress').bind('keypress', function (e) {
          if (e.ctrlKey && e.keyCode == 67) {
            doSomething();
          }
        })

        function doSomething() {
          that.$notify({
            title: "ÊàêÂäü",
            content: "‰ª£Á†ÅÂ∑≤Â§çÂà∂ÔºåËØ∑ÈÅµÂÆàÁõ∏ÂÖ≥ÊéàÊùÉÂçèËÆÆ„ÄÇ",
            type: 'success'
          })
        }
      },
      methods: {
      },
      created() { }
    })
  </script>
  

<!-- ÂõæÁâáÊáíÂä†ËΩΩ -->
<script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>


<!-- Âç°ÁâáÊªöÂä®Âä®Áîª -->
   

<!-- ËØÑËÆ∫ÊâÄÈúÄjs -->

  
    <script type="text/javascript">
  var utteranceCommon = {};

  function check_utterance() {
    let isDark = JSON.parse(localStorage.getItem('dark')) || JSON.parse('false');
    if (isDark) {
      utteranceCommon.Theme = 'github-dark';
    } else {
      utteranceCommon.Theme = 'github-light';
    }

    return document.getElementById("gitment-container");
  }
  comment_el = '#gitment-container';
  load_utterance = function () {
    if ($(comment_el).length) {
      // ÂåøÂêçÂáΩÊï∞ÔºåÈò≤Ê≠¢Ê±°ÊüìÂÖ®Â±ÄÂèòÈáè
      const HEAD = check_utterance();

      var utterances = document.createElement('script');
      utterances.type = 'text/javascript';
      utterances.async = true;
      utterances.setAttribute('issue-term', 'pathname')
      utterances.setAttribute('theme', utteranceCommon.Theme)
      utterances.setAttribute('repo', '')
      utterances.crossorigin = 'anonymous';
      utterances.src = 'https://utteranc.es/client.js';
      // content ÊòØË¶ÅÊèíÂÖ•ËØÑËÆ∫ÁöÑÂú∞Êñπ
      document.getElementById('gitment-container').appendChild(utterances);

    }
  }

  function dark_utterance() {
    const HEAD = check_utterance();
    if (!HEAD) return;
    const message = {
      type: 'set-theme',
      theme: utteranceCommon.Theme
    };
    const utteranceIframe = document.querySelector('iframe');
    utteranceIframe.contentWindow.postMessage(message, 'https://utteranc.es');
  }

  $(document).ready(load_utterance);
  document.addEventListener('pjax:complete', function () {
    load_utterance();
  });

  $('.dark').click(function () {
    setTimeout(() => {
      dark_utterance();
    });
  })

</script>

<style>
  .utterances {
    max-width: inherit !important;
  }
</style>
  


<!-- Èº†Ê†áÁÇπÂáªÁâπÊïà -->
<!-- Áà±ÂøÉÁÇπÂáª -->

  
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 999; pointer-events: none;" ></canvas>
    <script src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script>
    <script src="/js/cursor/explosion.min.js"></script>
  




  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" data-pjax></script>


    <!-- pjax -->
    

<!-- pjax -->


  <script src="/js/pjax@0.2.8/index.js"></script>
  
    <!-- Ê†∑Âºè‰Ωç‰∫éÔºösource/css/_third-party/pjaxanimate.styl -->

<div class="pjax-animate">
  
    <div class="loading-circle"><div id="loader-circle"></div></div>
    <script>
      window.ShowLoading = function() {
        $(".loading-circle").css("display", "block");
      };
      window.HideLoading = function() {
        $(".loading-circle").css("display", "none");
      }
    </script>
  
	<script>
    document.addEventListener('pjax:complete', function () {
      window.HideLoading();
    })
    document.addEventListener('pjax:send', function () {
      window.ShowLoading();
    })
    document.addEventListener('pjax:error', function () {
      window.HideLoading();
    })
	</script>
</div>

  

  <script>
    var pjax = new Pjax({
      elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([no-pjax])',   // Êã¶Êà™Ê≠£Â∏∏Â∏¶ÈìæÊé•ÁöÑ a Ê†áÁ≠æ
      selectors: ["#pjax-container","title"],                                   // Ê†πÊçÆÂÆûÈôÖÈúÄË¶ÅÁ°ÆËÆ§ÈáçËΩΩÂå∫Âüü
      cacheBust: false,   // url Âú∞ÂùÄËøΩÂä†Êó∂Èó¥Êà≥ÔºåÁî®‰ª•ÈÅøÂÖçÊµèËßàÂô®ÁºìÂ≠ò
      timeout: 5000
    });

    document.addEventListener('pjax:send', function (e) {

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      $(window).unbind('resize');
      $(window).unbind('scroll');
      $(document).unbind('scroll');
      $(document).unbind('click');
      $('body').unbind('click');

    })
    
    document.addEventListener('pjax:complete', function () {
      $('script[data-pjax], .pjax-reload script').each(function () {
        $(this).parent().append($(this).remove());
      });
    });

    document.addEventListener('pjax:error', function (e) {
      window.location.href = e.triggerElement.href;
    })
    
    // Âà∑Êñ∞‰∏ç‰ªéÈ°∂ÈÉ®ÂºÄÂßã
    document.addEventListener("DOMContentLoaded", function () {
      history.scrollRestoration = 'auto';
    })
  </script>



  </body>
</html>